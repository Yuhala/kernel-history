commit 7508df7c4a61c622fc48c29320f968c0408d3796
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Tue Feb 3 03:36:36 2004 -0800

    Linux 2.6.2 aka "Feisty Dunnart"
    
    See http://www.cse.unsw.edu.au/~gernot/persona/hobbies/dunnart.html
    for more information about Dunnarts, in case you've never heard of
    them before. Courtesy of Gernot Heiser.

commit 8eb736645d5ab51b7d1925236309d7cfbd6a90b4
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Feb 2 21:17:29 2004 -0800

    Warn loudly if somebody passes a negative value as
    the size to "vsnprintf()".
    
    That's a pretty clear case of overflow.

commit 236d2f4990e34083f4d455c859a8aaf65b7e7e1e
Author: Jozsef Kadlecsik <kadlec@blackhole.kfki.hu>
Date:   Mon Feb 2 18:26:40 2004 -0800

    [NETFILTER]: Fix NAT leak with fragmented packets, missing conntrack put in ip_copy_metadata().

commit 862e3994067ce43a0dca8958cba9ebe30f6868ee
Merge: 64a79cf... b25e3a8...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Feb 2 17:41:18 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit b25e3a807dbe1577af0856f613fa0aab91550edc
Merge: 642b7fd... b32b254...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Feb 2 17:38:14 2004 -0800

    Merge bk://kernel.bkbits.net/davem/tg3-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit b32b2542b711ecee102d20c0ecf08944c0a1f11c
Merge: d209818... ef3955c...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Mon Feb 2 17:31:16 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/davem/BK/tg3-2.6
    into kernel.bkbits.net:/home/davem/tg3-2.6

commit ef3955c6dffc3d7e6dd60bacdb7aa675117ad15e
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Mon Feb 2 17:26:50 2004 -0800

    [TG3]: Bump version and reldate.

commit 642b7fde11baa5a2b52ed150e0632c560b14f84e
Author: Len Brown <len.brown@intel.com>
Date:   Mon Feb 2 07:24:16 2004 -0500

    [ACPI] proposed fix for AML parameter passing from Bob Moore
      http://bugzilla.kernel.org/show_bug.cgi?id=1766

commit d209818dd2613797f9be3f2111496efa44d23c86
Merge: b1c76c1... 670f463...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Mon Feb 2 00:08:23 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/davem/BK/tg3-2.6
    into kernel.bkbits.net:/home/davem/tg3-2.6

commit 670f4632df2f51a37d0ec7d01c79dcff9dc68b62
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Sun Feb 1 18:30:47 2004 -0800

    [TG3]: Only fetch NVRAM_CMD reg if TG3_FLAG_NVRAM.

commit 64a79cf284f722e47de6a43ceb80b9170e5ef4ad
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Feb 1 18:19:47 2004 -0800

    [SPARC32]: Kill spurious newline in dmesg output

commit 213a803be0aa67a89d3931ea468f77205e4b5b30
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Feb 1 18:18:07 2004 -0800

    [SPARC32]: Copy full soft PMD in vmalloc fault handler.
    
    sparc_do_fault assumes that pmd_val(*pmd) = pmd_val(*pmd_k) will
    duplicate a PMD entry.  With large soft-PMDs this doesn't work.

commit b237989c9ecf851bb98f1e563817024b7690f4be
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Feb 1 18:16:08 2004 -0800

    [SPARC32]: Align pkmap properly.
    
    Align the pkmap area on a 4MB region so that a single
    large pagetable can be used.  Fixes random killing of
    processes which used high memory.

commit b1c76c1cb272f5dedf0264a58904b544c6ce56fb
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sun Feb 1 02:17:14 2004 -0800

    [PATCH] fix/improve modular IDE
    
    This has been in -mm since 2.6.1-mm5
    
     - IDE can be used as module again (compiles and works),
       this fixes bugzilla bugs #576 and #1700
     - separate module for probing is no longer required
     - generic/default host driver is available as ide_generic module
    
    This contains the build fixes by Adrian Bunk and Andrew Morton.

commit ff9e1135aec3bd1e9230593880e24a018dbdf789
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Feb 1 00:17:10 2004 -0800

    [COMPAT]: Fix TUNSETIFF ioctl compat, it takes an ifreq ptr not an int.
    Thanks to Eric Brower for spotting this.

commit b4e1d7f151a364896215e5a6b02c68f3fddbf720
Merge: a50de1c... 1e5d496...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sat Jan 31 23:34:08 2004 -0800

    Merge nuts.davemloft.net:/disk1/davem/BK/sparcwork-2.6
    into nuts.davemloft.net:/disk1/davem/BK/sparc-2.6

commit a50de1c422207d617a063da7c89d25593c362705
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sat Jan 31 20:50:52 2004 -0800

    [PATCH] fix issues with loading PCI IDE drivers as modules
    
    From: Davin McCall <davmac@ozonline.com.au>
    
    Set hwif->chipset to ide_forced if it was forced by kernel parameters.
    
    Set hwif->chipset to ide_generic for hwifs controlled by generic IDE
    code, so they wont be taken by setup_pci.c:ide_match_hwif().
    
    Patch also fixes /proc/ide/ideX/model to report "generic" instead of
    "(none)" for default hwifs.
    
    This has been in -mm since 2.6.1-mm1.

commit 4a9c380d2bed9fc2dcb9c85b3e4c2807ad65d480
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Jan 31 20:49:23 2004 -0800

    [PATCH] fix the build for NR_CPUS > 4*BITS_PER_LONG
    
    You can't just cast cpumasks.  It doesn't compile if NR_CPUS is greater than
    4 * BITS_PER_LONG.

commit 0b460a61f40e9b5047403c5daaccbc759d4564cf
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Jan 31 22:58:02 2004 -0500

    IEEE1394(r1116): Make sure to unregister addr space when a driver is removed.

commit 52dd1e0407d0f11dd3581798f5906b9120a255b0
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Jan 31 22:56:12 2004 -0500

    IEEE1394(r1112): Adds a "ieee1394_guid" attribute to the scsi device for sbp2.

commit 27e0f0fee9f1388f83d2ec89af14640456ffd583
Merge: 5f99d38... d113a0e...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Sat Jan 31 03:09:56 2004 -0800

    Merge bk://gkernel.bkbits.net/net-drivers-2.5
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 1e5d49626264bfe5bec6e22bc825e5211ba13653
Merge: 4093261... 6f7d8d3...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sat Jan 31 00:53:45 2004 -0800

    Merge nuts.davemloft.net:/disk1/davem/BK/sparcwork-2.6
    into nuts.davemloft.net:/disk1/davem/BK/sparc-2.6

commit d113a0e9e6f5651e1195a126d70b898b13b3d9f6
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Fri Jan 30 21:33:13 2004 -0800

    Make EHCI have a 20ms power-on to power-good timeout.
    
    This should fix some picky USB devices.

commit 4b29eb07dad89c5ca87389265659eedd3bfe56a0
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 20:22:51 2004 -0800

    [PATCH] ppc32: MBX MAC address fix
    
    From Tom Rini <trini@kernel.crashing.org>
    
    On the MBX the kernel made an assumption about where the MAC address would
    be in the VPD (Vital Product Data).  However, the documentation for the
    firmware (EPPC-Bug) describes the format of the VPD and makes no
    guarrantees about the location of any VPD record.  It does however describe
    the format of each record type and the MAC address record will be of type
    '08' and of size 6.  This changes the code so that instead of assuming a
    position, it searches for the record, which I assume is also what EPPC-Bug
    does.

commit 9d3e58e32d6f6b1f5b532c0c8ee11fdcfbfedabd
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Fri Jan 30 19:46:20 2004 -0800

    Upgrade x86 defconfig to something less ancient.

commit 4093261b82b7dbe3be34d38e106a3de9ffffa771
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 18:06:29 2004 -0800

    [PATCH] RAID-6: x86-64 crash workaround
    
    From: "H. Peter Anvin" <hpa@zytor.com>
    
    Apparently, on x86-64, the stack isn't always aligned properly (16 bytes)
    in the kernel at the moment.  This causes the RAID-6 code to crash the
    system.  This patch is a workaround for that; the right thing is to muck
    with the assembly entrypoints to enforce proper stack alignment.  However,
    that's not anything I feel comfortable doing in an evening, especially
    since I don't have a machine on which I can test the resulting kernels.

commit e7d1d6cd8e12e123bb9e70e731f662fbbbe51f53
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 18:05:21 2004 -0800

    [PATCH] s390: sclp bug fixes.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    SCLP console/tty fixes:
    
    - Fix incorrect state change of SCLP_RUNNING flag in interrupt handler
    
    - Suppress emission of empty buffers to prevent stack overflow
    
    - Fix off by one error in sclp_write (used to return # of chars written + 1)
    
    - Prevent sclp_tty_write_string from waiting in interrupt (during flush)
    
    - Fix deadlock after TIOCSCLPSNL ioctl
    
    - Fix sclp_tty_chars_in_buffer calculation

commit e4f06bee55391b48006ee436d7ce808fb6b92801
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 18:04:17 2004 -0800

    [PATCH] s390: inline assembly constraints.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    s390 inline assembly bug-fixes:
    
    - Add memory barriers to spinlocks, atomic variable functions and to
      test_and_{set,clear,change}_bit.
    
    - Add "=m" and "m" contraints to tell gcc that the content of a variable
      is in fact used.
    
    - Replace "+m" constraints by "=m" on the output and "m" on the input list.
    
    - Use c-implemtation for ffz and __ffs.
    
    - Use generic c-implemtation for ffs and fls.

commit 7e9281439b93791b9c4ca77676d3e9a96c8ea621
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 18:03:17 2004 -0800

    [PATCH] s390: general update.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    s390 general update:
    
    - Add archhelp for "make image".
    
    - 32-bit execve fix.
    
    - Export some symbols: sys_ioctl, put_files_struct & ccw_device_work.
    
    - Minor cleanups in arch/s390/mm/init.c & drivers/s390/net/ctctty.c.

commit 36de3f33d2f21e11cc306bee909e3801cfe8d133
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 18:02:26 2004 -0800

    [PATCH] Trivial cleanups to hugepage support
    
    From: David Gibson <david@gibson.dropbear.id.au>
    
    These are some trivial cleanups to the hugepage ppc64 support

commit 0f61dbcdfc9e896119f2c236470f6e3d12fe1197
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 18:01:33 2004 -0800

    [PATCH] ppc64: use CONFIG_MAGIC_SYSRQ around xmon sysrq code
    
    From: Anton Blanchard <anton@samba.org>

commit 326f372c368ddefb3275ce087be603a1f4cfd923
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 18:00:40 2004 -0800

    [PATCH] ppc64: SLB rewrite
    
    From: Anton Blanchard <anton@samba.org>
    
    The current SLB handling code has a number of problems:
    
    - We loop trying to find an empty SLB entry before deciding to cast one
      out.  On large working sets this really hurts since the SLB is always full
      and we end up looping through all 64 entries unnecessarily.
    
    - During castout we currently invalidate the entry we are replacing.  This
      is to avoid a nasty race where the entry is in the ERAT but not the SLB and
      another cpu does a tlbie that removes the ERAT at a critical point.  If
      this race is fixed the SLB can be removed.
    
    - The SLB prefault code doesnt work properly
    
    The following patch addresses all the above concerns and adds some more
    optimisations:
    
    - feature nop out some segment table only code
    
    - slb invalidate the kernel segment on context switch (avoids us having to
      slb invalidate at each cast out)
    
    - optimise flush on context switch, the lazy tlb stuff avoids it being
      called when going from userspace to kernel thread, but it gets called when
      going to kernel thread to userspace.  In many cases we are returning to the
      same userspace task, we now check for this and avoid the flush
    
    - use the optimised POWER4 mtcrf where possible

commit 79c5772415858a62d1bcd2e368abd1e66560f2da
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 17:59:52 2004 -0800

    [PATCH] ppc64: fix && vs & bugs in lparcfg, from Julie DeWandel
    
    From: Anton Blanchard <anton@samba.org>

commit 6d8cdd4b2f88453493962d1a85da4bab79b16c9d
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 17:59:07 2004 -0800

    [PATCH] ppc64: export memchr and csum_partial
    
    From: Anton Blanchard <anton@samba.org>

commit f5786cb050ace564c1dd07a0467d2e224de58937
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 17:58:34 2004 -0800

    [PATCH] ppc64: add/remove config.h
    
    From: Anton Blanchard <anton@samba.org>

commit ea23458e4a33988547bc74addbb18ca7fc853d41
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 17:57:58 2004 -0800

    [PATCH] ppc64: Use preferred_console to select a reasonable default console
    
    From: Anton Blanchard <anton@samba.org>
    
    Lets make a decent attempt to find out where your console is.  The new
    preferred_console stuff is pretty nice.

commit 7892828dcf3b1dd81790e810ecc1ea71c38e945d
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 17:57:29 2004 -0800

    [PATCH] ppc64: defconfig update
    
    From: Anton Blanchard <anton@samba.org>

commit 6016190fc5d9b3f3fcdc2d67c521b0475b8c7c13
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 17:57:06 2004 -0800

    [PATCH] ppc64: missing set_fs(KERNEL_DS) in ppc32_timer_create, from Marcus Meissner
    
    From: Anton Blanchard <anton@samba.org>
    
    Small obvious fix to ppc32_timer_create.  Since sys_timer_create access
    structures we pass on the stack, we need set_fs(KERNEL_DS).

commit 13bbb0504ae0b319dc7082c1a746db622f068f79
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 17:56:46 2004 -0800

    [PATCH] ppc64: fixes for compile with CONFIG_PROC_DEVICETREE=n, from Nathan Lynch
    
    From: Anton Blanchard <anton@samba.org>
    
    - nop out proc_device_tree_add_node if CONFIG_PROC_DEVICETREE=n
    
    - stubs for procfs-related functions when CONFIG_PROC_DEVICETREE=n

commit f18a90120091c8dec478aca861ccbf624d67b1de
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 17:56:28 2004 -0800

    [PATCH] ppc64: lparcfg_write
    
    From: Anton Blanchard <anton@samba.org>
    
    Add lparcfg_write() for changing SPLPAR system parameters

commit d29df610b087713c1e245b3cdd8cbf88e2b1f326
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 17:56:15 2004 -0800

    [PATCH] ppc64: add missing include guards, from Nathan Lynch
    
    From: Anton Blanchard <anton@samba.org>
    
    add missing include guards, from Nathan Lynch

commit a72ffca549526edd29121e06fff5a013773ca9c7
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 30 17:56:03 2004 -0800

    [PATCH] ppc32: watchdog definition fixes
    
    From: Tom Rini <trini@kernel.crashing.org>
    
    Correct the defines for MC146818 RTCs, reg c is interrupts, reg d is not
    watchdog (it's valid time & nvram).

commit 5f99d385f8450d1a567b9fb05f4f078cc6a71bb5
Author: Mirko Lindner <mlindner@syskonnect.de>
Date:   Fri Jan 30 15:11:03 2004 -0500

    [PATCH] sk98lin: Reset Xmac when stopping the port
    
    * Clear the Xmac fifo before stopping the port

commit 7704432ccf8f798830e8543105a548a064f34c71
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Fri Jan 30 01:30:07 2004 -0800

    Linux 2.6.2-rc3

commit 8651ba072f2fe805c21b5346a4bbf06ed23d36b2
Merge: f4cc083... 20abba2...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Fri Jan 30 01:23:53 2004 -0800

    Merge http://xfs.org:8090/xfs-linux-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 20abba2cca5779805a8220a56a71e1ecdc29aac6
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 31 14:43:00 2004 +1100

    [XFS] Sync up some missing header updates from local XFS tree.

commit 2dc452001c3301af96e5d3750f8b4e9d83273cd8
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 31 13:04:45 2004 +1100

    [XFS] Remove no-longer-needed debug symbol exports.

commit 1b7447bf48d9711322191605b3f8bef66c6ab899
Author: Christoph Hellwig <hch@sgi.com>
Date:   Sat Jan 31 12:36:57 2004 +1100

    [XFS] Plug a pagebuf race that got bigger with the recent cleanup
    
    SGI Modid: xfs-linux:xfs-kern:165722a

commit e63a85b63e8f445808d1e9a5e1d168e9996b49b3
Author: Christoph Hellwig <hch@sgi.com>
Date:   Sat Jan 31 12:33:34 2004 +1100

    [XFS] Stop using sleep_on
    
    SGI Modid: xfs-linux:xfs-kern:165673a

commit 876a4fb3540bc66542c2b3632f967552b4c5bd4d
Author: Christoph Hellwig <hch@sgi.com>
Date:   Sat Jan 31 12:29:35 2004 +1100

    [XFS] Don't fail pagebuf allocations
    
    SGI Modid: xfs-linux:xfs-kern:165648a

commit bd997c62b77d1a72ac39e8b7e3595585db342589
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 31 12:25:16 2004 +1100

    [XFS] Add the security extended attributes namespace.
    
    SGI Modid: xfs-linux:xfs-kern:165638a

commit 20bc7252ca14b4311ed255f5859184e86a5d1e28
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 31 12:21:20 2004 +1100

    [XFS] Revert botched merge where KM_NOFS check was unintentionally dropped.
    
    SGI Modid: xfs-linux:xfs-kern:165631a

commit dd68c5dece4306b3a257a1651dd59110eb808c6e
Author: Christoph Hellwig <hch@sgi.com>
Date:   Sat Jan 31 12:17:49 2004 +1100

    [XFS] Simplify pagebuf_rele / pagebuf_free
    
    SGI Modid: xfs-linux:xfs-kern:165500a

commit 9a5c2c0c3f73eee29aac15a26200060d29b7bd6f
Author: Christoph Hellwig <hch@sgi.com>
Date:   Sat Jan 31 12:13:08 2004 +1100

    [XFS] Small ktrace fixes
    
    SGI Modid: xfs-linux:xfs-kern:164115a

commit eb8171b8cb011e3d0455dc44afaeea2e4402dc4f
Author: Russell Cattelan <cattelan@sgi.com>
Date:   Sat Jan 31 12:07:59 2004 +1100

    [XFS] Move bits around to better manage common code.  No functional change.

commit 2c640f57dd9f4fcb284569e914f9d4674e2e149d
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 31 10:54:04 2004 +1100

    [XFS] Fix a warning from some gcc variants after recent flags botch.
    
    SGI Modid: xfs-linux:xfs-kern:165646a

commit 2637a95b85ba6be32607bc72d4e84683c6e5aeaf
Author: Russell Cattelan <cattelan@sgi.com>
Date:   Sat Jan 31 09:47:51 2004 +1100

    [XFS] Christoph has signed over copyrights
    
    SGI Modid: xfs-linux:xfs-kern:165037a

commit f4cc08388419618118df13174a2938faa661c123
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Thu Jan 29 20:13:47 2004 -0800

    [PATCH] PC300 update
    
    This forward ports a few important fixes from the 2.4 driver.  This
    changes have been well tested.
    
    Changelog:
     - Update maintainer email address
     - Mark pci_device_id list with __devinitdata.
     - Set correct protocol type on packet receive (this caused the kernel to
       drop all packets received)
     - Add #ifdef DEBUG around debug printk()
     - ioctl: Add missing size checks before
       copying data from userspace.

commit 6f7d8d3501e8e86f3004b42926b240936e1e75f1
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Jan 29 19:21:01 2004 -0800

    [SPARC64]: Fix wakeup races in power.c, with help from Andrew Morton.

commit 60f63ed07bf9e01a05b9e105ccea3008a47ae305
Merge: ae05f3f... 87eb058...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Thu Jan 29 16:43:00 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-rmk
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 87eb058e699842a294f4bfa64cb08ef20a675b49
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Jan 30 16:25:58 2004 +0000

    [ARM] Remove FP work-arounds.
    
    We used to have code to allow binaries linked against glibc to run,
    when glibc itself contained some FP instructions (for PCS stack
    frames for functions like printf and scanf) thereby allowing FP
    emulators like nwfpe to be built as modules.
    
    This has proved to be unreliable with later compilers, so support
    for this was dropped a while ago.  Since no one complained, we can
    finally remove the dead code.
    
    (NB. a klibc based module-init-tools shouldn't suffer from this
    problem.)

commit db1708fb0469f7968a91aa6dc31db9ef17f43200
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Jan 30 15:51:00 2004 +0000

    [ARM] Add comments for newish functions in cacheflush.h

commit 4abebca310b81db5b010f245786884c34d1428f4
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Jan 30 15:27:03 2004 +0000

    [ARM] Fix bitops pointer qualifiers.
    
    According to x86, the pointers for bitops are supposed to be
    qualified with volatile.  Make ARM bitops reflect this.

commit 41754b1fab9c86a32b6804c6f365ddf3a9783322
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Jan 30 14:49:14 2004 +0000

    [ARM] Eliminate tsk->used_math
    
    Remove usage of tsk->used_math on ARM, moving the status to an array
    of co-processor usage.  (ARM can have up to 15 co-processors
    providing various extra facilities such as SIMD, VFP or FP.)

commit ae05f3fae32be240b8792c48351eefedb128f1f9
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Thu Jan 29 16:41:00 2004 -0800

    Fix sha256 padding block initializer to be static.
    
    Jakub points out that having an automatic array is not only
    bad for performance (and stack usage), gcc has also historically
    had lots of bugs here, and gcc-3.2.3 seems to miscompile it
    otherwise.

commit 586a9edd0761e05d70c1711bfb3e778ecc7146bc
Author: Michael Hunold <hunold@convergence.de>
Date:   Thu Jan 29 16:24:38 2004 -0800

    [PATCH] dvb subsystem and saa7146 v4l fixes
    
    This fixes some issues in the dvb subsystem and some nasty things in the
    v4l saa7146 driver.
    
    [DVB]
     - dvb-core: aquire -> acquire spelling fix
     - nxt600 frontend: don't send zero-byte messages when probing the PLL
       type
     - Kconfig: add a note that says that the CI of the budget-CI card is
       not actually supported by the budget-CI driver
     - ttusb-dec: Check for presence of crc32 function.  Make unknown types
       of packet less likely to cause packet loss.
    
    [V4L]
     - saa7146: use kernel mint_t()/max_t() instead of homebrewn stuff
     - saa7146: disable video clipping before capturing for sure to prevent
       black pictures
     - saa7146: make sure to disable the right video dma upon device close
     - saa7146: don't free resources if disabling an already disabled video
       overlay

commit a71d72ce287f506a799f953d373b554f119ef3a5
Author: Dominik Brodowski <linux@dominikbrodowski.de>
Date:   Thu Jan 29 16:24:26 2004 -0800

    [PATCH] Validate ACPI CPU frequency values
    
    This is a simple fix for some of the problems with bad ACPI frequency values:
    
      Abort if the frequency field in _PSS is zero, as we're having a
      completely broken ACPI table then.
    
    A more complete overhaul of the acpi-cpufreq driver (where the cause of
    the problem lies) is in the latest acpi-test tree, but that's definitely
    something to be delayed for 2.6.3 -- and the same is true for the
    yet-to-be-written do_div64 conversion.

commit 87903ac513143420876cf1310e352a532157e035
Author: Michael Schierl <schierlm@gmx.de>
Date:   Thu Jan 29 06:08:53 2004 -0800

    [PATCH] [APM] Is this the correct way to fix suspend bug introduced
    
    This fixes my APM problems (without them my laptop, Acer TravelMate
    210TEV (Celeron 700, 128 MB RAM), hangs after resuming from APM since
    2.6.0-test4).
    
    Modified based on comments from Pavel Machek <pavel@suse.cz>, who
    has acked the updated patch.

commit 215dd828d4965080b259760bbb940ba5c8f2632d
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Jan 29 01:13:27 2004 -0800

    [PATCH] PCI: fix compiler warning in probe.c cause by PPC patch.

commit 07d880ace2ca07545a6687eecadeedabf8f0aa6f
Author: Kieran Morrissey <kieran@mgpenguin.net>
Date:   Thu Jan 29 01:13:13 2004 -0800

    [PATCH] PCI: pci.ids update
    
    - Replaces pci.ids with a snapshot from pciids.sf.net from 14 Jan 2004

commit 6a1bd1266701eb84c11c5da96ec03fb1c0debc2c
Author: Kieran Morrissey <kieran@mgpenguin.net>
Date:   Thu Jan 29 01:12:59 2004 -0800

    [PATCH] PCI: name length change
    
    - Changes gen-devlist.c to truncate long device names rather than reject
      the database
    - Changes PCI_NAME_SIZE to 96 (and PCI_NAME_HALF to 43) to allow all
      current pci.ids names to fit
    - Modifies gen-devlist.c to truncate at 89 characters rather than 79 -
      allows for two digit instance numbers to be added to the name as well
      while staying within the 96 characters allocated. No names in the
      current pci.ids are any longer than this.
    - Modifies names.c to no longer limit device name length when displaying
      both vendor and device name; the truncation is done by gen-devlist.c.

commit b323e1dfd14fa4fed77f9360f16e80f23ed917f3
Author: John Rose <johnrose@austin.ibm.com>
Date:   Thu Jan 29 00:54:22 2004 -0800

    [PATCH] PCI: Allow pci hotplug drivers to initialize individual devices.
    
    This lets the PPC pci hotplug driver initialize single devices, not just
    entire slots.

commit 66f070bafd53464d330435d4fc549cc7f6dea91c
Author: Leann Ogasawara <ogasawara@osdl.org>
Date:   Thu Jan 29 00:19:53 2004 -0800

    [PATCH] PCI hotplug: pcihp_zt5550.c ioremap/iounmap audit
    
    insert missing iounmap()

commit 68e0f3a0c8af7b2006a850370978455ed67914ab
Author: Ralf Bächle <ralf@linux-mips.org>
Date:   Wed Jan 28 23:38:38 2004 -0800

    [PATCH] PCI: fix probing for some mips systems

commit 1e57188a787601f6ad4fa7970d4540fa41293a7d
Author: Linda Xie <lxiep@us.ibm.com>
Date:   Wed Jan 28 23:35:19 2004 -0800

    [PATCH] PCI Hotplug: add unlimited PHP slot name lengths support

commit 272b06a8ed5f18a44df8d56f1f656c339093fc48
Author: Takayoshi Kochi <t-kochi@bq.jp.nec.com>
Date:   Wed Jan 28 23:34:56 2004 -0800

    [PATCH] PCI Hotplug: add address file and fix acpiphp bugs
    
    This is the pending patch that adds 'address' file to show
    PCI-address and a few other minor fixes.
    As 2.6.0 is out, I'm resending the patch.
    Would you mind taking this?
    
    > > > Thanks.  I had a little time to try your patch today.  Sorry
    > > > to report that it isn't working for me.
    > > >
    > > > I first powered off (successfully the 1st time) a populated slot
    > > > and removed and reinserted the card into the same slot.  The slot
    > > > powered back up but I was then unable to power it off.  I believe
    > > > the following instruction that still exists in power_off_slot()
    > > > may be preventing the slot from being powered off more than once.
    > > >     func->flags &= (~FUNC_EXISTS);
    > > >
    > > > I then tried to insert an adapter in an un-populated slot.  For
    > > > some reason (which I don't understand yet) there was an enabling
    > > > error which I believe caused enable_device() to exit via a path
    > > > that bypassed the instruction that sets the FUNC_EXISTS flag.
    > > > I was then unable to power off the slot which I believe was due
    > > > to the FUNC_EXISTS flag not being set.
    > > >
    > > > I didn't have time to definitely confirmed the above theories.
    > > > I'll take a closer look at this tomorrow unless you are able
    > > > to diagnose using my vague clues :)
    > >
    > > It turns out that both of the above mentioned problems happened
    > > because the call to acpiphp_configure_slot() from enable_device()
    > > failed after inserting the card.  When this happens enable_device()
    > > exits without setting the FUNC_EXISTS flag for any of the slot
    > > functions.  Subsequent attempts to power off the same slot fail
    > > when power_off_slot() is unable to locate a function with both
    > > FUNC_HAS_EJ0 and FUNC_EXISTS flags set.
    > >
    > > The patch works okay when using a card that allows
    > > acpiphp_configure_slot() to succeed but I believe it should
    > > be improved to allow the slot to be powered off following
    > > device enablement errors.
    >
    > Thanks for testing and comments.
    > I really appreciate it.
    >
    > This problem turned out to be somewhat fragile state
    > transition:
    >
    > a lifecycle of a slot is (if there's no error)
    >
    >   function             state
    > ----------------------------------------------------
    > 0                      nothing
    > 1  power_on_slot()  -> SLOT_POWERDON
    > 2  enable_device()  -> SLOT_POWEREDON + SLOT_ENABLED
    > 3  disable_device() -> SLOT_POWEREDON
    > 4  power_off_slot() -> nothing
    >
    > but if any error occur during enable_device(), slot will remain
    > SLOT_POWERDON, but some functions on the card may not have
    > FUNC_EXISTS flags, which will eventually prevents powering
    > off in power_off_slot(), state transition from 1 to 4 directly.
    > I.e, the FUNC_EXISTS flag introduced more states to
    > complicate things.
    >
    > The FUNC_EXISTS flag was introduced after some discussion
    > between me and Irene Zubarev, but it has no more meaning
    > than that the function has corresponding 'pci_dev' structure.
    > So I eliminated the usage of FUNC_EXISTS and the result is
    > the patches attached to this mail (for both 2.4 and 2.6.
    > I think Greg already applied the 2.4 'cleanup' patch to his tree,
    > but it's not in Marcelo's release so I'm re-attaching to
    > this mail for anyone interested in this topic.  It's identical
    > to the one I posted earlier).
    > These patches don't include Gary's patch in his post last week,
    > so please apply separately.
    >
    > Please note that current acpiphp driver cannot handle a
    > PCI card that has a PCI-to-PCI bridge on it (support
    > for such cards is incomplete).  But if it's treated as
    > an error, it should be recoverable anyway.

commit 98e2380e51ff74784165fa4254c17064e7290b9d
Author: Martin Hicks <mort@wildopensource.com>
Date:   Wed Jan 28 23:34:24 2004 -0800

    [PATCH] PCI Hotplug: Trivial warning fix
    
    This just gets rid of a stupid compile warning.

commit 73b6196bef941470fb5245284b03e9e9d9c0ff69
Author: Matthew Wilcox <willy@debian.org>
Date:   Wed Jan 28 22:46:48 2004 -0800

    [PATCH] PCI: fix pci_get_slot() bug
    
    On Wed, Dec 17, 2003 at 04:24:44PM -0800, Greg KH wrote:
    > I've applied the pci portions of this patch to my trees and will send it
    > on after 2.6.0 is out.
    
    James Bottomley found a bug in it; could you also apply:

commit 70d7e12080cf91ba31cc16f78600630bf839a1af
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Wed Jan 28 22:45:26 2004 -0800

    [PATCH] PCI: add .owner field to the config sysfs file to be "correct"
    
    This is in case others copy this code (which has already happened...)

commit 9648e089aaba09d60282558c69e598ae40254160
Author: Matthew Wilcox <willy@debian.org>
Date:   Wed Jan 28 22:32:13 2004 -0800

    [PATCH] PCI: add pci_get_slot() function
    
    tg3.c has a bug where it can find the wrong 5704 peer on a machine with
    PCI domains.  The problem is that pci_find_slot() can't distinguish
    whether it has the correct domain or not.
    
    This patch fixes that problem by introducing pci_get_slot().

commit 68b308e82cafcd64e2a102b410b8db3077aae44d
Author: Matthew Dobson <colpatch@us.ibm.com>
Date:   Wed Jan 28 22:28:51 2004 -0800

    [PATCH] PCI: add pci_bus sysfs class
    
    This is needed to show pci bus topology to userspace properly.

commit 78d65a24de3cb781dae0f604680d48e1a295a641
Author: Matthew Wilcox <willy@debian.org>
Date:   Wed Jan 28 22:26:41 2004 -0800

    [PATCH] PCI Hotplug: Better reporting of PCI frequency / bus mode problems for acpi driver
    
    When plugging a 33MHz card into a bus that's running at 66MHz, I'd like
    to see a better error message than:
    
    acpiphp_glue: notify_handler: unknown event type 0x5 for \_SB_.SBA0.PCI4.S2F0
    
    The following patch would give us:
    
    Device \_SB_.SBA0.PCI4.S2F0 cannot be configured due to a frequency mismatch
    
    which I think is clearer.

commit b2d9626753347dc71cd0213953d8c4ea511e30d5
Author: Rolf Eike Beer <eike-hotplug@sf-tec.de>
Date:   Wed Jan 28 22:26:28 2004 -0800

    [PATCH] PCI Hotplug: Fixup pcihp_skeleton.c
    
    The functions are not named *_skel_*, so it seems useful not to call them with
    this.

commit b5849a353834172c4e11b494aa5df5c7bd37bd55
Author: Russell King <rmk+lkml@arm.linux.org.uk>
Date:   Wed Jan 28 22:26:16 2004 -0800

    [PATCH] Prevent PCI driver registration failure oopsing
    
    Greg,
    
    As discussed about six or so months ago, we agreed to hold off this
    patch until fairly late, due to its ability to catch duplicate PCI
    driver names.  Please note that I haven't attempted to reproduce the
    problem with recent kernels, and that all ARM kernel patches released
    since then have had this patch in.
    
    I'm guessing this will actually be 2.6.1 material since it probably
    doesn't show for PCI drivers which are part of the kernel tree.
    
    
    If pci_register_driver fails, the register the PCI driver structure
    will not be registered with the driver model.  pci_register_driver
    returns with negative value, and we then attempt to unregister the
    driver structure.  This leads to an oops in the driver model.
    
    The driver model does not return the number of devices it successfully
    bound the driver to, and neither does pci_register_driver() return
    this information.
    
    Therefore, all of the code below is redundant.
    
    (There's a little redundancy left in drivers/pci/pci-driver.c but it
    is harmless unlike this block.)

commit 0dc316dee192a2e178d52b2a2324fbe18ed46f1c
Author: David S. Miller <davem@cheetah.(none)>
Date:   Wed Jan 28 19:46:52 2004 -0800

    [SPARC64]: Remove interruptible_sleep_on() usage, with help from Tom Callaway.

commit ad3258ed7380a7eadeb18ab8c9c595846a54b551
Merge: 89a5508... e878a1d...
Author: David S. Miller <davem@cheetah.(none)>
Date:   Wed Jan 28 18:57:39 2004 -0800

    Merge cheetah.(none):/home/davem/src/BK/sparcwork-2.6
    into cheetah.(none):/home/davem/src/BK/sparc-2.6

commit e878a1dd052c69468e148884f675021491175a81
Merge: e85e16f... 6be8477...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Wed Jan 28 05:43:08 2004 -0800

    Merge http://lia64.bkbits.net/to-linus-2.5
    into home.osdl.org:/home/torvalds/v2.5/linux

commit e85e16f57d6d585ba376fc47aa00a56680b43942
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 27 23:54:55 2004 -0800

    [PATCH] cpufreq: fix cpufreq_update_policy
    
    From: Dominik Brodowski <linux@dominikbrodowski.de>
    
    This brown paper bag patch is needed to assure cpufreq_update_policy works
    correctly.
    
    Please apply, else the next ACPI patch will cause trouble with thermal
    management [it needs cpufreq_update_policy to work properly].
    
    Fix a horribly wrong memcpy instruction in cpufreq_update_policy which
    caused it to oops.

commit f145e698fa8d62f2dcf83ee8099bd3f22637514d
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 27 23:54:38 2004 -0800

    [PATCH] pmdisk.c needs utsname.h
    
    From: Torsten Duwe <duwe@suse.de>
    
    pmdisk.c uses struct new_utsname, so give it the header.

commit f925854002d28f6f23bdd827bee698a2443817e8
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 27 23:54:26 2004 -0800

    [PATCH] Fix kernel_flag again
    
    From: Christoph Hellwig <hch@lst.de>
    
    Put kernel_flag back to where it used to be, near its comment and its
    EXPORT_SYMBOL.

commit fa61a25f510539a0c550671844bbd2050697d93b
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 27 23:54:15 2004 -0800

    [PATCH] Fix two warnings on x86-64
    
    From: Andi Kleen <ak@muc.de>
    
    Just fix two warnings on x86-64 that were recently introduced (one by me
    and the other by the sort extable changes)

commit 89a5508e982afdd6e5eca6b5609245363ed42982
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Jan 28 01:12:06 2004 -0500

    [SUNSAB]: Fixup sunsab_receive_chars for when serial console isn't open (no tty)

commit a28efa63b580ed14edc4f8a285380d562a341b68
Author: Dirk Behme <dirk.behme@com.rmk.(none)>
Date:   Tue Jan 27 22:11:07 2004 +0000

    [ARM PATCH] 1749/1: Remove warnings in csumpartialcopygeneric.S
    
    Patch from Dirk Behme
    
    Remove the following warnings from csumpartialcopygeneric.S:
    
    arch/arm/lib/csumpartialcopygeneric.S: Assembler messages:
    arch/arm/lib/csumpartialcopygeneric.S:142: Warning: shift of 0 ignored.
    arch/arm/lib/csumpartialcopygeneric.S:216: Warning: shift of 0 ignored.
    arch/arm/lib/csumpartialcopygeneric.S:268: Warning: shift of 0 ignored.
    arch/arm/lib/csumpartialcopygeneric.S:322: Warning: shift of 0 ignored.
    arch/arm/lib/csumpartialcopygeneric.S:328: Warning: shift of 0 ignored.
    
    This new patch is reviewed by Nicolas Pitre.

commit 741249e9d23875be721a78c2dc0ccd06897bb711
Author: Frank Becker <fb.arm@net.rmk.(none)>
Date:   Tue Jan 27 22:07:35 2004 +0000

    [ARM PATCH] 1748/1: SA Cerfcube update (base+pcmica)
    
    Patch from Frank Becker
    
    Resubmit with updates according to review notes from 1701/1.

commit 123c725fe78d1100d994c3da32014bacd2a0f220
Author: Frank Becker <fb.arm@net.rmk.(none)>
Date:   Tue Jan 27 22:04:31 2004 +0000

    [ARM PATCH] 1747/1: MIssing export for cpufreq
    
    Patch from Frank Becker
    
    cpufreq compiled as module complains:
    
    *** Warning: "sa11x0_getspeed" [drivers/cpufreq/cpufreq_userspace.ko] undefined!

commit 865feb8275c470cbbd67b283d8b8ac3aa64954f4
Author: Frank Becker <fb.arm@net.rmk.(none)>
Date:   Tue Jan 27 22:01:27 2004 +0000

    [ARM PATCH] 1744/1: SA Cerfboard/cube update (flash)
    
    Patch from Frank Becker
    
    Minor updates to cerf flash partitioning.

commit 4b887d8a3d4f6a1cf9d52f627023c3e38b5dd048
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Jan 27 11:25:15 2004 -0500

    [SPARC64]: Add _end and _start to list of sections

commit 32e6f97a7af39145df5d2eba56d4bc96f1e3b95f
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Jan 27 11:23:02 2004 -0500

    [SPARC64]: Changes to accomodate booting from non-phys_base memory

commit 6be84779f740db4088eab4011b26f9149503a4fa
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Tue Jan 27 05:23:19 2004 -0800

    ia64: Implement exception-table sorting for real.

commit cb431d5eea4fae7a444e7dc4501594a0b1560737
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Jan 27 06:25:47 2004 -0500

    head.S:
      Add comment for HdrS ver 0x201

commit e97a5dfccbab51b6dbc6695764e97576edb5e73c
Merge: 01477f1... d94aec2...
Author: Ben Collins <bmc@hopper.(none)>
Date:   Tue Jan 27 05:51:14 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into hopper.(none):/usr/src/kernel/sparc-2.6

commit a7f52de5de1ffa48a4a55558e77aaff2546f61b0
Merge: 8a4ebbc... de0bee2...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Tue Jan 27 01:59:54 2004 -0800

    Merge bk://kernel.bkbits.net/gregkh/linux/usb-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit de0bee2f9c57338fae9a3f46371a6e5a38e9bf23
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Jan 27 01:27:13 2004 -0800

    [PATCH] USB: fix gadget config
    
      - Fix kconfig botch (bk automerge can be rather flakey)
      - The gadgetfs patches going with the kconfig cleanups

commit 8a4ebbc888481682c23c755717e2f1992de326b8
Merge: 959ab1d... bef8725...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Jan 26 23:46:52 2004 -0800

    Merge bk://kernel.bkbits.net/gregkh/linux/i2c-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit bef8725731bc3d556b3f8ba246cd5343447716ef
Merge: 01477f1... ed5b010...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 26 22:50:36 2004 -0800

    Merge kroah.com:/home/greg/linux/BK/bleed-2.5
    into kroah.com:/home/greg/linux/BK/i2c-2.6

commit 959ab1dc46b4ae87bc7d19b8602c42862542fc04
Merge: 01477f1... 6afd205...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 26 22:50:05 2004 -0800

    Merge kroah.com:/home/greg/linux/BK/bleed-2.5
    into kroah.com:/home/greg/linux/BK/usb-2.6

commit ed5b010d707721971feb3b199c23f3f526607c5e
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 26 22:46:05 2004 -0800

    [PATCH] I2C: remove printk() calls in lm85, and clean up debug logic.

commit 66a38d0a35d2e37cf0ef98fd66bec1e151db769b
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Jan 26 22:38:29 2004 -0800

    [PATCH] I2C: Bring lm75 and lm78 in compliance with sysfs naming conventions
    
    Here is a patch that brings the lm75 and lm78 drivers in compliance with
    sysfs naming conventions. The drivers as found in existing 2.6 kernels
    do not have a digit appended to the temperature-related files names as
    the sysfs naming conversion recommends (obviously because they each have
    a single temperature channel). As a result, libsensors won't find the
    files.
    
    It was discussed on the list wether a '1' should be appended in this
    case, and our conclusion was that it would be better to do so because it
    helps automatic processing of the sysfs exported files. Please apply if
    you agree with this.

commit 6afd205508a28c2a40c1e7747235d2bc2065ed02
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Jan 26 22:37:40 2004 -0800

    [PATCH] USB: Update sound/usb/usbaudio.c
    
    On Tue, 27 Jan 2004, Greg KH wrote:
    
    > Hm, can you send me a patch to fix up snd_usb_extigy_boot_quirk() in
    > sound/usb/usbaudio.c now that this patch broke that code?  :)
    
    Here it is.  The problem with changing things in the core is always that
    you may miss some of the repercussions.  In this case the patch will
    restore the code's original functionality.
    
    However the whole thing looks a bit creaky to me.  Changing device
    descriptors and who knows what else without informing usbcore isn't a good
    idea.  What this code _really_ appears to need is some form of
    usb_device_reenumerate().  Such a function would fit very nicely into the
    framework I've worked out for the revised usb_device_reset(); maybe I'll
    add it in there.  It would do essentially the same thing as device_reset
    except for skipping the actual port reset.

commit 01477f1cd26768296f4c19c2d1592f8c3b97d9f1
Author: Martin Hicks <mort@wildopensource.com>
Date:   Mon Jan 26 15:55:57 2004 -0800

    [PATCH] Remove sn2 debug printk
    
    I accidentally left a debug printk in the sn2 timer_interrupt().

commit 94261f384b176b5e9fe4e2d887f600a3dfcf87dd
Merge: 8687231... ee66a46...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Jan 26 06:09:58 2004 -0800

    Merge http://linux-acpi.bkbits.net/linux-acpi-release-2.6.2
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 868723101927ebaa8f64ee9bf2a0afa9768f0267
Merge: ebaef79... 573d821...
Author: Len Brown <len.brown@intel.com>
Date:   Mon Jan 26 07:19:13 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.1
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.2

commit 573d821f52beb79c8db084917bb21b365f6d583d
Merge: 9cbe400... 3a464ad...
Author: Len Brown <len.brown@intel.com>
Date:   Mon Jan 26 07:16:11 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.0
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.1

commit 3a464adcef8d20942f30ab146175e302088ce948
Author: Len Brown <len.brown@intel.com>
Date:   Mon Jan 26 06:55:20 2004 -0500

    [ACPI] handle system with NULL DSDT and valid XDSDT
            from ia64 via Alex Williamson

commit 9f9507344cbfefba7a02aaa824449249f23d670b
Author: Len Brown <len.brown@intel.com>
Date:   Mon Jan 26 05:57:00 2004 -0500

    [ACPI] move zero initialized data to .bss
    	from Jes Sorensen

commit 4b61f684b40096548e64c75fa25c5a7b9370f778
Author: Len Brown <len.brown@intel.com>
Date:   Mon Jan 26 05:29:59 2004 -0500

    [ACPI] on SCI allocation failure, don't mistakenly free IRQ0
    	from Jes Sorensen

commit b6655cd4b5e149ccb370e76e3b78c6b8ea72afc0
Author: Len Brown <len.brown@intel.com>
Date:   Mon Jan 26 04:48:36 2004 -0500

    [ACPI] fix ACPI spec URL in comment - from Randy Dunlap

commit ee66a4618d1a1362732cb0d09e410742c060e95e
Merge: b6f995c... b9ac224...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Jan 26 01:45:37 2004 -0800

    Merge http://lia64.bkbits.net/to-linus-2.5
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 962fd3324214498f04377c2947d8bd1091e0cd3c
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Jan 26 01:12:05 2004 -0800

    [PATCH] USB: Fix DMA coherence when reading device descriptor

commit 6e8339b971ff30c5150acfdbef9a04d8c2362f6d
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Jan 26 01:11:51 2004 -0800

    [PATCH] USB: Don't dereference NULL actconfig
    
    This patch fixes a simple error in a couple of utility routines.  They
    will no longer try to dereference a NULL actconfig pointer.  Also, they
    will work a little better if the configuration is changed while they are
    running (which should never happen anyway).

commit a900ea5e63800bf167b212b5901130dff6dd6093
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Jan 26 00:58:46 2004 -0800

    [PATCH] I2C: Add ADM1025EB support to i2c-parport
    
    The following patch adds support for the ADM1025 evaluation board to the
    i2c-parport (and i2c-parport-light) driver(s). In fact, it happens that
    it was already supported as an ADM1032 evaluation board, so it is just a
    matter of documenting it correctly.

commit b9ac22457b17a5ac3766e18067f6f8c726d4bc4d
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Jan 26 00:56:00 2004 -0800

    Move exception table sorting much earlier.

commit 9b79ea416a62a24b5d306681052d004ee8690a79
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Mon Jan 26 00:54:59 2004 -0800

    [PATCH] USB Storage: revert freecom dvd-rw fx-50 usb-ide patch
    
    This is not needed, and messes up working devices.

commit b6f995ccf5ef80e52ab34bb9f3f8832c30c94f38
Author: Stéphane Eranian <eranian@hpl.hp.com>
Date:   Mon Jan 26 00:49:28 2004 -0800

    [PATCH] ia64: fix icc compilation

commit 5e231b6b6b1b28278301df3d5b9293055fbfb816
Author: Arjan van de Ven <arjanv@redhat.com>
Date:   Mon Jan 26 00:46:29 2004 -0800

    [PATCH] usb: remove some sleep_on's
    
    sleep_on must die.... and it fixes a few races too ;)

commit e82e16d35e1b947679972137feb35922f6624915
Author: Dave Jones <davej@redhat.com>
Date:   Mon Jan 26 00:46:10 2004 -0800

    [PATCH] USB: fix suspicious pointer usage in kobil_sct driver.

commit 0ad7e0c6d01f44311b809b567bbc8eace0854c1c
Author: Grant Grundler <iod00d@hp.com>
Date:   Mon Jan 26 00:29:24 2004 -0800

    [PATCH] ia64: enable PIOW/DMAR relaxed ordering on ZX1

commit 2f0e497d94dd950eaf2e9ea0c85e175fdc15d092
Author: Andreas Schwab <schwab@suse.de>
Date:   Mon Jan 26 00:24:43 2004 -0800

    [PATCH] ia64: Fix xbow.c compilation
    
    This fixes a conflicting declaration in xbow.c.

commit 707abc72dbb9fa21f322d2f85971e8e797afc563
Author: Matthew Chapman <matthewc@cse.unsw.edu.au>
Date:   Mon Jan 26 00:21:05 2004 -0800

    ia64: Fix ptrace infrastructure some more so that strace'd sigreturn()
    	works without trashing any registers.

commit dc56486079df533c7a49f4742a9ac05f66b9ca38
Author: James Simmons <jsimmons@infradead.org>
Date:   Sun Jan 25 22:49:50 2004 -0800

    [PATCH] fbdev documentation patch
    
    This updates the framebuffer docs to reflect the requirement that all
    driver names must end in fb.

commit 15e7820e971b0ffe1199fa116116ec21fb89620e
Author: James Simmons <jsimmons@infradead.org>
Date:   Sun Jan 25 22:49:42 2004 -0800

    [PATCH] fbdev booting fix.
    
    [FBCON] Fixed the order of which driver is used for the console. Before
    the api change the last driver loaded became the default one. Now this is
    not the case.

commit f2c9fde1d88c6c55429606b1b79bf0f595b35bd9
Merge: 3cd681b... 56dbd72...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Sun Jan 25 21:33:07 2004 -0800

    Merge bk://kernel.bkbits.net/davem/irda-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 56dbd72703f79f9461b84d92466744e2c33613f7
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Sun Jan 25 21:20:30 2004 -0800

    [IRDA]: Mark init/exit functions of drivers static to fix build.

commit 3cd681bae4360e2f67ef9b232db28e13319f1c17
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 25 21:13:21 2004 -0800

    [PATCH] kbuildL fix cscope index generation
    
    From: Sam Ravnborg <sam@ravnborg.org>
    
    cscope expect to find the list of files used for the database in a file
    named cscope.files.  Generate this file as part of 'make cscope'.  This
    solves http://bugme.osdl.org/show_bug.cgi?id=1948.

commit 92fb1eff04583774e2fc77d0a9c293522ad1b840
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 25 21:12:28 2004 -0800

    [PATCH] Fix CONFIG_DEBUG_SPINLOCK on UP
    
    The spinlock debugging feature is supposed to work even on uniprocessor
    kernels.  So we need to instantiate kernel_flag regardless of CONFIG_SMP.

commit df6d08619234ddbc962eae66de8a8f3eeb9a49e9
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Sun Jan 25 20:33:14 2004 -0800

    [IPV6]: Fix TCP socket leak, do not grab socket reference when adding to main hashes.

commit 9337a35722b65b186f590413c54a0f0eeb82975f
Merge: e67eee8... 390611c...
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Sun Jan 25 20:04:15 2004 -0800

    Merge tiger.hpl.hp.com:/data1/bk/vanilla/linux-2.5
    into tiger.hpl.hp.com:/data1/bk/lia64/to-linus-2.5

commit 626c7c3596d157f4b813e9750ad1a9562bce0318
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Jan 25 17:49:27 2004 -0800

    [PATCH] USB: add ohci support for OMAP controller
    
    Patch came from the omap kernel tree at http://linux-omap.bkbits.net/

commit e67eee8619c521eee00cd6c8e2b984b304d831a1
Author: Andi Kleen <ak@suse.de>
Date:   Sun Jan 25 16:52:24 2004 -0800

    [PATCH] Fix error checking in IPC_SET
    
    The LSM changes broke the error checking for queue lengths in IPC_SET. The LSM check would
    set set err to 0, but the next check expected it to still be -EPERM. Result was that
    no error was reported, but the new parameters weren't correctly set.

commit 11329cff229f6493fc76ec30a02b8dbfba9e9426
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Sun Jan 25 07:57:14 2004 -0800

    [TG3]: Fix DMA test failures.
    
    1) Do not reset subcomponents.  GRC reset takes care of it.
    2) Improve test by verifying the data on the card too.
    3) Do not set DMA_RWCTRL_ASSERT_ALL_BE on chips where the
       meaning of this bit is different.

commit d94aec20ad5930d1fbd9a906cb8fd549858f2eff
Merge: 7a63bfc... 911c9c5...
Author: Ben Collins <bmc@hopper.(none)>
Date:   Sun Jan 25 07:04:35 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into hopper.(none):/usr/src/kernel/sparc-2.6

commit 76c403c4f23900a937fe72a3ef5ce25d7f561689
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Sun Jan 25 02:28:26 2004 -0800

    Linux 2.6.2-rc2

commit 401dcad18db7524c39a2a5cad67c5459d76af1c2
Merge: 7a63bfc... b3c2a3a...
Author: Ben Collins <bmc@hopper.(none)>
Date:   Sun Jan 25 06:55:24 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into hopper.(none):/usr/src/kernel/linux-2.6

commit b3c2a3a4cd75096a67b395d2a6ab02ed60a6c7df
Author: Ben Collins <bcollins@debian.org>
Date:   Sun Jan 25 00:47:51 2004 -0500

    [IDE]: Fix compilation warning

commit 911c9c5066eb07f3e426cd5c483895e59fa132bf
Merge: 62e1982... 8c6ca75...
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Jan 24 05:44:58 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/sparc-2.6

commit 7a63bfcdbf096f55cdc10d32da4d1746da2bf3ba
Merge: 0c65a1c... 5fc8735...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Fri Jan 23 23:18:02 2004 -0800

    Merge bk://gkernel.bkbits.net/misc-2.5
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 0c65a1c24ba386557debfa13539d926156f9ca34
Merge: 1974c84... 33d176e...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Fri Jan 23 22:37:41 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-serial
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 33d176e7aae335237fc9da55bc340c7c6ae627c4
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sat Jan 24 21:54:48 2004 +0000

    [SERIAL] Use tty_name() when printing the tty name.

commit 59debc62e781e7eb7286aa970a927d52b9609cb8
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sat Jan 24 21:23:50 2004 +0000

    [SERIAL] Fix missing NULL check
    
    tty->driver_data or state->port may end up being NULL in uart_close.
    Make sure that we correctly clean up in this case, rather than
    oopsing.

commit 811a9c611b9f0ea3fad80c329318b4eae23120ba
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sat Jan 24 21:07:44 2004 +0000

    [SERIAL] Eliminate a couple of redundant tests
    
    There is no way that tty can be NULL in uart_put_char() and
    uart_write().  Eliminate these redundant tests.

commit 1974c841f30ba1bdf335a0ae0afe3515a61501be
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 23 22:06:23 2004 -0800

    [PATCH] i8042 timer fix
    
    From: Jim Collette <jim@hamachi.net>
    
    There's an exit path in i8042_interrupt() which forgets to rearm the timer.
    It can make the mouse die when X is started.

commit 511566a586c20216612cf14c50c60c98750e2e8c
Merge: 149fe5a... 01de90d...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Fri Jan 23 22:01:13 2004 -0800

    Merge bk://kernel.bkbits.net/davem/irda-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 149fe5a21b9be623673ebe60bc09cf38f0b97a5b
Merge: dd0b67b... 62e1982...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Fri Jan 23 22:00:24 2004 -0800

    Merge bk://gkernel.bkbits.net/net-drivers-2.5
    into home.osdl.org:/home/torvalds/v2.5/linux

commit dd0b67bbf71bf22f5c49a519afdf2907d87c8fc2
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Sat Jan 24 06:02:30 2004 -0500

    [PATCH] Make xircom cardbus handle shared irq
    
    Current driver doesn't do shared irq properly.  When testing on
    a laptop here irq 3 get shared between pcmcia slot and tty/IRDA

commit ae9dfacaca5ce7be7ad75aec2fbc938fcf6fa21a
Author: Hirofumi Ogawa <hirofumi@mail.parknet.co.jp>
Date:   Sat Jan 24 05:57:20 2004 -0500

    [netdrvr 8139cp] fix NAPI race
    
    Andreas Happe <andreashappe@gmx.net> writes:
    > my notebook (hp/compaq nx7000) still crashes when using 8139cp (runs
    > rock solid with 8139too driver). The computer just locks up, there is no
    > dmesg output. This has happened since I've got this laptop (around
    > november '03).
    
    It seems 8139cp.c has the race condition of rx_poll and interrupt.
    
    NOTE, since I don't have this device, patch is untested. Sorry.

commit 01de90d74cf42e72f48bd36b3a8e19bf88aa67ac
Merge: 62e1982... aff55ff...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Fri Jan 23 21:47:53 2004 -0800

    Merge davem@nuts.ninka.net:/disk1/davem/BK/irda-2.6
    into kernel.bkbits.net:/home/davem/irda-2.6

commit 62e198242805169589749d34d5f6cbbbc171d203
Merge: c23b851... 2d87533...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Fri Jan 23 21:04:35 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit c23b85103a9285e8d06244743480346aa325eda8
Author: Panagiotis Issaris <panagiotis.issaris@mech.kuleuven.ac.be>
Date:   Fri Jan 23 20:01:05 2004 -0800

    [PATCH] Graphire3 support
    
    I got a Wacom Graphire3 for my birthday and unfortunately it didn't
    work. After some playing around, I noticed the 2.6 kernel needs a few
    small modifications to make it work.
    
    This simple patch adds support for the Wacom Graphire 3.

commit 65d24f117fd1d5c2c68f1fa4f5361dd8d52f8fdc
Merge: b0e7124... e8d2250...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Fri Jan 23 19:51:17 2004 -0800

    Merge bk://linux-scsi.bkbits.net/scsi-for-linus-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit e8d2250bbb444580ac0e1df6564122d95e70fc26
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Jan 24 00:03:44 2004 -0500

    [PATCH] aha1542 warning fix
    
    Fix this:
    
    drivers/scsi/aha1542.c:74: warning: unsigned int format, different type arg (arg 5)

commit c468b1f11bd9d138a01abfa921023d6153f0fe12
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 24 00:02:35 2004 -0500

    aic7xxx parallel build
    
    From: 	Justin T. Gibbs <gibbs@scsiguy.com>

commit 86eac8863fcda3df4d4a38c60edf30d8b100ee21
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Fri Jan 23 23:57:02 2004 -0500

    drivers/scsi/Kconfig URL update: resource.cx
    
    From: 	Petri Koistinen <petri.koistinen@iki.fi>

commit 114881e161534b0b942e9a12e2ba2524ab6b1140
Author: Mark Haverkamp <markh@osdl.org>
Date:   Fri Jan 23 23:54:17 2004 -0500

    [PATCH] Fix for aacraid and high memory on 2.6.1
    
    Here is an update to use pci_set_consistent_dma_mask.  But since
    dma_alloc_coherent uses dma_mask instead of consistent one, I left in
    setting dma_mask as well until the alloc routine changes.

commit b0e712406159bd429b0a6f3ddc7f81b71dffe5e4
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 23 19:36:50 2004 -0800

    [PATCH] request_firmware(): use del_timer_sync()
    
    Avoid a possible timer deletion race.

commit 4b4447c99849dad49a7d9ac223e68e9e957fecd2
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 23 19:36:41 2004 -0800

    [PATCH] The RAW_GETBIND compat_ioctl fails
    
    From: James Cross <jscross@veritas.com>
    
    The RAW_GETBIND compatibility ioctl call does convert properly between the
    32bit/64bit version of raw_config_request due to a trivial error, and the
    ioctl call fails.

commit a10c01a986ec36ad88009f6e14722594695650c9
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 23 19:36:32 2004 -0800

    [PATCH] DMI update fix
    
    From: Dave Jones <davej@redhat.com>
    
    Fix typo in the recent 2.4 DMI sync-up.

commit c391f3703a1f902a34138bc60c4ad335450477f8
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 23 19:36:23 2004 -0800

    [PATCH] Array overindexing in w9968cf
    
    From: Jean Delvare <khali@linux-fr.org>
    
    There are 24 members of this array.

commit dff11c5e1b121258518441af174a2fb073f2fdbd
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 23 19:36:15 2004 -0800

    [PATCH] pdc202xx_new.c: fix PDC20270/1 init on the Xserve Apple machines
    
    From: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    
    From: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    
    Fix initialization of the PDC20270/1 chipsets on the Xserve Apple machines.

commit 81d6f6f8d4bf81f5b20513a4dda12a03c24a17cf
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 23 19:36:06 2004 -0800

    [PATCH] IDE build fix
    
    From: Arkadiusz Miskiewicz <arekm@pld-linux.org>
    
    Both drivers/ide/legacy and drivers/ide/ppc broke because they can no
    longer include drivers/ide/timing.h.  Fix.
    
    (Acked by Bart)

commit debe916c06f902ce48a4d66aedcc0934352063fd
Author: Andi Kleen <ak@suse.de>
Date:   Fri Jan 23 18:46:55 2004 -0800

    [PATCH] Kconfig fixes for x86-64
    
    x86-64 using drivers/Kconfig requires some minor changes. Mostly to disable drivers
    that do not work.
    
    - Mark paride bpck6 not 64bit clean
    - Disable I2O on 64bit
    - Mark PNP dependent on ISA
    - Mark NSP32 driver as not 64bit clean

commit ab4a30420dcffc4c1cd406f70e97d050b5b06240
Author: Andi Kleen <ak@suse.de>
Date:   Fri Jan 23 18:46:40 2004 -0800

    [PATCH] x86-64 merge
    
    Mainly lots of bug fixes and a few minor features. One change is that
    it uses drivers/Kconfig now like i386. This requires a few minor changes in
    outside Kconfig files which I am sending separately.
    
     - Tighten/fix some code in NUMA node discovery
     - Fix oopses in threaded 32bit coredumps and read correct registers.
     - Merge with 2.6.2rc1
     - Sync arch/x86_64/Kconfig with i386. Uses drivers/Kconfig now.
     - Remove bcopy export
     - Fix check for signal stack for 32bit signals
     - Fix bcopy and exit prototypes for gcc 3.4
     - Fix asm contraint in usercopy.c for gcc 3.4
     - Use rt_sigreturn, not sigreturn for rt sigreturns.
     - Pass si_fault address to 32bit
     - Truncate si_error to 16bit in 32bit emulation to match i386
     - Move IA32 flag switching for 32bit executables to flush_thread
       (code copied from ppc64/sparc64)
     - Print exception trace for strace too, share code.
     - Default to 3GB address space for a.out executables
     - Fix security hole in ptrace. Also fixes some problems with 32bit gdb.
     - Sync mmap address selection algorithm with mm/mmap.c version
     - Disable a.out coredumps completely
     - Fix bug in sigaltstack 32bit emulation. Kylix IDE now works.
     - Move errata 93/BIOS workaround into fault handler.  This should work
       around USB legacy BIOS bugs too, although not completely (we cannot fix
       faults injected by SMM into user space 64bit processes)
     - Quieten some unimplemented 32bit syscall warnings and avoid repeated
       warnings.
     - Set LDT segment limit correctly (fixes problems with some modify_ldt
       user)
     - Remove obsolete ldt rw lock.
     - Remove sys32_modify_ldt. The standard sys_modify_ldt is equivalent.
     - Remove traces of old kgdb support
     - Merge CFI changes from Jim Houston and some other smaller changes The
       kernel assembly functions are described with dwarf2 unwind
       information now, which makes it easier for debuggers to make sense of
       stack backtraces.  The code is only enabled with CONFIG_DEBUG_INFO.
       Note this implies that when you use CONFIG_DEBUG_INFO you may need
       an binutils update.
     - defconfig updated
     - Readd sleep support code (Pavel Machek)
     - Drop fusion and flush workarounds from IOMMU code
     - Add iommu=nofullflush option
     - Rewrite 32bit emulation for siginfo conversion (Joe Korty)
     - Allow remapping of scatterlists after unmap. This fixes some problems
       with the SCSI layer retrying previously mapped sg lists when iommu
       merging was enabled (it's disabled now by default)
     - Port HPET rtc device emulation code from i386

commit c0ade016d059a32c60c7e96fba8a03372e4f553f
Merge: 0544dff... dba5b97...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Fri Jan 23 18:42:01 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 2d875337a5b5d71761d070f9bda8390fc1d9c575
Author: Hideaki Yoshifuji <yoshfuji@linux-ipv6.org>
Date:   Fri Jan 23 18:10:03 2004 -0800

    [IPV6]: Fix several comment spelling errors and typos.

commit 03cc059d0f037423c91854f4342427b8a7978ddc
Author: James Morris <jmorris@redhat.com>
Date:   Fri Jan 23 18:08:59 2004 -0800

    [IPSEC]: Guard against potentially fatal stack usage for auth_data.

commit 08506b24bc2676346bdb2b065b6b6fc3de0803ed
Author: Bart Samwel <bart@samwel.tk>
Date:   Fri Jan 23 18:07:26 2004 -0800

    [NET]: Return 'unsigned char *' from *skb_pull*() routines.

commit b022a38e133a00b3077a0b249a797b885e82defc
Author: David Stevens <dlstevens@us.ibm.com>
Date:   Fri Jan 23 17:59:08 2004 -0800

    [MULTICAST]: multicast loop with include filters fix
    
    When sending a multicast and using looping back a copy to the
    local machine, the interface filter checks can be done before the
    source address is specified. For an INCLUDE filter, this won't match
    the allowed sources and the packets won't be delivered locally,
    even when the ultimate source address chosen is in the allowed list.
    
    The patch below fixes the filter checks for both IGMPv3 and MLDv2
    to only apply when a source address is available.
    
    Thanks to Steven Hessing for reporting the problem and providing
    a test case for reproducing it.

commit 8c6ca755b514256f124dd0174f09ad523b9db646
Merge: 672ab41... 18aa769...
Author: Ben Collins <bcollins@debian.org>
Date:   Fri Jan 23 14:29:21 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/sparc-2.6

commit d4becc82fb783de0c27a41bf7e6f8ee88159b7a2
Author: Len Brown <len.brown@intel.com>
Date:   Fri Jan 23 13:48:11 2004 -0500

    [ACPI] acpi_bus_add() ignored _STA's return value
      from Bjorn Helgaas

commit aff55ff2592de1e7ef55504c58331b1ecf9b71ba
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Fri Jan 23 06:46:51 2004 -0800

    [IRDA]: Kconfig changes to enable new drivers into the build, from Martin Diehl.

commit e12fdce22f8c8fdb02c77c6cd9ad479d8af6bb7d
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Fri Jan 23 06:44:15 2004 -0800

    [IRDA]: Add old_belkin-sir driver.
    
    From Martin Diehl.
    
    * converted for new api from old driver

commit dd954703a21e034913f0995eff5e94123d1ec3ac
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Fri Jan 23 06:43:27 2004 -0800

    [IRDA]: Add mcp2120-sir driver.
    
    From Martin Diehl.
    
    * converted for new api from old driver

commit fe7e1549745e3d1a6aca0e333e6d320251041df3
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Fri Jan 23 06:42:34 2004 -0800

    [IRDA]: Add ma600-sir driver.
    
    From Martin Diehl.
    
    * converted for new api from old driver

commit 0c412a1a93b9b2f5e590f1924368ca87ddf5a9b3
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Fri Jan 23 06:41:37 2004 -0800

    [IRDA]: Add girbil-sir driver.
    
    From Martin Diehl.
    
    * converted for new api from old driver

commit 1d154df7be5ea64dfffb19e9f1343c0df210acf7
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Fri Jan 23 06:40:32 2004 -0800

    [IRDA]: Add act200l-sir driver.
    
    From Martin Diehl.
    
    * converted for new api from old driver

commit 2e37f1dab11b0ba4a658302084ed1bf1802a4d4a
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Fri Jan 23 06:39:09 2004 -0800

    [IRDA]: Add litelink-sir driver.
    
    From Eugene Crosser.
    
    * converted for new api from old driver
    
    From Martin Diehl.
    
    * convert to de-virtualized sirdev helpers
    * set dongle to 9600 in case of invalid speed instead leaving it in
      unknown configuration

commit 95575e349f245739f1ef176275630613d1e35ac8
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Fri Jan 23 06:36:26 2004 -0800

    [IRDA]: Update tekram-sir driver.
    
    From Martin Diehl.
    
    * increase default write-delay to 150msec
    * convert to de-virtualized sirdev helpers

commit 87bcdb9fc23e0f35a7636c5515037af280836f33
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Fri Jan 23 06:35:55 2004 -0800

    [IRDA]: Update esr-sir driver.
    
    From Martin Diehl.
    
    * convert to de-virtualized sirdev helpers
    * add probably missing dongle power-up operation

commit 9f25b56562038496ed7e567490978b26d15eeab9
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Fri Jan 23 06:35:14 2004 -0800

    [IRDA]: Update actisys-sir driver.
    
    From Martin Diehl.
    
    * convert to de-virtualized sirdev helpers
    * improve error path during speed change

commit d992ac713287c3631f979800e1d130c67a2778b0
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Fri Jan 23 06:34:22 2004 -0800

    [IRDA]: Update dongle api.
    
    From Martin Diehl.
    
    * change dongle api such that raw r/w and modem line helpers are directly
      called, not virtual callbacks.

commit 390611cbee10ce9680f3f066f88a97849775d505
Author: Martin Hicks <mort@wildopensource.com>
Date:   Fri Jan 23 05:57:14 2004 -0800

    ia64: remove old sn1 machvec header file

commit dba5b97271af682d407abef60e65ecc70af01e4d
Author: Michael Hunold <hunold@convergence.de>
Date:   Fri Jan 23 01:39:20 2004 -0800

    [PATCH] Fix up 'linux-dvb' maintainers entry
    
    We've created a new e-mail address which is currently an open
    mailing-list anybody can subscribe to.
    
    It's currently watched by the main developers.  If spam takes over the
    list, we might change it to "moderated" or even route it to one single
    person.

commit 22657bf75b8b3f98430e59680e9aafc6f39baf9f
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jan 23 01:36:47 2004 -0800

    [PATCH] remove mt rainier warning
    
    A debug printk was left in there by mistake, it'll get printed for every
    non-mrw drive. So kill it.

commit 656306bc2a114888e95ce8ce37d71aefa1c4344b
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Fri Jan 23 01:34:09 2004 -0800

    ia64: Fix merge error: remove duplicate NR_CPUS.

commit 6a9093cfd6a2a15321a92b73aa63058fc6a34b81
Merge: 672ab41... a0c17f0...
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Fri Jan 23 01:28:36 2004 -0800

    Fix merge conflict.

commit 0544dff935404d95a4a5f29794e8db244bc941b8
Merge: 672ab41... f8a5d3f...
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Fri Jan 23 01:20:17 2004 -0800

    Merge nuts.ninka.net:/disk1/davem/BK/sparcwork-2.6
    into nuts.ninka.net:/disk1/davem/BK/sparc-2.6

commit f3c6ff2376077b34e878b33793224f768d7ba51d
Author: Jean Delvare <khali@linux-fr.org>
Date:   Fri Jan 23 01:14:52 2004 -0800

    [PATCH] I2C: Fix bus reset in i2c-philips-par
    
    This patch fixes the bus reset in i2c-philips-par when it is loaded with
    type!=0. For now, the reset is always made as is type==0. I guess that
    this driver will be abandoned in a while, but it probably doesn't hurt
    to fix that.

commit 752bbff1d71686c5b628471746723ab1bb2f273e
Author: Jean Delvare <khali@linux-fr.org>
Date:   Fri Jan 23 01:14:38 2004 -0800

    [PATCH] I2C: undo documentation change
    
    Undo a recent change to the i2c documentation. The change belongs to
    2.7.

commit e290625e8d4a4f4496bfb6675feddb4f31dc4f1d
Author: Mark M. Hoffman <mhoffman@lightlink.com>
Date:   Fri Jan 23 01:14:22 2004 -0800

    [PATCH] I2C: i2c-piix4.c bugfix
    
    This patch fixes a "Trying to release non-existent resource" error that
    occurs during rmmod when the device isn't actually present.  It includes
    some other cleanups too: error paths, whitespace, magic numbers, __devinit.

commit 94ffac86b5dfbb3d5d2ec989560c1cb3821011dd
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Jan 22 23:58:08 2004 -0800

    [PATCH] USB: fix up whiteheat syntax errors from previous patch.

commit f7e3fb9dfc90ac52f6f8be8e18c26e916e4c63f6
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Thu Jan 22 23:56:53 2004 -0800

    [PATCH] USB Storage: unusual_devs update
    
    On Mon, 19 Jan 2004, Simon Levitt wrote:
    
    > Hi,
    >
    > In order to get the card reader on my Epson Stylus Photo 875DC working in
    > linux I've added the following to unusual_devs.h - like the Epson 785EPX it
    > returns Sub=0xff.
    
    Greg, this can be applied to 2.4 and 2.6.

commit 8c9e7aa10a1cd240d5f8f89e959e242ea0bc0744
Author: Oliver Neukum <oliver@neukum.org>
Date:   Thu Jan 22 23:56:38 2004 -0800

    [PATCH] USB: fix dma to stack in ti driver
    
    you cannot use usb_bulk_msg() on buffers on the stack.

commit 2852f0fee5b1098f33e475155463838c8153a8cf
Author: Oliver Neukum <oliver@neukum.org>
Date:   Thu Jan 22 23:56:17 2004 -0800

    [PATCH] USB: fix whiteheat doing DMA to stack
    
    the whiteheat driver in two places does DMA to the stack by usb_bulk_msg().

commit b4f61c63c36547d8f97e45267e3223e041c91dc6
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Jan 22 23:39:54 2004 -0800

    [PATCH] USB gadget: serial driver config update
    
    There's a properly assigned vendor/product ID pair for this; use it.
    Use new boolean CONFIG_* symbols.  For PXA/IXP, use the first two
    endpoints.

commit feea32cfbcc9d02c42af311723b055b593cbed12
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Jan 22 23:39:36 2004 -0800

    [PATCH] USB gadget: ethernet config updates
    
    Autoconfigure ep0 maxpacket size, and simplify configuration
    for device power consumption.  Use new boolean CONFIG_* symbols.
    SuperH UDC support.

commit 0944bf45491cb24d5de855a28be66603894ba4d4
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Jan 22 23:39:21 2004 -0800

    [PATCH] USB gadget: zero config updates
    
    Use new boolean CONFIG_* symbols.

commit ee4cefc7dcbc67e0daaf2e5f57530d0eeb4556b5
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Jan 22 23:39:05 2004 -0800

    [PATCH] USB gadget: config/build updates
    
    This updates and simplifies the kernel config for the gadget
    drivers.  It also adds build support for three new drivers:
    two controllers (goku_udc, pxa2xx_udc) and one gadget driver
    (file_storage).

commit 23a070c9db2e444360f05cf69b33c8248b03bc06
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Jan 22 23:38:49 2004 -0800

    [PATCH] USB gadget: add File-backed Storage Gadget (FSG)
    
    (From Alan Stern.)
    
    The File-backed Storage Gadget provides support for the USB Mass Storage
    protocol.  It causes a gadget to appear to the host as a USB disk drive,
    using a regular file or a block device to provide the necessary storage
    somewhat like the "loop" device.  The driver supports up to 8 Logical
    Units, appearing to the host as multiple disks, each configurable
    independently for read-write or read-only access.  The settings for the
    Logical Units are available through sysfs attribute files.
    
    The driver has a testing version, selectable by a kernel configuration
    option.  The test version includes many additional module parameters,
    allowing the USB protocol, subclass, vendor, product, and release values
    to be set.  It also has an option to emulate removable media, and the
    sysfs interface allows the backing files and the read-only settings to be
    switched on-the-fly.  In both versions several logging and debugging
    levels are available.  They provide a nice way of seeing exactly what
    commands a USB host is sending to the gadget.

commit 6b41272dd80d8ec8dc8e2a0b56593956a3bc1a6b
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Jan 22 23:38:26 2004 -0800

    [PATCH] USB gadget: net2280 controller updates
    
    A variety of fixes:
    
        - Resolves some problems with DMA chaining.  It should stream
          a lot better now; but not all the funky cases are handled yet.
    
        - Now "use_dma_chaining" is a module parameter not a #define.
          It also defaults to false.  Some gadget drivers will work fine
          with this enabled, getting some IRQ reduction and increased
          I/O parallelism (given deep I/O queues); others won't.
    
        - Handle isochronous transfers (from Mark Huang at Broadcom)
    
        - Some of the chiprev 0100 workarounds weren't quite right.
          Neither were buffer allocations on dma-incoherent systems.
    
        - Handle bulk endpoint halts better, for file_storage gadget driver.
    
        - Handle the hardware device status bits better:
            * selfpowered by default, clearable with the API;
            * remote wakeup disabled by default, host must enable it.
    
        - Fix a shutdown problem seen in some statically linked configs.
    
    Needed to use the new file_storage gadget without disabling DMA.

commit 75c732d968a1d823fc8fc9376368d6ce48753af3
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Jan 22 23:01:38 2004 -0800

    [PATCH] USB: fix up emi drivers Kconfig dependancy

commit be726b4bd294a58d479e55b85c0aa0d425e49e2c
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Jan 22 22:51:29 2004 -0800

    [PATCH] USB storage: remove info sysfs file as it violates the sysfs 1 value per file rule.

commit a0c17f063c261f498c5a7e74eb7eeb5cba889f1c
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Thu Jan 22 22:44:01 2004 -0800

    ia64: Patch by Jesse Barnes: remove unnecessary set_affinity handler.

commit 413d6648a70005cd151787b5473f80c18a782e85
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Thu Jan 22 22:23:41 2004 -0800

    [PATCH] ia64: remove MCA (MicroChannel) cruft
    
    MCA_bus is now referenced only when CONFIG_MCA is set,
    so we should be able to remove the definition from ia64.

commit 77de0fa30476a69a09884c091276da7289d5fe90
Author: Martin Hicks <mort@wildopensource.com>
Date:   Thu Jan 22 22:23:03 2004 -0800

    [PATCH] ia64: add platform_timer_interrupt() hook

commit 7cb237b1bd3c96b944a3fb1e16c475350351f731
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Thu Jan 22 21:17:29 2004 -0800

    ia64: Fix typo in comment in asm-ia64/posix_types.h.

commit ebaef79ad1ba848b3af195e8a0db18e80424e21c
Merge: c6f1cfe... c860941...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Jan 22 23:26:24 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.2
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.2

commit f8a5d3f58f7ebc83484369a6f7f94d3d0a890abb
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Jan 22 19:58:16 2004 -0800

    [SUNZILOG]: Fix locking in cases where UART layer has grabbed the lock already.

commit 672ab41e9381b6418cbdf17b39b51ffd64d07792
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Jan 22 19:00:26 2004 -0800

    [PATCH] Fix CPU hotplug in networking
    
    The code directly accessed the "cpucontrol" semaphore used
    for CPU hotplug. That doesn't work all that well, since the
    semaphore doesn't even exist on UP.

commit 8e06d66f96ee60bc5d65cb305f03bb72b8a01da4
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Thu Jan 22 18:52:32 2004 -0800

    ia64: Drop copyright notices on header files which are either entirely trivial
    	or ended up being trivial variations of another file.  Fix some
    	missing attributions and rephrase existing attributions for specifity.

commit 37b5d10afebe0d7c405543e925e7a010ddceb1f8
Merge: 7a272c6... d1ca66c...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Thu Jan 22 17:28:36 2004 -0800

    Merge bk://bk.phunnypharm.org/linux-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 7a272c66115f213c86f101716ecfdc8acb8d7470
Merge: ddcb7c1... c860941...
Author: Ben Collins <bcollins@debian.org>
Date:   Fri Jan 23 00:17:15 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/linux-2.6

commit d1ca66cc9b8e58229bc89e92421a3d08d890807b
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Jan 22 16:41:04 2004 -0800

    [PATCH] md: Fix possible hang in raid shutdown.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    If a raid array was syncing on shutdown, it would hang on shutdown,
    constantly re-entering md_enter_safemade.  This fixes it.

commit ced9eac270ac5c893e8ebaccbc8036fd1b165311
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Thu Jan 22 16:39:54 2004 -0800

    Fix up he.c misuse of pci_pool_create() that
    slipped in.

commit a08f4f75a446b8a664a70cebb0fdc2bf3e66a232
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 22 16:23:29 2004 -0800

    [PATCH] Update post-halloween doc url.
    
    I did a s/2.5/2.6/ a while ago, as it made more sense when 2.6 appeared.
    The old URL will continue to work (symlink to the new file).  If I move
    this again, whack me.

commit 345c87392ce5221d93a9a5a9cc58806c014a8e79
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 22 16:15:49 2004 -0800

    [PATCH] DMI updates from 2.4
    
    A lot of the blacklists never made it forward, here's what I found
    still lying around in my old 2.5 tree when I brought it up to date.
    
    I think 2.4 has had more updates since then (and there may be
    some entries languishing in vendor 2.4 trees), I'll take a peek
    when I get some spare cycles.

commit a9b47deaed8f637e0730765e1b990d1ba079e806
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 22 16:14:52 2004 -0800

    [PATCH] logic error in XFS
    
    Yet another misplaced ! by the looks..

commit 19e86c2dd65d063ad1e619e84f5328007a3248cb
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 22 16:14:09 2004 -0800

    [PATCH] logic error in radeonfb.
    
    Looks like another instance of a ! in the wrong place.

commit b659e78c781cc47af07158f21b15b18e0b01c90d
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 22 16:13:27 2004 -0800

    [PATCH] Remove useless cruft from ATM HE driver.
    
    Echoing changes done in 2.4. (It now has a pci_pool_create backport).

commit 1ed0cdc20167bf25f6706bace655edca12813687
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 22 16:12:48 2004 -0800

    [PATCH] Correct CPUs printout on boot.
    
    This currently prints out the maximum number of CPUs the
    kernel is configured to support, instead of the actual
    number that the kernel brought up. Which results in odd
    displays that look like you have more CPUs than you do.

commit 1a11fdedacb3f02b12b00777cdb7cddfc6d6c19f
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 22 16:12:09 2004 -0800

    [PATCH] Reduce stack usage in ttusb driver.
    
    ARM_PACKET_SIZE is 4KB. Ouch.

commit e6021d0a1b787d110dd38a471369ef4ab5ad2ede
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 22 16:11:38 2004 -0800

    [PATCH] Remove unused CONFIG symbol.
    
    Grep of the tree only turned up these two uses.

commit 13ca3217b7701fdac0286936be1780379028a1b8
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 22 16:11:10 2004 -0800

    [PATCH] logic error in aty128fb
    
    Negate the expression not the register seems more sensible?

commit 0ee1eb36501d3aab40585e990a19aafa438e2890
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 22 16:10:47 2004 -0800

    [PATCH] Restore 2.4 MTRR feature.
    
    If the CPU doesn't support MTRRs, don't create a /proc/mtrr

commit 7ac8e36e18db0ae9bd4f64a9cb62e76bf30797de
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 22 16:10:25 2004 -0800

    [PATCH] Reduce stack usage in w9966 driver.
    
    2KB onstack allocation. Nasty.

commit fd036b30fd307af96d1f840c017175e6b20b89ce
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 22 16:10:08 2004 -0800

    [PATCH] OOSTORE needs MTRR.
    
    The centaur CPU init code gets linking errors without it.

commit 3e2a6ba2d1b16e1673741a0874aaab0ce7bca81a
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 22 16:09:56 2004 -0800

    [PATCH] PCI probing typo

commit c0816a5008e5713d64895c87d2e3d9453b73eb31
Merge: 66cb679... 5b3597e...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Thu Jan 22 16:06:30 2004 -0800

    Merge http://xfs.org:8090/xfs-linux-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 5b3597e4f5934369aa113c1de5c01f17a07ad6bb
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Sat Jan 24 14:41:38 2004 +1100

    [XFS] Fix for large allocation groups, so that extent
    sizes will not overflow pagebuf lengths.
    
    SGI Modid: xfs-linux:xfs-kern:164827a

commit 97b6a0d47888513210927be5f4fed2e34c242500
Author: Dean Roehrich <roehrich@sgi.com>
Date:   Sat Jan 24 14:38:25 2004 +1100

    [XFS] In xfs_bulkstat, we need to do the readahead loop always.
    
    SGI Modid: xfs-linux:xfs-kern:164517a

commit 66cb679e17cf5730917cff2559412518ecd167f1
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Jan 22 16:04:53 2004 -0800

    [PATCH] Fix rq_for_each_bio() macro again
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    Looks like an obvious typo.  Works fine if "bio" is the name of the
    iterator.

commit 65941fabe35694bae0a68e1ce8a9c5239298e90e
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Jan 22 16:04:44 2004 -0800

    [PATCH] ppc32: Fixes to the signal context code
    
    From: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    
    This patch (which has been in my tree for some time now) does 2 things to
    the ppc32 signal code:
    
    - The new sys_swapcontext() syscall that we added recently (and which is
      _not_ yet used by glibc, so it's ok to change it slightly at this point,
      glibc kernel version check will limit us to 2.6.2 or 2.6.3) gets a new
      context size argument, so we can deal with future context size changes.
    
    - When ucontext is get/set/swapped using the above syscall, the TLS (r2)
      is preserved (it's still saved/restored on signal entry & return though).
    
    The equivalent of this patch is already in the ppc64 signal32.c emulation,
    and it has no effect until glibc is updated to use the new syscall, which
    should happen soon now, so please apply.

commit 91498a9a86448a95429a896db1114ca43fe3ce26
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Jan 22 16:04:36 2004 -0800

    [PATCH] RAID-6 fix for IA-64
    
    From: "H. Peter Anvin" <hpa@transmeta.com>
    
    Fix for RAID-6 on IA-64, from Bjorn Helgaas, and verified by me.

commit 1632d2e442dea50a7cd338a5a589264b3203d6f7
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Jan 22 16:04:26 2004 -0800

    [PATCH] LSI Logic MegaRAID3 PCI ID
    
    From: Chris Meadors <clubneon@hereintown.net>
    
    Add a missing PCI ID.

commit c6f1cfe6a18ed3920afcba441ac8ec624e32a9f6
Merge: db69295... 9cbe400...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Jan 22 15:24:17 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.1
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.2

commit 9cbe400a85077220807f4cbf4f0fa5dfba19b05c
Merge: 500c09c... 28abb66...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Jan 22 15:21:25 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.0
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.1

commit 18aa76993966a74aab37751393f69d8b0fa267ec
Merge: 5554b6f... c860941...
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Jan 22 07:09:22 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/sparc-2.6

commit ec2dc11c359baeb9ed9d290d088cbd3e959ca00d
Merge: c860941... 0a32dc4...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Thu Jan 22 00:01:30 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit c8609416f38fb3d89ca554a4c436c71cbd398681
Author: Mikael Pettersson <mikpe@user.it.uu.se>
Date:   Wed Jan 21 22:11:46 2004 -0800

    [PATCH] non-integrated local APIC LVTT init compatibility
    
    Add back the old i82489DX bits to use timer scaling for the old
    non-integrated APIC setup.
    
    It's possible these bits don't need to be set on i82489DXs,
    but not having this HW for testing I elected to maintain
    the old behaviour on these old machines.

commit db6929565485dd509304bd65e254b726f967fbb4
Merge: 9fdb253... ead89f2...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Jan 22 00:38:36 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.2
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.2

commit 514c8533e10123e5430aa94ff70144234a043f70
Author: Suresh B. Siddha <suresh.b.siddha@intel.com>
Date:   Wed Jan 21 19:18:45 2004 -0800

    [PATCH] ia64: replace inline assembly in sn2 code

commit 0a32dc4d8e83c48f7535d66731eb35d1916b39a8
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Wed Jan 21 18:14:37 2004 -0800

    [NET]: Simplify net/flow.c per-cpu handling.
    
    The cpu handling in net/core/flow.c is complex: it tries to allocate
    flow cache as each CPU comes up.  It might as well allocate them for
    each possible CPU at boot.

commit a81a6a075b001e2f0658be4c28445218a9e68c8d
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Wed Jan 21 18:08:36 2004 -0800

    Fix APIC timer initialization.
    
    We used to write fields that were marked RESERVED and that
    are apparently some old stale timer base. Stop doing that.
    
    Verified with Mikael Pettersson, and confirmed to fix ACPI
    boot-time lockups for a few people.

commit 07f3741092fc068d09b5c4dd042f4cb8b52f643d
Author: Ville Nuorvala <vnourval@tcs.hut.fi>
Date:   Wed Jan 21 18:04:13 2004 -0800

    [IPV6]: addrconf_sysctl_forward_strategy() needs to invoke rt6_purge_dflt_routers() too.

commit 2004bed7eae90b5cae513bc711c038a850d17f73
Merge: 2e18152... f2f9960...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Wed Jan 21 17:46:23 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-pcmcia
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 2e18152b97d33c7692e8d6a08c495c1ecde0af86
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Jan 21 16:15:37 2004 -0800

    [PATCH] ppc64: include i2c in config
    
    ppc64 doesn't use drivers/Kconfig (it should) so it needs to include i2c by
    hand.

commit 32a43f83815bfea9ae455b1d2c6a8ba4cd21b181
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Jan 21 16:15:28 2004 -0800

    [PATCH] ppc64: add missing sched_balance_exec() call
    
    From: Anton Blanchard <anton@samba.org>
    
    We were missing the sched_balance_exec call.  Could explain some NUMA
    scheduling weirdness we were seeing.

commit f27f09c36ef9b1d5654434234548f159e6ee493c
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Jan 21 16:15:18 2004 -0800

    [PATCH] document RAID-6 support in mdadm-1.5.0
    
    From: "H. Peter Anvin" <hpa@zytor.com>
    
    This is purely a doc patch saying RAID-6 support is available in
    mdadm-1.5.0 and the patch is no longer necessary.

commit 85227cef2a2391cd7452fba040b7e4395bc4da72
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Jan 21 16:15:09 2004 -0800

    [PATCH] RAID-6 fixes
    
    From: "H. Peter Anvin" <hpa@zytor.com>
    
    As expected, when it hit mainline I started getting real bug reports...
    the attached patch does the following:
    
    - Fixes a few x86-64 specific bugs;
    
    - Removes MMX and SSE-1 from x86-64 (if we have x86-64 we have SSE-2);
    
    - Slightly astracts the integer code to make it easier to add
      architecture-specific optimizations later (e.g.  IA64 once gcc gets
      better IA64 intrinsics support);
    
    - Resurrects the user-space testbench, and makes it not output the known
      false positive of the D+Q case (D+Q is equivalent to a RAID-5 recovery,
      so I didn't implement it in the user-space testbench.)

commit 8776d039e1a8b4a8483dc310037bad286671708a
Merge: fd9f193... 8d8e5f7...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Wed Jan 21 16:03:13 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit fd9f19346bcca2d68514c31aa0cf7428c4d6b39d
Author: Ville Nuorvala <vnourval@tcs.hut.fi>
Date:   Wed Jan 21 06:38:52 2004 -0800

    [IPV6]: Add and use new 'strict' parameter to ip6_chk_addr().
    
    RFC 2461 requires that the source address of Neighbor Discovery messages
    is an address assigned to the sending interface.
    
    Duplicate Address Detection should also be interface specific. We don't,
    for example, want a node to DoS itself just because it has two interfaces
    on the same link and both happen to listen to the same multicast group. If
    there is a true duplicate on the link, the interface doing DAD will notice
    it anyway.
    
    The attached patch adds a 'strict' parameter to ip6_chk_addr() and
    ip6_get_ifaddr() to allow link-local protocols like ND and DAD to do
    strict address checks even on addresses with greater scope than
    link-local.

commit 8d8e5f7e7592ab1fbe80adbb7758b1155e975601
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Wed Jan 21 06:28:56 2004 -0800

    [SPARC64]: Add missing sched_balance_exec() to 32-bit compat execve().

commit 6716de099817112470bdcf5b689868ad167721cc
Author: Chas Williams <chas@cmf.nrl.navy.mil>
Date:   Wed Jan 21 06:19:54 2004 -0800

    [ATM]: [horizon] avoid warning about limited range of data type

commit 77e54f16fc11af2c9207297ab8ea5ed18e37a144
Author: Krishna Kumar <krkumar@us.ibm.com>
Date:   Wed Jan 21 06:18:33 2004 -0800

    [IPV6]: Explicity set *dst to NULL at top of ip6_dst_lookup().

commit 31b4b6810987025ee446f6ded5152e8ebfb17f01
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Jan 21 06:16:11 2004 -0800

    [IPV6]: More missing sysctl table sentinels in addrconf.c

commit b0b5c6cd7dc1556f237a59124dd7911094553b75
Author: Ville Nuorvala <vnourval@tcs.hut.fi>
Date:   Tue Jan 20 22:14:20 2004 -0800

    [IPV6]: Fix link-local address check in datagram.c

commit f90af5ca3f49b4f434a89755ca56cdc386a03390
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 22:13:31 2004 -0800

    [NET]: Do not mark dummy_free_one() __exit in dummy.c driver.

commit ead89f2d3612a6b78d37b93dae8ef352658236e4
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Tue Jan 20 19:39:53 2004 -0800

    [PATCH] Elvis^H^H^H^H^HPaul has left the building
    
    > Paul Mackerras:
    >   o sort exception tables
    
    And as more proof that Paul is leaving us ppc32 folks, *sniff*, the
    following is needed for PPC32 to compile:

commit 7bd1cc175c6e378b437001b5d7c685729c9f8a01
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 18:55:35 2004 -0800

    [PATCH] ia64: i2c config fix
    
    ia64 needs to include i2c by hand

commit 25a54d98265dc50a975c04eea0e8d5c3ea68de9b
Author: Bjorn Helgaas <bjorn_helgaas@hp.com>
Date:   Tue Jan 20 18:50:39 2004 -0800

    [PATCH] ia64: Kconfig cleanup, part 1

commit 27ddeab0f6cbe64f08caf6a9455a4c861e3dd3c9
Author: Dave Jones <davej@redhat.com>
Date:   Tue Jan 20 18:32:03 2004 -0800

    [PATCH] Check for MCE ability before checking registers.
    
    Here's a novel idea, check the CPU has machine check capabilities
    before we start polling registers.
    
    I was wondering why my VIA C3 was starting this.  Who knows it may solve
    some of the random crashes I saw there.

commit 8b2fd6be6cdcecb5f3bc785e0178105994b5d4aa
Author: Gerd Knorr <kraxel@bytesex.org>
Date:   Tue Jan 20 17:07:20 2004 -0800

    [PATCH] video4linux driver documentation update
    
    This updates / adds documentation for the bttv, saa7134 and cx88
    video4linux drivers.

commit 04858a01e0b68eca5d2b339fcfdffd830b12b82f
Author: Gerd Knorr <kraxel@bytesex.org>
Date:   Tue Jan 20 17:06:26 2004 -0800

    [PATCH] selinux build fix
    
    trivial one: uses __init and thus needs linux/init.h

commit fb0b5db6d444c70f057e82d0c358198f9c9850d7
Merge: c4a6a7c... 465ba01...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Tue Jan 20 16:41:13 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit c4a6a7cf4798fde595149a84da6278b07302e85a
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Jan 21 12:25:16 2004 +0100

    input: If we get a byte with timeout or parity flags in psmouse.c,
           we take the appropriate action. (throw the byte away, reset
           byte counter, return NAK if acking, and complain).

commit 5554db375bb288d6a3a0af07858fd6e7b203d38b
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Jan 21 12:21:24 2004 +0100

    input: Allow Synaptics packet rate to be controlled by the
           psmouse_rate= option.

commit 2dc349247af3377772de845fad1643eb3eb5824b
Merge: cefeddf... 7d10ae4...
Author: Vojtech Pavlik <vojtech@ucw.cz>
Date:   Wed Jan 21 11:29:55 2004 +0100

    Merge ucw.cz:/home/vojtech/bk/linus into ucw.cz:/home/vojtech/bk/input

commit 7d10ae4d4e615958ad34b4bcd381984cfaf05ee2
Merge: 3940ed8... db288fe...
Author: Vojtech Pavlik <vojtech@ucw.cz>
Date:   Tue Jan 20 22:21:08 2004 +0100

    input: Manual merge.

commit db288fe4634b11cec105a48b874ef787afe2dde0
Author: Glenn Burkhardt <glenn@aoi-industries.com>
Date:   Tue Jan 20 21:50:34 2004 +0100

    input: Properly recompute initial values upon recalibration in joydev.

commit 465ba0116a60989aa3fe67397a059910dd270b89
Merge: cefeddf... 392a047...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Tue Jan 20 08:43:54 2004 -0800

    Merge davem@nuts.ninka.net:/disk1/davem/BK/sparc-2.6
    into kernel.bkbits.net:/home/davem/sparc-2.6

commit 392a0472589cf116c0f4dd9abe8d08abfcab91f9
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Tue Jan 20 08:39:39 2004 -0800

    [SPARC64]: Update defconfig.

commit c3308dc3fef137cc3c08dc2870bc726b9eb2cbae
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Tue Jan 20 08:10:44 2004 -0800

    [TTUSB]: ttusb_dec.c needs linux/init.h

commit c92c1e8de297986b21459f9c91a7f4485307d2f3
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Tue Jan 20 06:28:05 2004 -0800

    [SPARC64]: Fix 32-bit execve out_mm error path.
    
    Do not pass a NULL mm to mmdrop().

commit cefeddf3646f4948826f1921cf375509165c7c6c
Merge: b2a910c... 3a892a6...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Tue Jan 20 05:40:29 2004 -0800

    Merge bk://are.twiddle.net/axp-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit b2a910c73eeab74e474168fe875163a25992f9b2
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Tue Jan 20 03:38:07 2004 -0800

    Linux 2.6.2-rc1

commit 3d6fd938ecaf4d7338de3e55ce6e23676d09b705
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:17:49 2004 -0800

    [PATCH] new module args for ir-kbd-*.c
    
    From: Gerd Knorr <kraxel@bytesex.org>
    
    Use module_param() rather than the deprecated MODULE_PARM() in this driver.

commit 160c2d70e7f146cea087ae3cf9382d171e6c8eb6
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:17:40 2004 -0800

    [PATCH] do not use shared extable code for ia64
    
    From: Jes Sorensen <jes@trained-monkey.org>
    
    The new sort_extable and shared search_extable code doesn't work on ia64.
    I have introduced two new #defines that archs can define to avoid the
    common code being built.  ARCH_HAS_SEARCH_EXTABLE and
    ARCH_HAS_SORT_EXTABLE.

commit deb5639c10b7bc8f8ffd8edc747bcc2f11294683
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:17:31 2004 -0800

    [PATCH] afs: avoid ifdef inside macro expansion
    
    From: David Howells <dhowells@redhat.com>
    
    Eliminate the printing of the cache token if present: using cpp
    conditionals inside macro expansions is not legal and some gcc's fail it.

commit d54eb7239f5dcc41157ad80d2e186f68ed1e54a0
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:17:23 2004 -0800

    [PATCH] NFS/RPC modprobe -r sunrpc causes an oops
    
    From: Steve Dickson <SteveD@redhat.com>
    
    Here is a patch for the 2.6.1 kernel that fixes an oops that occurs when
    the sunrpc module is unloaded.
    
    The problem was the RPC cache_register() call was not saving entry pointers
    to the procfs entries it was creating.  So when it came time to dismantle
    the entires, a BUG_ON() was tripped in remove_proc_entry() since the tree
    was not broken down completely.
    
    (acked by neilb)

commit 31e43b1bf6175e60f2f08bc3619e7724133c627d
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:17:14 2004 -0800

    [PATCH] smbfs: remove noisy printk's
    
    These printk's come out during normal usage, when accessing locked system
    files on the windows machines.

commit 8bbd42238d33d9153ac1de3648b993acc1531909
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:17:05 2004 -0800

    [PATCH] dquot: fix i_blocks accounting and locking
    
    From: Jan Kara <jack@ucw.cz>
    
    A patch which fixes a problem that i_blocks are not updated for quota files
    (when quota turned on) in 2.6.1.  The patch also fixes possible unlock of
    not locked spin_lock.

commit 60f99f6a98d9d213debf1491cd52801f46ed3b69
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:16:56 2004 -0800

    [PATCH] ratelimit I/O error printk's
    
    Ratelimit a couple of potentially-stormy printk's in the writeback code.

commit df7e395b2613e0ae68078c0d1296763cb2740f49
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:16:47 2004 -0800

    [PATCH] drivers/isdn/Kconfig URL update: caltech.edu
    
    From: Petri Koistinen <petri.koistinen@iki.fi>
    
    Little URL fix.  Server requires www in front of URL, no automatic
    forwarding.

commit 444a7f89869f7fcbbed022a484606662434a0205
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:16:38 2004 -0800

    [PATCH] Document problems with USB legacy support
    
    From: Vojtech Pavlik <vojtech@suse.cz>

commit 1c779e42b75c167b7ac1876f87cb1c1f1e17a0c3
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:16:29 2004 -0800

    [PATCH] reiserfs: cleanup_bitmap_list() check for NULL argument.
    
    From: Nikita Danilov <Nikita@Namesys.COM>
    
    fs/reiserfs/journal.c:cleanup_bitmap_list() can be called to cleanup
    reiserfs_list_bitmap that was only partly initialized. Check that
    jb->bitmaps array was actually allocated, before trying to free its
    elements.

commit 8283a979b1bd0c92a4713ccb6f79f18dae2d7e93
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:16:20 2004 -0800

    [PATCH] exception table search fix
    
    The exception table search code currently fails if addresses differ by more
    than 2G.  This is only a problem when using the 4g/4g address space split,
    but it's more robust this way.
    
    Also, shuffle the comparison order n there so the least likely case comes
    last.

commit fa85002bb286d15c83c7cf491fbb2ea2b2bb7a92
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:16:11 2004 -0800

    [PATCH] ext3: update a_ops when running `chattr +j'
    
    From: Jan Kara <jack@suse.cz>
    
    Journalled-data files need a different set of address_space_operations, so
    we need to update the file's aops when someone runs `chattr +j' on the
    file.

commit 335585a738b8cddb2c950032aaf958bdeaf0e0ba
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:16:03 2004 -0800

    [PATCH] correct floppy outb() macro arg names
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    This patch changes no code, just swaps macro arg names to match reality.

commit 69c4ba40f375471a3250cbac0f870b0cd64c87b7
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:15:53 2004 -0800

    [PATCH] remove unused flags arg from fs/stat64*
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    From: Michael Still <mikal@stillhq.com>
    
    Viro and Andi Kleen agreed.  The <flags> argument isn't used at all and
    cannot be used safely in the future.
    
    remove third arg <long flags> from all 3 fs/stat.c stat64() calls since
    it's not used and there's no way to use it safely;

commit d8644b32bf2acf12fa66c66450a39f9a24a59d84
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:15:44 2004 -0800

    [PATCH] md: remove unneeded ifdef/endif
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    From: Luiz Fernando Capitulino <lcapitulino@prefeitura.sp.gov.br>
    
    This #ifdef/#endif is not necessary.

commit 2d66d5a721071028a00cb8823d48f4e388a8a941
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:15:36 2004 -0800

    [PATCH] spell Unix98 the same everywhere
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    From: Andreas Beckmann <sparclinux@abeckmann.de>
    
    Patch is for consistency in spelling Unix98 (vs.  Unix 98).  This matches
    the other 20 or so occurrences of it.

commit c803fa73bae983e2a27f3638cef37f2dded5d651
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:15:27 2004 -0800

    [PATCH] vm overcommit documentation corrections
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    From: Patrick McLean <pmclean@linuxfreak.ca>

commit 42a60ad3cdd060ab9622395096c4268f6aa10263
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:15:18 2004 -0800

    [PATCH] md: fixes for !CONFIG_PROCFS
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    From: Luiz Fernando Capitulino <lcapitulino@prefeitura.sp.gov.br>
    
    It fixes these warnings when !CONFIG_PROC_FS:
    
    drivers/md/md.c: In function `md_geninit':
    drivers/md/md.c:3481: warning: unused variable `p'
    drivers/md/md.c: At top level:
    drivers/md/md.c:3007: warning: `md_seq_fops' defined but not used

commit 9a921a401b0aebb6dbc2d89619a0646f9a2be85f
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:15:09 2004 -0800

    [PATCH] MCA: handle bus failure
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    From: Eugene TEO <eugeneteo@eugeneteo.net>
    
    Handle OOM in mca_init()

commit a71c4a2675a6768498168e59402b60c94b693d23
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:15:00 2004 -0800

    [PATCH] APM: handle kernel_thread failure
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    From: Eugene TEO <eugeneteo@eugeneteo.net>

commit 41a0db2773e2d43b645c8b59f832d3b67bce6fd1
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:14:51 2004 -0800

    [PATCH] amd74xx: fix for !CONFIG_PROCFS
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    From: Luiz Fernando Capitulino <lcapitulino@prefeitura.sp.gov.br>
    
    this patch fixes this warning:
    
    drivers/ide/pci/amd74xx.c:80: warning: `amd_udma2cyc' defined
    but not used
    
    when !CONFIG_PROC_FS.

commit 793502bf75591f241d0d746da6a0d355df4782c8
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:14:42 2004 -0800

    [PATCH] dvb: TTUSB driver update
    
    From: Michael Hunold <hunold@linuxtv.org>
    
    - TTUSB-DEC update by Alex Woods:
    
      - fix USB timeout bug under 2.6
    
      - change some variable names to make it clearer what we are dealing
        with (PVA).  - support DEC2540-t and add info on it to the ttusb-dec
        docs.
    
      - add model number returned from DEC2540-t firmware.
    
      - add a module option to get the raw AVPES packets from the dvr
        device.
    
      - send audio packets to their filter rather than the videos.
    
      - handle the new empty packets that appear with the 2.16 firmware.
    
      - extra error checks.
    
      - handle the new firmwares that change the devices' USB IDs.
    
      - tidy up the STB initialisation process a little.
    
      - apply Hans-Frieder Vogt's patch for calculating firmware CRCs.
    
    - make TTUSB budget card depend on USB subsystem

commit bd403b67b0a79ac904865f70a6aedf2627f64ede
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:14:33 2004 -0800

    [PATCH] dvb: av7110 driver splitup
    
    From: Michael Hunold <hunold@linuxtv.org>
    
    - after the firmware removal, split av7110.c into separate modules:
    
      - av7110.c: initialization and demux stuff
    
      - av7110_hw.c: lowlevel hardware access and firmware interface
    
      - av7110_ca.c: CI and ECD
    
      - av7110_av.c: audio/video MPEG decoder and remuxing stuff
    
      - av7110_v4l.c: v4l interface
    
    - av7110 fixes that were notcies during splitup
    
      - rename some non-static functions to enhance readability
    
      - lots of coding style & whitespace fixes
    
      - return -ERESTARTSYS from ci_ll_read/write() if interrupted
    
      - use time_after() for timeouts
    
      - added some comments about firmware interface
    
      - removed some unused fields from struct av7110, retabbing
    
    - follow driver splitup in Makefile

commit 485237d635868947ae223bcda6df7e983208d429
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:14:23 2004 -0800

    [PATCH] dvb: update core
    
    From: Michael Hunold <hunold@linuxtv.org>
    
    - demux: fix nasty bug where setting multiple filters resulted in ts
      packet duplication
    
    - frontend: merge frontend improvements from 2.4 DVB tree:
    
      - schedule_timeout(1) in dvb_frontend.c after setting frontend and
        before waking up frontend thread
    
      - do FE_RESET in each iteration of frontend thread if !FE_HAS_LOCK
    
      - use aquire_signal flag to call FE_RESET only after tuning until
        FE_HAS_LOCK has been signalled, and not when FE_HAS_LOCK drops out for
        short periods of time later
    
    - follow frontend changes in ves1x93 driver

commit ada87d5cd6439928358bb96166914be81c2b3abb
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:14:14 2004 -0800

    [PATCH] dvb: update saa7146 driver
    
    From: Michael Hunold <hunold@linuxtv.org>
    
    - fix memory leak in page table handling
    
    - minor coding style changes
    
    - add simple resource management for video dmas (borrowed from saa7134)
    
    - use resource management to lock video and vbi access which sometimes
      share the same video dmas
    
    - honour return codes of extension functions in various places, when
      resources could not be locked
    
    - remove remains of dead code which were commented out anyway
    
    - add new flag FORMAT_IS_PLANAR to indicate planar capture formats,
      needed for resource allocation

commit 500638be59505c21c5e91270cb86ca26e8b9536d
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:14:05 2004 -0800

    [PATCH] dbv: update documentation
    
    From: Michael Hunold <hunold@linuxtv.org>
    
    - update contributors
    
    - documentation update for recent DVB TTUSB driver changes

commit e6c3a6780eced2fb95e87956b4fc1059414b8f6b
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:13:56 2004 -0800

    [PATCH] pc300_tty.c is broken
    
    From: Russell King <rmk+lkml@arm.linux.org.uk>
    
    Russell was unable to correctly migrate this driver to the new
    modem-control-signal API because
    
     TIOCMBIS/TIOCMBIC do not control only the DTR signal, but also the RTS,
     OUT1 and OUT2 signals, or even maybe nothing at all.  Plus, these IOCTLs
     are no longer passed down to the driver.  Instead, drivers should
     implement tiocmget and tiocmset driver methods.
    
    so mark it as broken so as to not break allmodconfig/allyesconfig.

commit cd118432cc937e9c1ec040c53860f9d687e34167
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:13:47 2004 -0800

    [PATCH] sendfile calls lock_verify_area with wrong parameters
    
    From: Manfred Spraul <manfred@colorfullife.com>
    
    sendfile supports reading from a given start offset for in_file, like
    pread.  But for the locks_verify_area call, in_file->f_pos is always used,
    even if a start offset is used.  Result: wrong area is checked for
    mandatory locks.

commit 59b9f2439d83acec065783806d952741a5e98b6a
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:13:39 2004 -0800

    [PATCH] Fix x86-64 ptrace
    
    From: Andi Kleen <ak@muc.de>
    
    The EFLAGS checking was not correct.  This also fixes some problems with
    32bit gdb who would sometimes make the kernel BUG.

commit 3ba6fffc406b92307a1a84533e6c3ed8d0e5e26a
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:13:29 2004 -0800

    [PATCH] Default hooks protecting the XATTR_SECURITY_PREFIX namespace
    
    From: Chris Wright <chrisw@osdl.org>
    
    Add default hooks for both the dummy and capability code to protect the
    XATTR_SECURITY_PREFIX namespace.  These EAs were fully accessible to
    unauthorized users, so a user that rebooted from an SELinux kernel to a
    default kernel would leave those critical EAs unprotected.
    
    (Acked by Stephen Smalley)

commit 76ef5df33f02b6db0f67ca2cb78bde84145d47a0
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:13:20 2004 -0800

    [PATCH] Move XATTR_SECURITY_PREFIX macro to common location
    
    From: Chris Wright <chrisw@osdl.org>
    
    Move the XATTR_SECURITY_PREFIX macro to the xattr.h header so that it's in a
    common location.
    
    (Acked by Stephen Smalley)

commit 66a6ef19520f037127edabb4d663378fbb92b843
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:13:10 2004 -0800

    [PATCH] md: Use bd_disk->private data instead of bd_inode->u.generic_ip
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    ..to access 'mddev' from the inode pointer.  This is already set up for us.

commit d45e66f897ebf5a1b7bf80181c225596c7cbb3da
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:13:01 2004 -0800

    [PATCH] md: Discard the mddev_map array.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    We only need it occasionally to map unit number to mddev, and we can use a
    linear search for that.  This reduces dependance on MAX_MD_DEVS

commit b2a0c9757392187e3b72e42e64b0ec0069dcf6e3
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:12:52 2004 -0800

    [PATCH] md: Remove the 'disks' array from md which holds the gendisk structures.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Move the pointers into mddev.  The reduces dependance on MAX_MD_DEVS.

commit 24ae74801f33050d04c2c35a56605219bfcee863
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:12:44 2004 -0800

    [PATCH] md: Small fixes for timely writing of md superblocks.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Currently a raid0 superblock is only written when the array is stopped, so a
    crash between creation and stop can lose your data.
    
    This patch marks a superblock 'dirty' at creation and forces a dirty
    superblock to be written when the array is started.
    
    Previously we would prod the per-array thread at this point, but as it avoids
    certain chores when the array is locked, and the array is locked at this
    point, that isn't guaranteed to do the right thing.  Instead we prod the
    thread whenever the array is unlocked.
    
    Finally, only write the superblock at array stop if it is needed to mark the
    array as 'clean'.  raid0 which is never dirty, doesn't need this.

commit e770288c4a820e86d277314d1c3901da1ce90b19
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:12:35 2004 -0800

    [PATCH] md: Don't do_md_stop and array when do_md_run fails.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Current code calls do_md_stop to clean up if do_md_run fails, but this is
    
    a/ not needed as do_md_run cleans up itself
    
    b/ bad as it could try to clean up after an -EBUSY error !!!

commit 87d0aa2ffa968e4c1e58e6a8009012cf98d7beaf
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:12:27 2004 -0800

    [PATCH] md: Make sure md recovery happens appropriately.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Currently if there are two failed drives, and two spares are added, then
    recovery starts onto the first spare, but never notices the second spare.  To
    cope, we set RECOVERY_NEEDED when recovery finishes so that we re-check.

commit 3e4cd40f447963607ee64d5725a3c0cb87e20788
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:12:18 2004 -0800

    [PATCH] md: Fix typo in comment
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Thanks dann frazier <dannf@hp.com>

commit 5a6995348338db8edb2a8ecd804e3eaced94e855
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:12:09 2004 -0800

    [PATCH] md: Make sure an interrupted resync doesn't seem to have completed.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    If the raid1 or raid5 thread gets to run md_check_recovery after the recovery
    thread has been interupted, but before do_md_stop completes, a spare drive
    can be incorporated into an array befure it is up-to-date.
    
    This patch corrects the relevant test.

commit 5edef83d7b0863390315df4d4e0cf9a3d805c844
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:12:00 2004 -0800

    [PATCH] md: Don't allow raid5 rebuild to swamp raid5 stripe cache
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    raid5 rebuild takes stripes so agressively that other access cannot get a
    look-in.
    
    With this patch, the rebuild pauses slightly if there is a shortage of
    stripes to let other processes have a chance.
    
    akpm: I was worried about starvation due to the harsh semantics of yield() in
    2.6.  But Neil has performed specific testing for that and things seem OK.
    If people do note CPU starvation problems we will need to replace the yield()
    with a schedule_timeout(1).

commit 0b3e92bc78ff45b75bf9a7edc76d9fc76e1d1cb2
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:11:51 2004 -0800

    [PATCH] md: fix return code in set_disk_faulty()
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
     Following are 10 patches for md in 2.6.1-lastest.
    
     1-6 are simple bugfixes that I am confident should be in 2.6.2.
    
     7 is a bugfix that is fairly important, but could probably do with a
     bit more testing first.  It is not impossible that it could deadlock,
     though I think I have caught and fixed all the problems.
    
     8-10 are code simplication.
    
     So maybe 7-10 should only go in -mm for now, but if it is a while
     before 2.6.2, then maybe they can go in a 2.6.2-pre.
    
    From: Mike Tran <mhtran@us.ibm.com>
    
     If cannot find the device, return error (ENODEV) Otherwise, return success
     (0)

commit 8413db43a01d52c87643b344a0996d16af75d568
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:11:42 2004 -0800

    [PATCH] check for truncated modules
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    I *do* want to add a check for a truncated module, since that's probably
    the most common case (^C on "make modules_install").  But I don't want to
    double the size of module.c with every check I can think of.
    
    tested with:
    # bs=0; while [ $bs -lt 3764 ]; do
       dd if=dummy.ko bs=$bs count=1 2>/dev/null | insmod -;
       bs=`expr $bs + 1`;
      done

commit 74ebb0066d038bb9792d76ee005de3e8f60c1085
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:11:33 2004 -0800

    [PATCH] RAID-6
    
    From: "H. Peter Anvin" <hpa@zytor.com>
    
    RAID6 implementation.  See Kconfig help for usage details.
    
    The next release of `mdadm' has raid6 userspace support.

commit 5554b6fc46e815c226e3f9c46c070f8d07061382
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Jan 20 06:11:23 2004 -0500

    [SPARC64]: Correctly mask the physical address for remapping the kernel TLB's

commit edd011045dadc70d9c389040f750896ee9f12630
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:11:23 2004 -0800

    [PATCH] One-shot support for epoll
    
    From: Davide Libenzi <davidel@xmailserver.org>
    
    The attached patch implements the one-shot support for epoll.  Because of
    the way epoll works (hooking f_op->poll()) the ET behavior is not really ET
    because it might happen that, while data is still available to read (for
    the EPOLLIN case), another chunk will become available triggering another
    event.
    
    While those conditions can be easily be handled in userspace, the absolute
    triviality of the patch and the avoidance of user/kernel space switches and
    f_op->poll() calls, make IMHO worth doing this inside epoll itself.

commit f76fe2f64a622d02e7755c423db0c3cd4ba62589
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:11:15 2004 -0800

    [PATCH] loop: trivial error number fix
    
    From: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    
    This patch fixes the error number when invalid file is passed (neother
    S_ISBLK nor S_ISREG is true).  We should return -EINVAL.

commit 56f4a65438dd5b2e91ba16f000ba3f1732076dba
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:11:06 2004 -0800

    [PATCH] loop needs MODULE_ALIAS_BLOCK
    
    From: Erik van Konijnenburg <ekonijn@xs4all.nl>
    
    There are two issues here:
    
    - absense of a MODULE_ALIAS_BLOCK in loop.c
    
    - mismatch between the patterns used in the MODULE_ALIAS_BLOCK define and
      the modprobe invokation in request_module.
    
    (acked by Rusty)

commit b463bc26f6ccb783eac0610fdb01c8b28fffd2eb
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:10:57 2004 -0800

    [PATCH] Asus L5 framebuffer fix
    
    From: Pontus Fuchs <pontus.fuchs@tactel.se>
    
    I need the following patch for radeonfb to work on my Asus L5.  See
    http://bugs.xfree86.org/show_bug.cgi?id=561 for more info.
    
    (benh confirmed this with ATI).

commit b64caf252bc9e6ab1487c09c7a9e1839d253126c
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:10:48 2004 -0800

    [PATCH] ppc64: iSeries virtual console
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    This is a forward port of a 2.4 driver that has been present in a couple of
    (enterprise) distributions for some time.  It works for me :-), I even get
    console output :-) This makes the machine almost usable - next we will get
    virtual disk.
    
    It has been considerably tidied up, but if you have any further worries
    with it, let me know.

commit 00fbc4fc0ab649eefeafa85a61923a74b7f76c9d
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:10:38 2004 -0800

    [PATCH] ppc64: Bug fix for hugepages on ppc64
    
    From: David Gibson <david@gibson.dropbear.id.au>
    
    Currently the flag indicating whether or not hugepages are allowed below
    4GB is not correctly propagated across fork(), which can lead to oopses.
    The patch below fixes this.

commit 810839ddeeee974b37118daf491194ec6fc9e341
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:10:29 2004 -0800

    [PATCH] get PPC64 iSeries closer to building
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    This patch allows iSeries to come much closer to building.
    
    This is a precurser to my trying to merge the virtual device drivers for
    iSeries (console, disk and cdrom).

commit 65b7ee8a388974fbc6763d17b59855f2e221a6dc
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 20 03:10:20 2004 -0800

    [PATCH] Fix for 32-bit execve() error path
    
    From: David Gibson <david@gibson.dropbear.id.au>
    
    The patch below fixes a bug in ppc64's 32-bit execve() path.  It duplicates
    logic already in the normal fs/exec.c do_execve() to avoid dropping a NULL
    mm.  The bprm.mm becomes NULL once the exec passes the "point of no
    return".  Without this patch a failure past that point (e.g.  mmap()
    failure) will cause an oops, with it just a killed process.

commit 51662d3b632209ae294a0c759472f1236e1c6474
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Jan 20 06:00:51 2004 -0500

    [SPARC64]: Add CONFIG_DEBUG_BOOTMEM option.

commit d050b3941dc3149f8c45c4b2bf8b105db524baca
Merge: b520666... 1c23361...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Tue Jan 20 01:57:04 2004 -0800

    Merge bk://kernel.bkbits.net/gregkh/linux/usb-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit b5206660e4752b723b8966d3eaed1cc90cef4e6e
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Tue Jan 20 00:53:52 2004 -0800

    [PATCH] USB: Band-aid for mct_u232 in 2.6.1
    
    On Sun, 18 Jan 2004 00:37:44 -0800
    Pete Zaitcev <zaitcev@redhat.com> wrote:
    
    > My Magic Control Technology adapter causes an oops in the following way.
    > Connect the thing, run "cat < /dev/ttyUSB0", disconnect, kill cat with ^C.
    > The result looks like this:
    
    I played with it a little more, and pretty much got everything working,
    thus fixing two Fedora bugs.
     https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=112889
     https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=113700

commit 701e91c80edb5229b96045274b5d3d20451738ea
Author: Felipe Alfaro Solana <felipe_alfaro@linuxmail.org>
Date:   Tue Jan 20 00:13:21 2004 -0800

    [PATCH] USB Storage: unusual_devs.h patch for Trumpion MP3 player
    
    This patch is needed for the USB storage subsystem to recognize the
    Trumpion MP3 player as a valid USB mass storage.
    
    T:  Bus=01 Lev=01 Prnt=01 Port=00 Cnt=01 Dev#=  3 Spd=12  MxCh= 0
    D:  Ver= 1.00 Cls=00(>ifc ) Sub=00 Prot=00 MxPS= 8 #Cfgs=  1
    P:  Vendor=090a ProdID=1200 Rev= 1.00
    C:* #Ifs= 1 Cfg#= 1 Atr=a0 MxPwr=256mA
    I:  If#= 0 Alt= 0 #EPs= 3 Cls=08(stor.) Sub=01 Prot=01 Driver=usb-storage
    E:  Ad=81(I) Atr=02(Bulk) MxPS=  64 Ivl=0ms
    E:  Ad=02(O) Atr=02(Bulk) MxPS=  64 Ivl=0ms
    E:  Ad=83(I) Atr=03(Int.) MxPS=   8 Ivl=255ms

commit a5e3bda2f8841fd4235044e4ff8198b46b0b79f5
Author: Axel Waggershauser <awagger@web.de>
Date:   Tue Jan 20 00:03:48 2004 -0800

    [PATCH] USB: fix memory bug in usb-skeleton.c

commit 18cdc0b34bc5fa6f5cc8feb8e15f33d8622fe5a4
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Tue Jan 20 00:03:17 2004 -0800

    [PATCH] USB Storage: Sysfs attribute file for max_sectors
    
    After much discussion with the SCSI folks, here's a patch to export
    max_sectors as a sysfs attribute.  Turning this down makes some people's
    devices more stable, but at a significant cost in performance.  Now, users
    can adjust it without recompilation.
    
    This is YAASP (yet another Alan Stern patch).

commit 27ea252f4f5cb9e15dc5a549f315407ab978ffe0
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Jan 20 00:02:47 2004 -0800

    [PATCH] USB Storage: Notify the SCSI layer about device resets
    
    According to James Bottomley, we need to notify the SCSI midlayer whenever
    we issue a driver-initiated device reset.  That can happen in several
    places, most notably following a transport error.  This patch adds
    code to the reset routine to take care of it.  (Notifying about resets
    requested by the midlayer itself is unnecessary but harmless.)
    
    Alan Stern
    
    On 15 Dec 2003, James Bottomley wrote:
    
    > It looks like the driver sent a reset to the device on its own without
    > reporting it to the mid-layer.
    >
    > There's an expecting_cc_ua flag in the scsi_device.  It gets set on
    > error recovery actions, or if the device does something to detect or
    > trigger a reset (that's the scsi_report_device_reset() and
    > scsi_report_bus_reset() API's).
    >
    > James

commit f3c64148c78dd4dece18315cac7df5fc82cbd76d
Author: Adam Kropelin <akropel1@rochester.rr.com>
Date:   Tue Jan 20 00:02:17 2004 -0800

    [PATCH] USB: hiddev HIDIOCGREPORT not blocking in 2.6
    
    I've noticed in 2.6 kernels that HIDIOCGREPORT does not wait for io
    completion before returning to the caller. This creates a few unpleasant
    issues for userspace:
    
    First, code sequences such as...
    
            ioctl(fd, HIDIOCGREPORT, &rinfo);
            ioctl(fd, HIDIOCGUSAGE, &uinfo);
            ioctl(fd, HIDIOCGSTRING, &sdesc);
    
    ...that used to work in 2.4 now fail in 2.6 if the device takes more
    than a few milliseconds to respond to HIDIOCGREPORT. (I'm seeing this
    issue on APC UPSes, FWIW.)
    
    Second, userspace code can easily flood the kernel with control messages
    since the kernel provides no "backpressure". The result is a lot of
    "hid-core.c: control queue full" errors and lost reports.
    
    2.6 hid-core.c appears to submit the request and return immediately.
    Although the 2.4 code differs significantly, I traced the call path to
    usb-core.c, which seems to block with a timeout, so the code supports my
    userspace observation. (Assuming I didn't misread it.)

commit f7d793856098ce7889c0b22f27bce0d4d182cae7
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 19 23:37:47 2004 -0800

    [PATCH] USB: hook up the other (non-HID) input devices to the input system properly.

commit 609088f5240490631e36a45f2b98b3dd431150b2
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 19 23:29:14 2004 -0800

    USB: hook up the HID device's struct device to the input system properly.

commit 1c23361eb4820d289a9b61189ab1f4323446de57
Merge: d00ea9a... b7c5d0b...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Jan 19 22:57:49 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-rmk
    into home.osdl.org:/home/torvalds/v2.5/linux

commit b7c5d0b844dd7da8e64d9356d5c86695803ffb42
Author: Frank Becker <fb.arm@net.rmk.(none)>
Date:   Tue Jan 20 22:26:42 2004 +0000

    [ARM PATCH] 1703/1: SA Cerf update (cleanup)
    
    Patch from Frank Becker
    
    Crud removal. Updated cerf doc.
    
    The SA CerfPDA/CerfPOD have long been gone. I see no
    community activity. The last official release was 2.4.9.
    
    Removed ifdefs for CERF_CPLD (which referred to the PDA/POD), go figure.
    Removed keyboard driver.
    Removed default configs for PDA/POD.
    Removed PDA/POD related LCD stuff.

commit 9fa4d5364832a27c36ac4cae3cb6edfad35b9ab9
Author: Nicolas Pitre <nico@org.rmk.(none)>
Date:   Tue Jan 20 22:24:14 2004 +0000

    [ARM PATCH] 1735/1: correct memcpy return value on ARM
    
    Patch from Nicolas Pitre

commit fc1a59c55ffd67b686df8979f810e2d907113ff6
Author: Tony Lindgren <tony@com.rmk.(none)>
Date:   Tue Jan 20 17:05:25 2004 +0000

    [ARM PATCH] 1741/1: Add ARM710T processor functions
    
    Patch from Tony Lindgren
    
    Following patch adds ARM710T processor support to proc-arm720.S.
    
    The preferred way to add support was discussed on the Linux-arm-kernel
    mailing list in December, with a link to the thread here:
    
    http://lists.arm.linux.org.uk/pipermail/linux-arm-kernel/2003-October/017596.html
    
    NEC ARM710T is used in Psion Windermere architecture, and possibly
    other systems.
    
    710T works fine with the 720T functions, except the high_mapping
    does not work for vectors_base(). Even if the high bit register is
    set, the vectors stay at 0x00000000 instead of 0xffff0000.

commit b8dded8092fc8060ba6fdd185b3c922ab26fac76
Author: Peter Teichmann <mail@de.rmk.(none)>
Date:   Tue Jan 20 16:51:20 2004 +0000

    [ARM PATCH] 1717/1: Add German umlauts to Acorn console font
    
    Patch from Peter Teichmann
    
    This adds German Umlauts (ÄÖÜäöüß) and some other Characters to the
    Acorn 8x8 console font.

commit 29b473c10e6e8664b88212e9fdf29f0e7f96ec38
Author: David Brownell <david-b@net.rmk.(none)>
Date:   Tue Jan 20 16:49:07 2004 +0000

    [ARM PATCH] 1714/1: pxa2xx_udc (5/5) pxa2xx_udc driver
    
    Patch from David Brownell
    
    This patch adds the UDC driver itself.
    
    Depends on the udc platform_data patch (#3 this series)
    and on 1659/1 (kconfig/kbuild support).
    
    SUPERCEDES patch 1658/1 (against test5)

commit 59256069acfb3bf0b75b66c22dea1e5b20ecde57
Author: David Brownell <david-b@net.rmk.(none)>
Date:   Tue Jan 20 16:46:33 2004 +0000

    [ARM PATCH] 1713/1: pxa2xx_udc (4/5) mach-pxa/lubbock.c updates
    
    Patch from David Brownell
    
    This adds basic lubbock-specific customization for the UDC driver,
    and makes it use INIT_MACHINE.
    
    Depends on the INIT_MACHINE patch and the UDC platform_data patches
    (#1, #3 in this series).
    
    Be careful of patch conflicts applying to other kernels, mostly due
    to different platform devices being listed.

commit 4bec245f209642dc2ac8a72c1294a49f064c6196
Author: David Brownell <david-b@net.rmk.(none)>
Date:   Tue Jan 20 16:45:06 2004 +0000

    [ARM PATCH] 1711/1: pxa2xx_udc (3/5) add udc platform_device, platform_data
    
    Patch from David Brownell
    
    This declares the pxa2xx_udc platform device, defines
    the platform_data made available to that driver, and
    allows different machines to customize that platform_data.
    
    Same idea as in the FB driver.  Be careful of patch conflicts
    applying to other kernels, mostly due to different platform
    devices being listed.

commit 885abe0703b083f90a3689454d9c941f839fc762
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Tue Jan 20 16:43:55 2004 +0000

    [ARM] Add PXA MCI resources and device structure.

commit 93cab35707fb4358262b29693c7a8993f08b16fa
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Jan 19 22:50:56 2004 -0800

    [PATCH] USB UHCI: fix broken data toggles for queued control URBs
    
    This patch fixes a long-standing (albeit unidentified) problem in the
    queueing code for the UHCI HCD.  The code propagates data toggle settings
    between messages in a queue for control transfers just the same as bulk
    and interrupt transfers.  That is a mistake, since control messages always
    restart with data toggle 0.  With this patch, the UHCI driver now passes
    test 10 (control URB queueing) in David Brownell's usbtest suite.
    
    The patch appears to change more than it really does, because it alters
    the indentation level of a large section of code.

commit 54d285d9d218ad2741a951d7ad5b259e964e0b54
Merge: d00ea9a... 0e8f510...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 19 22:33:30 2004 -0800

    Merge kroah.com:/home/linux/BK/bleed-2.6
    into kroah.com:/home/linux/BK/usb-2.6

commit d00ea9a1d9fe19449b43ccc5de364979cce4c29b
Author: Dave Jones <davej@redhat.com>
Date:   Mon Jan 19 20:59:17 2004 -0800

    [PATCH] Prevent false positives in non-fatal MCE check.
    
    non-fatal didn't get the same change that k7.c did a few months
    back, so it reads from banks that actually _cause_ MCEs.
    
    This patch also adds a bunch of copyright headers whilst we're
    in that neighborhood.

commit e98fd32ce528ae371f8843000f67e81d534775c9
Merge: 3940ed8... 3c56486...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Jan 20 03:57:32 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/libata-2.5

commit b3690fe2eacf62ddcc2a1c4e24ed0fa54be8f6d6
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Jan 19 23:52:11 2004 -0500

    [SPARC64]: Move setting of current_thread_info()->cpu to smp_prepare_boot_cpu()

commit 963be119e0d2afb7cf1909a6036690ad14e2c4cc
Author: Vojtech Pavlik <vojtech@ucw.cz>
Date:   Tue Jan 20 00:46:17 2004 +0100

    input: Make scancode for a Sun5 type keyboard one of those not
           ignored because of protocol nastiness.

commit 3f8cd96760d3d21eb2382262d08e7a1272d1b501
Author: Vojtech Pavlik <vojtech@ucw.cz>
Date:   Mon Jan 19 23:45:45 2004 +0100

    input: Add a missing space in atkbd warning message.

commit 0de8f2853e4931144904e6e5edd311e62a2ff6b8
Merge: 1c2a00a... d9fbd88...
Author: Vojtech Pavlik <vojtech@ucw.cz>
Date:   Mon Jan 19 22:27:00 2004 +0100

    Merge ucw.cz:/home/vojtech/bk/linus into ucw.cz:/home/vojtech/bk/input

commit 3940ed85276e69985e25ad687cc7dcb952e5d8a5
Merge: 4d53a00... 4705cae...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Jan 19 07:39:54 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 4d53a003f12e93c181dff573ea866a912e758b7c
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Jan 19 07:29:44 2004 -0800

    Make sure we don't access "cmd" in ide-scsi after having
    started the command - it may not exist any more.
    
    In particular, load the host early in order to do proper
    locking without having to access the command structure later.
    
    Noted by Andries Brouwer.

commit d03652518e6fcef7157fd431e0e4370e11957125
Merge: 35b9375... 201dbc6...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Jan 19 06:00:53 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 4705cae7950a8eec85a9370ef42a1037212e9069
Merge: e05df4f... d52531b...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Mon Jan 19 05:49:32 2004 -0800

    Merge davem@nuts.ninka.net:/disk1/davem/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit 35b93751d2f184c82be557bbeac4c5cef11e34a1
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Jan 19 05:49:29 2004 -0800

    [PATCH] sort exception tables
    
    This patch arranges for the exception tables to be sorted on most
    architectures.  It sorts the main kernel exception table on startup
    and the module exception tables when they get loaded.  The main table
    is sorted reasonably early - just after kmem_cache_init - but that
    could be moved even earlier if necessary.
    
    There is now a lib/extable.c which includes the sort_extable()
    function from arch/ppc/mm/extable.c and the search_extable() function
    from arch/i386/mm/extable.c, which had been copied to many
    architectures.  On many architectures, arch/$(ARCH)/mm/extable.c
    became empty and so I have removed it.
    
    There are four architectures which do things differently from i386:
    alpha, ia64, sparc and sparc64.  Alpha and ia64 store the offset from
    the offset from the exception table entry to the instruction, and
    sparc and sparc64 have range entries in the table.  For those
    architectures I have added empty sort_extable functions.  The
    maintainers for those architectures can implement something better if
    they care to.  As it is they are no worse off than before.
    
    Although it is a moderately sizable patch, it ends up with a net
    reduction of 377 lines in the size of the kernel source. :)
    
    I have tested this on x86 and ppc with a module that uses __get_user
    in an init function, deliberately laid out to get the exception table
    out of order, and it works (whereas it oopsed without this patch).

commit d35e9aba217ea71c1f53dbe4131455aa4335ddf1
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:44:20 2004 -0800

    [PATCH] Restore missing ppc64 hash_low.S file
    
    This went missing somewhere.  Here's a patch which puts it back.

commit f154cb928e126a917301061517ec3a974ffa523f
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Mon Jan 19 05:44:11 2004 -0800

    [PATCH] pdc202xx_old.c: sanitize 66MHz clock use
    
    Sanitize 66MHz clock use: "enable" 66MHz clock before starting UDMA3/4/5
    read/write transfer and "disable" it after finishing transfer.
    
    - fixes timings for non-UDMA3/4/5 operations (correct 33MHz timings are used)
    
    - allows using UDMA3/4/5 modes on a capable drive even if non-UDMA3/4/5 drive
      is present on the same channel
    
    - fixes corner case when one drive on the channel was using UDMA66/100 + LBA48
      (so clock was enabled/disabled for each read/write) and other one was using
      UDMA66/100 + LBA28, it could happen that request on LBA48 drive disabled
      66MHz clock and it was not enabled for the next transfer on LBA28 drive

commit 749949ea57f14d30623a76bc52ccca8afdeccd1c
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Mon Jan 19 05:44:02 2004 -0800

    [PATCH] pdc202xx_old.c: fix enabling 66MHz clock for modes > UDMA2
    
    drive->id is now always present even if no device is attached,
    therefore check for drive->present instead.

commit 4a59db4e3490544e08fec28f38e8056959e71533
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Mon Jan 19 05:43:53 2004 -0800

    [PATCH] pdc202xx_old.c: fix PIO autotuning
    
    This fixes bugzilla bug #1431.
    
    Always tune controller PIO timings.  This fixes lockup during PIO access
    (ie. 'cat /proc/ide/hda/identify') when Promise BIOS is disabled.

commit e5392b30af6b2827478e6f7202f6cf7fc267ccc2
Merge: 7dba52a... 56660d5...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Jan 19 05:38:09 2004 -0800

    Merge bk://kernel.bkbits.net/gregkh/linux/i2c-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit e05df4f521b374ec8bfa093f302caf3ce0704265
Author: Ville Nuorvala <vnuorval@tcs.hut.fi>
Date:   Mon Jan 19 05:37:58 2004 -0800

    [IPV6]: Stricter checks on link-locals in bind and sendmsg
    
    When binding to a link-local address, inet6_bind() and raw6_bind() only
    check that an interface is specified and that the address exists, but
    they don't check if it actually exists on the specified interface.
    
    Similarly, in datagram_sent_ctl() we don't check for the possibility of a
    link-local address when we receive the source address from userspace.

commit 56660d5ebdfecc4d070d5eeb22ba512436c81808
Merge: dfb754e... 6c4b9b9...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Jan 19 05:36:40 2004 -0800

    Merge bk://linux-scsi.bkbits.net/scsi-for-linus-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit dfb754ee9854da301b6de62f02c4a494e3404e45
Merge: 5a8d6ec... d52531b...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Jan 19 05:36:00 2004 -0800

    Merge bk://kernel.bkbits.net/gregkh/linux/driver-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 4500e91754d3232b083136354195f9c4eb905265
Author: Hideaki Yoshifuji <yoshfuji@linux-ipv6.org>
Date:   Mon Jan 19 05:31:35 2004 -0800

    [NET]: Add proc_dointvec_userhz_jiffies, use it for proper handling of neighbour sysctls.

commit 33e9809b5438b4ab87bce4f3e8e388be301763e6
Author: Michal Ludvig <michal@logix.cz>
Date:   Mon Jan 19 05:23:30 2004 -0800

    [IPV6]: Set flow protocol correctly in SIT driver route lookups.

commit cbf2dc099613819dac46ed581664c41216ee3048
Author: Chris Wright <chrisw@osdl.org>
Date:   Mon Jan 19 05:19:34 2004 -0800

    [ROSE]: Check error return from memcpy_fromiovec()

commit fd038f9815d83f84bf144013edc4bf790fa79c70
Author: Chris Wright <chrisw@osdl.org>
Date:   Mon Jan 19 05:19:08 2004 -0800

    [NETROM]: Check error return from memcpy_fromiovec()

commit 9fa8ebb42f7b9157948ab3414e1b44646c3c7b09
Author: Chris Wright <chrisw@osdl.org>
Date:   Mon Jan 19 05:18:47 2004 -0800

    [IRDA]: Check error return from memcpy_fromiovec()

commit 84733260089c978728d5963430f7b2160733eaca
Author: Chris Wright <chrisw@osdl.org>
Date:   Mon Jan 19 05:18:24 2004 -0800

    [AX25]: Check error return from memcpy_fromiovec()

commit d52531b8e75f705d889060fdeb15898d655cd9b3
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Jan 19 05:18:14 2004 -0800

    This removes the old Eicon ISDN driver.
    
    The config entries etc were already removed earlier.

commit f69c2d56ee9af07879729540bbafecfef902234c
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:16:24 2004 -0800

    [PATCH] reiserfs v3 should throttle writers
    
    From: Chris Mason <mason@suse.com>
    
    The v3 reiserfs_file_write func doesn't do any write throttling, which
    leads to a variety of problems.  Here's a patch that makes
    reiserfs_file_write call balance_dirty_pages_ratelimited, and exports that
    func for module usage.

commit e94aaae6838c12465875c79853f42d38240cf3db
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:16:16 2004 -0800

    [PATCH] video-buf.c cleanup
    
    Remove now-unused 2.4 back-compat code.

commit 0229cc25763895965efc879228108d8c17ff2af8
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:16:07 2004 -0800

    [PATCH] work around gcc bug in bitmap.c
    
    gcc miscompiles this. Scary.

commit ab52b08fd380c4b327dd5832bfdc5099d758fe34
Author: Krishna Kumar <krkumar@us.ibm.com>
Date:   Mon Jan 19 05:16:04 2004 -0800

    [IPV6]: Add missing sentinel to ipv6_route_table.

commit 7685e7edb44ed047fffe9954b12a76896ec15194
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:15:58 2004 -0800

    [PATCH] uninline bitmap functions
    
    - A couple of them are using alloca (via DECLARE_BITMAP) and this generates
      a cannot-inline warning with -Winline.
    
    - These functions are too big to inline anwyay.

commit 8ce5870de372c3f15c4d34539e08305f70516139
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:15:48 2004 -0800

    [PATCH] Remove CLONE_DETACHED
    
    From: Andries.Brouwer@cwi.nl
    
    Remove obsolete CLONE_DETACHED

commit 8883639bf925984ee0693118828db7e46b2380cf
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:15:39 2004 -0800

    [PATCH] kbuild: Maintainers update
    
    From: Sam Ravnborg <sam@ravnborg.org>
    
    Modify MAINTAINERS to reflect the reality in maintainership for kbuild.
    This is ack'ed with Michael Elizabeth Chastain and Kai Germaschewski.
    
    I removed the list and web-site since they are not actively used today.

commit 22d7321905da4dec206410698323bb3cf3830634
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:15:31 2004 -0800

    [PATCH] ALI M1533 audio hang fix
    
    From: risto.sandvik@helsinki.fi
    
    Everything freezes when trying to play sounds using the alsa driver opl3sa2
    (kernel supplied or 1.0.0rc2) on an Acer Extensa series laptop with the Ali
    M1533 PCI to ISA bridge.  Problem exists both in the 2.6 and 2.4 series of
    kernels.
    
    Adding AL_M1533 to drivers/pci/quirks.c fixes the problem for both.  This has
    been a known problem since 2.2.x (see
    http://www.mfn.unipmn.it/~sitta/linux503.html)

commit 2244b109b5f8e4afaf98733cfd7d3af0f34f6854
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:15:22 2004 -0800

    [PATCH] AFS upgrade
    
    From: David Howells <dhowells@redhat.com>
    
    Here's a patch to improve the AFS linux support. It:
    
     (1) Includes Pete's patch to skip the colon in the volume name, compile
         directly into the kernel, and not try to access non-existent caching
         routines.
    
     (2) Changes if (...) BUG() to BUG_ON()
    
     (3) Gets rid of typedefs.
    
     (4) Changes list_for_each() into list_for_each_entry().
    
     (5) Adds more whitespace and wraps lines to please the CodingStyle sticklers.

commit ae450eb1cddbaac6793c5ac6d28a286904a3ce83
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:15:12 2004 -0800

    [PATCH] rxrpc update
    
    From: David Howells <dhowells@redhat.com>
    
    Here's a patch to fix some bugs in my RxRPC code, including the fix for the
    transport initialisation failure recovery spotted by Pete Zaitcev.
    
    It also inserts some extra spaces in a few places.

commit b6c06e029879e70bbdc2f31bf2cb3a32f9f74ac1
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:15:03 2004 -0800

    [PATCH] sgiioc4.c cleanup weak symbol and error numbers
    
    From: Jes Sorensen <jes@trained-monkey.org>
    
    The included patch removes the usage of weak symbols from sgiioc4.c now
    that we have the Kconfig issue sorted as well as cleans up the error no
    handling (instead of return 1 on error) and adds a check for the return
    value on snia_pci_endian_set as suggested by Christoph.

commit ddb89db636e57cf164956849b3ae2453fe8e4784
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:14:54 2004 -0800

    [PATCH] remove spurious strdup
    
    From: James Morris <jmorris@redhat.com>
    
    AFS has an unused strdup() implementation.

commit 6c5703d5677a3f5b8f74aa08c1e46d200a6e21b5
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:14:46 2004 -0800

    [PATCH] rq_for_each_bio fix
    
    From: Xavier Bestel <xavier.bestel@free.fr>
    
    Within the body of this macro we are accessing rq->bio, but `bio' is an arg
    to the macro.  If someone uses this macro with some variable which is not
    named `bio' it won't compile.
    
    So use a more-likely-to-be-unique identifier for the macro.

commit 05d38d77e41f1aab86fa70d653800acf726d7156
Author: Petri T. Koistinen <petri.koistinen@iki.fi>
Date:   Mon Jan 19 05:14:44 2004 -0800

    [IPV4]: Fix URL mentioned for IP_ROUTE_NAT.

commit 489a867c51086cadf495bc6aa0839ef090fa740f
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:14:37 2004 -0800

    [PATCH] cleanup single_open usage in dma.c
    
    From: Jeff Muizelaar <muizelaar@rogers.com>
    
    The attached patch lets the seq_file api take care of buffer allocation
    instead of doing it by hand.

commit efe067fac0fcd767a4dbe3c52d7548d43499c5c4
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:14:28 2004 -0800

    [PATCH] ppc cond_syscall fix
    
    From: Matt Mackall <mpm@selenic.com>
    
    Experimenting with trying to use cond_syscall for a few arch-specific
    syscalls, I discovered that it can't actually be used outside the file
    in which sys_ni_syscall is declared because the assembler doesn't feel
    obliged to output the symbol in that case:
    
    weak.c:
    
    #define cond_syscall(x) asm(".weak\t" #x "\n\t.set\t" #x ",sys_ni_syscall");
    cond_syscall(sys_foo);
    
    $ nm weak.o
             U sys_ni_syscall
    
    One arch (PPC) is apparently trying to use cond_syscall this way
    anyway, though it's probably never been actually tested as the above
    test was done on a PPC.
    
    After trying a bunch of tricks to get it to work nicely, I decided
    there are basically two alternatives: make weak versions of
    sys_ni_syscall wherever they're wanted or put the arch-specific
    cond_syscalls in kernel/sys.c where sys_ni_syscall is defined.
    
    The former approach is a bit crufty and doesn't actually do the right
    thing in practice as you'll get multiple copies of sys_ni_syscall in
    your final image.
    
    The latter introduces some slight arch-pollution in sys.c, but as
    arch-specific cond_syscalls aren't all that frequent, it should be
    pretty minor. So here's a patch to move the current offender to sys.c:

commit 2d0630e0977847dc9cb229061e9a75cc682afcae
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:14:19 2004 -0800

    [PATCH] remove null-ilizers
    
    From: Jes Sorensen <jes@trained-monkey.org>
    
    The following patch removes a couple of null-ilizers of global variables.
    Not a big deal, but every byte helps in the .data segment ;-)

commit 31f73ed392786be28bdaa8a1ba0c8110dca701ed
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:14:10 2004 -0800

    [PATCH] fix error case in binfmt_elf.c:load_elf_interp
    
    From: Roland McGrath <roland@redhat.com>
    
    Julie DeWandel noticed that in the error case where elf_map has failed,
    load_elf_interp will (at the out_close: label) return the `error' variable,
    but that will contain the result of a prior operation and not the error
    number from elf_map.

commit 3d122f30160dacbab5ebf038584d210506ecc4f7
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:14:01 2004 -0800

    [PATCH] isapnp modem addition
    
    From: David Sanders <linux@sandersweb.net>
    
    Patch adds support for another pnp modem in 2.6 kernel.

commit 22770def36bdd490316203fd08ae67b41d26b3cc
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:13:52 2004 -0800

    [PATCH] setscheduler fix
    
    From: Joe Korty <joe.korty@ccur.com>
    
    task_running(rq,p) is equivalent to (rq->curr == p) only for some
    architectures.

commit 8ef1b7ac6b84bf7afdfda0ea46dabbbd96cbc027
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:13:44 2004 -0800

    [PATCH] sysrq_key_table_key2index() fixlets
    
    - It's using & where it meant to use &&.  (Randy Dunlap)
    
    - It has two callsites - uninline it.

commit f598fb8d97c017bd343a75a3fe906e7d45918d5e
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:13:35 2004 -0800

    [PATCH] if ... BUG() -> BUG_ON()
    
    From: Adrian Bunk <bunk@fs.tum.de>
    
    four months ago, Rolf Eike Beer <eike-kernel@sf-tec.de> sent a patch
    against 2.6.0-test5-bk1 that converted several if ...  BUG() to BUG_ON()
    
    This might in some cases result in slightly faster code because BUG_ON()
    uses unlikely().

commit fd2ac4b289d00952ee14782ed5d282dcb0191a6c
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:13:24 2004 -0800

    [PATCH] make gcc 3.4 compilation work
    
    From: David Mosberger <davidm@napali.hpl.hp.com>
    
    With gcc-3.4 we need "attribute((used))" declarations to get "make
    modules_install" to work.
    
    Otherwise these sections get dropped from the final image (I assume).

commit ce65cade5848263c483eda1b7ffe9ed5a01a0c8f
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:13:14 2004 -0800

    [PATCH] Arrange for EFI-related code to be compiled away
    
    From: David Mosberger <davidm@napali.hpl.hp.com>
    
    There is some EFI-related code which is present in the ia64 build but is not
    needed: variable efi_enabled is always zero.
    
    The patch fiddles with the efi_enabled definition to arrange for
    `efi_enabled' to be constant zero or constant one in those situations where
    this can be guaranteed.

commit d91341a903501da6249a38f0c35528f176b5f533
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:13:05 2004 -0800

    [PATCH] ext3: fix determination of inode journalling mode
    
    The test for whether an inode is using journalled, ordered or writeback data
    is incorrect and can lead to ext3_set_aops() giving the inode the wrong set
    of address_space_operations.  Fix.  (Spotted by Jan Kara).

commit 7766a93b9d7b27c48c70abbd36fdd64cfec30023
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:12:56 2004 -0800

    [PATCH] Add bdev private field
    
    From: Christoph Hellwig <hch@lst.de>
    
    Currently xfs has a per-bdev (and XFS filesystem uses up to three underlying
    block devices) object that Al complained about loudly that it should be gone.
    
    But for that to happen without rewriting half of XFS (and changing layering
    in a way that we don't really want) we need an additional fs-private variable
    in struct block_device.

commit 175770e5aa81a34f36f1986c42b270b2d8efcc0d
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:12:47 2004 -0800

    [PATCH] tmpfs readdir does not update dir atime
    
    From: mark@borgerding.net
    
    Access times of tmpfs dirs do not get updated on readdir.  This can cause
    empty dirs to get tmpwatch'd too early, b/c atime never changes even though
    the dir is in use.

commit eb4f6fb91be878c1acd727d62abb600b77b631fd
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:12:38 2004 -0800

    [PATCH] Fix statically declare FIXMAPs
    
    From: Anton Blanchard <anton@samba.org>, me.
    
    Two uses of the FIXADDR_USER_START/END things are problematic:
    
    a) ppc64 wants the FIXADDR area to be at a different location on 32bit and
       64bit tasks.  On 32bit we want it just below 4GB but that gets in the way
       on 64bit.  By putting both right at -(some small amount) we can also use
       some ppc tricks to get there real quickly (single instruction branches).
    
    b) We assume that FIXADDR_USER_START and FIXADDR_USER_END are constants.
       This breaks the UML build.
    
    Fixes:
    
    - Call it all gate. We currently have half the stuff called fixmap and
      the other gate, lets be consistent.
    
    - Create in_gate_area(), get_gate_vma() and use it in both places
    
    - Provide defaults for in_gate_area/get_gate_vma, allowing an arch to
      override it. (I used CONFIG_* but am open to better suggestions here)
    
    - The /proc/pid/maps vma wasnt marked readable but the get_user
      vma was. That sounds suspicious to me, they are now both the same VMA
      and so have the same (read,exec) permissions

commit 3ab8835250b69514319969a97661b1d83814b637
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:12:29 2004 -0800

    [PATCH] Alpha: make prefetch_spinlock() a no-op on UP
    
    From: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
    
    When CONFIG_SMP is not set, spinlock_t is an empty structure, so its
    address has arbitrary alignment.
    
    The prefetch instructions with unaligned address don't have visible side
    effects on alphas with SRM console (except performance degradation) - the
    PALcode handles unaligned traps caused by prefetch instructions internally.
    However, on old AlphaBIOS/MILO boxes unaligned prefetch leads to unhandled
    alignment trap and kernel panic.

commit 68cfa179d94df4c16145e3b3aa30a35120ddf0db
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:12:20 2004 -0800

    [PATCH] suspend/resume support for PIT
    
    From: Pavel Machek <pavel@ucw.cz>
    
    This adds proper suspend/resume support for PIT.  That means that clock are
    actually correct after suspend/resume.

commit 7f6060e841366691d19378e7ba7d0da50d85d796
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:12:11 2004 -0800

    [PATCH] fix up CPU detection in p4-clockmod
    
    From: Dominik Brodowski <linux@dominikbrodowski.de>
    
    Too many users use the p4-clockmod cpufreq driver instead of the more
    advanced speedstep-centrino, speedstep-ich or even acpi drivers.  All of
    the latter (usually) provide voltage scaling, while the p4-clockmod driver
    only offers a variant of frequency scaling.  So, warn users if they try out
    this driver instead.
    
    Also, instead of using a local copy, use the speedstep_lib infrastructure
    for detecting the processor speed.  Adding the Pentium-M get_frequency
    function to that module only costs about 200 bytes in object size.

commit 6dd6551ee50466dbbdcd111a34f38037038bef2e
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:12:01 2004 -0800

    [PATCH] kconfig: fix menuconfig exit code
    
    From: Sam Ravnborg <sam@ravnborg.org>
    
    If the user decides to not write the config file out, menuconfig exits with
    a non-zero code.  This causes make to allege that there was an error.

commit ded29eb19869805d3ea7cfb4a6257f61f6873bab
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:11:52 2004 -0800

    [PATCH] revert lazy readahead
    
    From: Trond Myklebust <trond.myklebust@fys.uio.no>
    
    The following reversion is what fixes my regression.  That puts the
    sequential read numbers back to the 2.6.0 values of ~140MB/sec (from the
    current 2.6.1 values of 14MB/second)...
    
    We were triggering I/O of the `ahead' when we hit the last page in the
    `current' window.  That's bad because it gives no pipelining at all.
    
    So go back to full pipelining.
    
    It's not at all clear why this change made a 10x difference in NFS
    throughput.

commit 2fd5058589fd9d453a5dceefbcb4c5c5b1b7ef11
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:11:43 2004 -0800

    [PATCH] readahead part-backout
    
    From: Ram Pai <linuxram@us.ibm.com>
    
    Remove the up-front readahead code from the core pagecache read
    function: it's really bad for large reads.

commit f1933a6dd8c813d5f7482f4fc48dd343003a10de
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:11:34 2004 -0800

    [PATCH] vmscan: initialize zone->{prev,temp}_priority
    
    From: Nikita Danilov <Nikita@Namesys.COM>
    
    This patch initializes zone->{prev,temp}_priority to DEF_PRIORITY.
    Otherwise they are left zeroed, and first run of VM scanner thinks that
    zones are under enormous stress.

commit 8e05ea563f2fccdc9faedb483843fbaa82151ecf
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:11:24 2004 -0800

    [PATCH] bio documentation update
    
    From: Jens Axboe <axboe@suse.de>
    
    Although it was an established part of the current bio api, it was never
    documented that bio_add_page() and merge_bvec_fn() must accept to add at
    least one page to an empty bio.

commit f5ace1666d0e4b2de3635355e84009a9bed23ed5
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:11:15 2004 -0800

    [PATCH] Kconfig: use range for NR_CPUS
    
    From: Adrian Bunk <bunk@fs.tum.de>
    
    The 2.6 Kconfig language allows to set the range for integer questions.
    
    The patch below adds a range line on all architectures that have a
    NR_CPUS question except ia64.
    
    The help text on ia64 didn't suggest any values. Could someone tell the
    correct values for ia64 (and if it's only a minimum value of 2)?

commit 9a7d8a465e8ec9182aca00c335e59ce7de78e123
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:11:05 2004 -0800

    [PATCH] Fix Documentation/SubmittingPatches to use -p
    
    From: "Martin J. Bligh" <mbligh@aracnet.com>
    
    Patches are a damned sight easier to read if people use the '-p'
    option to diff ... this generates output that looks like this:
    
     "@@ -323,6 +323,7 @@ void put_dirty_page(struct task_struct *"
    
    for each block. This patch simply adds that to the documentation
    file, in the hope of steering new users in the right direction.

commit 5564164798f25dcfc92b0d314a83e5d86c26a9a2
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:10:56 2004 -0800

    [PATCH] ppc32: OF bootwrapper support
    
    From: Tom Rini <trini@kernel.crashing.org>
    
    Re-add support to the bootwrapper for talking with OF on PReP machines.
    This fixes memory detection of some machines.

commit 3b7501ef4add9725f25f6446890def03416a69d7
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:10:48 2004 -0800

    [PATCH] Relocation overflow with modules on Alpha
    
    From: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
    
    Larger modules fail to load with the message "Relocation overflow vs
    section 17", or some other section number.
    
    This failure happens with GPRELHIGH relocation, which is *signed* short,
    but relocation overflow check in module.c doesn't take into account the
    sign extension.

commit 21c7c9d2356d2ebe5c47f29aec33ecc040f418ad
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:10:39 2004 -0800

    [PATCH] Identify RADEON Yd in radeonfb
    
    From: Bernardo Innocenti <bernie@develer.com>
    
    Identify a recent Radeon video card in radeonfb.

commit 490d4075866f7991dea333e020415fcfaaf1da9f
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:10:30 2004 -0800

    [PATCH] Simplify node/zone field in page->flags
    
    From: Matthew Dobson <colpatch@us.ibm.com>
    
    This patch does the following:
    1) Rename ZONE_SHIFT to NODEZONE_SHIFT.  This value is the number
        of bits to shift page->flags to get the node/zone part of the
        bitfield.
    2) Add a macro called NODEZONE which takes a node number and zone number
        and returns a 'nodezone', a bitshifted composition of the two.
    3) Create page_zonenum & page_nodenum, inline functions to return the
        node/zone a page belongs to with some simple bit twiddling, no
        pointer dereferences necessary.
    4) Modify page_zone() and set_page_zone() to use the new NODEZONE_SHIFT.
    5) Modify memmap_init_zone() & free_area_init_core() to use the new
        NODEZONE macros.
    6) Fix up some comments to reflect the above changes.

commit 4685ee17a6f79f5ba21098737df54174ef277589
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:10:21 2004 -0800

    [PATCH] RTC leaks.
    
    From: Russell King, Tom Rini, Dave Jones
    
    As plugged in 2.4 recently.
    
    Fix some leakage of uninitialised memory to userspace via rtc reads.

commit 1fbe06d4792c8dc6e299ce04a79a336b77b47a63
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:10:11 2004 -0800

    [PATCH] clarify meaning of bio fields in the end_io function
    
    From: Christophe Saout <christophe@saout.de>
    
    The intent of these are to clarify the meaning of the bio fields in the
    bi_end_io function (since we are already mostly there).  After these small
    modifications bio->bi_idx and the corresponding bio_iovec(bio)->bv_offset
    point to the beginning of the completed data, together with the nr_bytes
    argument you know exactly what data was finished, e.g.  when you can't
    track it otherwise (or it would be unnecessary expensive).  Apart from that
    it's a nice-to-have.
    
    The first mini-patch moves the update of bio_iovec(bio)->bv_offset and
    ->bv_len after the call of bi_end_io where bi_idx gets updated so they get
    updated together.  Ok with Jens.
    
    The second part of the patch modifies the multwrite hack in PIO non-
    taskfile ide disk code.  It modifies the bi_idx field to walk the bios and
    doesn't reset it correctly before ending the request.  The patch uses the
    segment counter in the request field to correctly restore the bi_idx field
    before ending the request.  Can't possibly break anything since it's
    working on the local request copy ("scratchpad") anyway.  Also does this in
    legacy/pdc4030.c (similar code).  The code modified here is going to die
    anyway any trying to fix it would be too invasive.  Ok with Bartlomiej.

commit 9c02379cf6b7657835723f98d8e3039399eab31c
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:10:03 2004 -0800

    [PATCH] Optimize proc_pid_lookup
    
    From: Manfred Spraul <manfred@colorfullife.com>
    
    readdir on /proc has two problems: reading all entries is O(N^2), and
    entries are overlooked if tasks die in the middle of readdir: the readdir
    implementation remembers the offset into the task list, and if a task
    (actually: process) that was returned by previous readdir calls exits, then
    a random entry is dropped.
    
    The attached patch fixes the O(N^2) by using f_version to store the pid of
    the task that should be returned next.  This speeds up reading /proc to
    O(N).  Additionally, it mitigates the effects of dying tasks: Tasks are
    skipped only if the task whose pid is stored in f_version exits, all other
    task deaths have no effect.  Unfortunately the code has a bad worst case
    behavior: if the targeted task exits and a new task with the same pid is
    created, then all entries in the task list between old and new position are
    dropped.  This should be rare.

commit b8ad9f1fe0059f496cad89ce76040247e5e03ed1
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:09:54 2004 -0800

    [PATCH] tridentfb documentation fix
    
    From: Bram Stolk <bram@sara.nl>
    
    Fixes for Documentation/fb/modedb.txt and Documentation/fb/tridentfb.txt

commit ef03c46d0491c543a5c178fe5689e8eed9c03493
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:09:46 2004 -0800

    [PATCH] Remove redundant code in workqueue.c
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    It turns out that run_workqueue never has signal_pending(), since setting
    the handler to SIG_IGN means "don't make zombies, I'm ignoring them".  Fix
    the comment, don't allow the signal, and remove the unused waitpid loop.
    
    This also allows simpler conversion of workueues to the kthread mechanism,
    which uses signals to indicate it's time to stop.

commit c8800d33921af03b30e3e5bbb11e8d70e2a75326
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:09:37 2004 -0800

    [PATCH] OSS dmabuf deadlock fix
    
    Spotted by From: Christian Borntraeger <kernel@borntraeger.net>
    
    dma_reset_input() takes dmap->lock, so call it without that lock held.

commit 9a981cd1c241fb7e305ed2294bdc8c2d0a9dffed
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:09:28 2004 -0800

    [PATCH] allow SGI IOC4 chipset support
    
    From: jbarnes@sgi.com (Jesse Barnes)
    
    The 'depends' directive for SGI IOC4 support is too restrictive.  Just make
    it depend on ia64.

commit 5addc56513fedccceaf2fc1291a2946792f277eb
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:09:20 2004 -0800

    [PATCH] do_no_page leak fix
    
    We leak a page in do_no_page() if pte_chain_alloc fails.

commit c69b2383e51ef08ef62654063fa6e9d7765bc824
Author: Luiz Capitulino <lcapitulino@prefeitura.sp.gov.br>
Date:   Mon Jan 19 05:09:17 2004 -0800

    [BRIDGE]: Fix br_netfilter.c build with CONFIG_SYSCTL disabled

commit 43807a0ea1e0c95e6b8ad47196df2d7de6c30167
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:09:11 2004 -0800

    [PATCH] Eicon isdn driver alloc buffer size fix
    
    From: Armin <armin@melware.de>
    
    - Allocate buffer of correct size.
    
    - Fix possible buffer overflow.
    
    - Use correct debug level for double registered application.

commit a042f9218b233cc67c23f1f21e80e3d30639aeee
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:09:02 2004 -0800

    [PATCH] Eicon isdn driver hardware access fix
    
    From: Armin <armin@melware.de>
    
    It fixes access to hardware memory of wrong size and therefore removes a
    compiler warning.  The hardware trap variable must be read as 32bit value.

commit 77bfc31ed22d666d2495335f620bb6b34d0ff647
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:08:53 2004 -0800

    [PATCH] remove old Eicon isdn driver
    
    From: Armin <armin@melware.de>
    
    The new driver for Eicon ISDN cards is in drivers/isdn/hardware/eicon.
    
    The old driver is still in drivers/isdn/eicon and I would like to remove
    this old driver from the 2.6 kernels.
    
    The attached patch removes the references to this driver, but in addition
    the directory drivers/isdn/eicon should be removed.

commit 63f253bbb2ae077dfa6bdc2af30b03a4ead6605f
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:08:44 2004 -0800

    [PATCH] jbd: start_this_handle() return value fix
    
    From: Alex Tomas <alex@clusterfs.com>
    
    start_this_handle() returns 0 always.  because of this journal_start() may
    return handle with h_transaction = NULL

commit 4631b75ff78c9c4db4f3209d9a37c6793848b916
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:08:35 2004 -0800

    [PATCH] Remove Intel check in i386 HPET code
    
    From: Andi Kleen <ak@muc.de>
    
    The i386 HPET time setup code would explicitely check for the Intel vendor
    ID.  That is bogus because other chipset vendors (like AMD) are
    implementing HPET too.
    
    Remove this check.

commit 52db2a960277bf8b0e90320f6394da1d54bb553c
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:08:26 2004 -0800

    [PATCH] module removal race fix
    
    From: Rusty Russell <rusty@au1.ibm.com>
    
    Vatsa spotted this: you can remove a module while it's being initialized,
    and that will be bad.  Hole was opened when I dropped the sem around the
    init routine (which can probe for other modules).

commit faab2e128788b29b53a231b1c150e91cb1a6cadd
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:08:17 2004 -0800

    [PATCH] set_cpus_allowed locking
    
    From: Nick Piggin <piggin@cyberone.com.au>,
          Rusty Russell <rusty@rustcorp.com.au>
    
    Prevents a race where sys_sched_setaffinity can race with
    sched_migrate_task and cause sched_migrate_task to restore an invalid
    cpu mask.

commit af7846e44fdd014fc9e1d7058ff96e75e0801699
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:08:08 2004 -0800

    [PATCH] do_timer_gettime() cleanup
    
    - Make it static
    
    - It is larger and has two callsites: uninline it.

commit 8e1b379f569672d4b23fe72075fb7207d251382c
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:07:59 2004 -0800

    [PATCH] Fix weird placement of inline
    
    From: Jesper Juhl <juhl-lkml@dif.dk>
    
    I'm compiling 2.6.1-rc1-mm1 with "-W -Wall" to look for potential problems
    and minor stuff to clean up.
    
    One of the things that enabling the extra warnings turn up is errors about
    the placement of the inline keyword.

commit b0973709d182d6f05858d383eb2fdac796fe1b82
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:07:51 2004 -0800

    [PATCH] ext2: fix build when EXT2_DEBUG is set
    
    Fix warnings and build errors under EXT2_DEBUG.

commit 201dbc6669e75bd04d49520bff97c70fab711d3b
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Mon Jan 19 05:07:46 2004 -0800

    [SPARC64]: Update defconfig.

commit 79dfabdf516bed7e38149c2cf59a1c27ffaf9d18
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:07:42 2004 -0800

    [PATCH] Fix softcursor
    
    From: Pavel Machek <pavel@ucw.cz>
    
    Softcursor was broken for half of 2.5 series.  This fixes it by first
    hiding cursor _then_ hiding softcursor.  Very simple mistake...

commit 34afcdd957307fc765e6850300d7ba2f7211886a
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:07:33 2004 -0800

    [PATCH] Remove x86_64 leftover SIMNOW code
    
    From: Pavel Machek <pavel@ucw.cz>
    
    This is obsolete x86-64 code.

commit 546e1d8baf586ecc701280aa328df7251d70ddb8
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:07:24 2004 -0800

    [PATCH] ext3: s_next_generation fixes
    
    - Add missing locking around s_next_generation increment
    
    - Correctly set the initial value of s_next_generation.

commit 6283f86ec40c482d69acb720451cf69098009b9d
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:07:14 2004 -0800

    [PATCH] ext2: s_next_generation locking
    
    There is no locking around the increment of this per-filesystem counter.
    Create a new lock, just for this.

commit 70d4c9f258a2d99d8dfe7f7274967872573b0f63
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:07:05 2004 -0800

    [PATCH] ext2_new_inode nanocleanup
    
    We've cached EXT2_SB(sb) in local variable `sbi'.  Use it.

commit 0fd0c48e7bca57cd6754e4b9b777b0a82db11e48
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:06:56 2004 -0800

    [PATCH] swsusp/sleep documentation update
    
    From: Pavel Machek <pavel@ucw.cz>
    
    This kills outdated docs, and adds some helpful docs about video issues
    with suspend.

commit 6393cddd9af454020ede62ac337c33784f23dda8
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:06:47 2004 -0800

    [PATCH] s3 sleep: Kill obsolete debugging code
    
    From: Pavel Machek <pavel@ucw.cz>
    
    wakeup.S includes some rather nasty, and unneccessary debugging code.  (It
    used to try to flush caches/tlbs; now its totally useless).

commit 45f6cf9d5dc782ac203bc84da16791c19fbce949
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:06:37 2004 -0800

    [PATCH] MAINTAINERS update
    
    From: "H. Peter Anvin" <hpa@zytor.com>
    
    MAINTAINERS update

commit 3af6d494ee63e97d706178882ccd9245f1932e92
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:06:28 2004 -0800

    [PATCH] fix page counting for compound pages
    
    From: "Bryan O'Sullivan" <bos@serpentine.com>
    
    For compound pages, page_count needs to be sure to reference the head page.
    
    This affects code that plays tricks with memory mappings into userspace,
    which would mostly involve video drivers.

commit b58f2e6f01c7e57aa1d96a5e7ed56cd7b84d0709
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 19 05:06:19 2004 -0800

    [PATCH] cpu_sibling_map fix
    
    From: "Nakajima, Jun" <jun.nakajima@intel.com>
    
    Restore the HT detection algorithm.  Make the processor package mapping
    subarch-specific so that it can reflect the APIC ID info provided by BIOS
    if required.

commit bd23ad706ee39fc5e8a530380c4ccc2b1a4aba4c
Merge: d8baa0e... 3ac3019...
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Mon Jan 19 05:05:07 2004 -0800

    Merge http://linux-lksctp.bkbits.net/lksctp-2.5.work
    into nuts.ninka.net:/disk1/davem/BK/net-2.6

commit d8baa0e00589d7e03585a8ecad8100f0e8531d25
Author: Alex Pankratov <ap@cipherica.com>
Date:   Mon Jan 19 05:03:32 2004 -0800

    [NET]: Fix dst_gc_timer initialization.

commit c0dfbdceea7530b27b938a69e856ef20ea47116a
Author: Hideaki Yoshifuji <yoshfuji@linux-ipv6.org>
Date:   Mon Jan 19 05:02:20 2004 -0800

    [IPV6]: Fix array size and missing sentinal in sysctl table of addrconf.c

commit a5ab05a59369fe16e18c5063848e62c9c8025ac8
Merge: 0010bc5... 30cbd07...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Jan 19 04:53:27 2004 -0800

    Merge http://linux-watchdog.bkbits.net/linux-2.6-watchdog
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 75563be1078b3948bf7b93cd3a0fc8a42e68bdf8
Merge: 0010bc5... 05c7987...
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Mon Jan 19 04:49:35 2004 -0800

    Merge nuts.ninka.net:/disk1/davem/BK/network-2.6
    into nuts.ninka.net:/disk1/davem/BK/net-2.6

commit eeaadb279a99d817eb5198a5de1aef0070638382
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Mon Jan 19 04:41:09 2004 -0800

    [SCSI_ACARD]: atp870u.c needs linux/init.h

commit e97d374cc044332e6b0e71c8da1f4f608ce2240d
Merge: 0010bc5... 7b7e8b7...
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Jan 19 07:24:00 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/sparc-2.6

commit ddcb7c122488e3f2869d7fd9a76239ff98c92a1b
Merge: 0010bc5... 248624d...
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Jan 19 06:25:47 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/linux-2.6

commit 5a8d6ecf62b3ef2a0cde434e9bfdd33b76c07496
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 19 00:57:07 2004 -0800

    [PATCH] Kobject: prevent oops in kset_find_obj() if kobject_name() is NULL
    
    Thanks to Hollis Blanchard <hollisb@us.ibm.com> for pointing this out.

commit 6c4b9b994c97126e3988bb2870e05ebc9d39da1f
Merge: 1c2a00a... 6ce612a...
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Mon Jan 19 03:51:38 2004 -0500

    Merge mulgrave.(none):/home/jejb/BK/scsi-misc-2.6
    into mulgrave.(none):/home/jejb/BK/scsi-for-linus-2.6

commit 9f1257d71211e6eb138fe3e722147e1134524134
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 19 00:45:49 2004 -0800

    [PATCH] ALSA: add sysfs class support for ALSA sound devices
    
    This patch adds support for all ALSA sound devices.  The previous OSS
    sound patch is required for this one to work properly.
    
    This patch is based on a work originally written by
    Leann Ogasawara <ogasawara@osdl.org>

commit 93796c8e5114d8a9b51c583ced100fd2cf34daf0
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 19 00:45:11 2004 -0800

    [PATCH] OSS: add sysfs class support for OSS sound devices
    
    This patch adds support for all OSS sound devices.
    
    This patch is based on a work originally written by
    Leann Ogasawara <ogasawara@osdl.org>

commit 552b99381a4f14c31e77cbe74ff3a06532cae904
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 19 00:41:53 2004 -0800

    [PATCH] MISC: add sysfs class support for misc devices
    
    This adds class/misc/ for all misc devices (ones that use the
    misc_register() function).

commit 6cba9612be9de7105868ad912c61deb69316bc34
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 19 00:40:57 2004 -0800

    [PATCH] MEM: add sysfs class support for mem devices
    
    This adds class/mem/ for all memory devices (random, raw, null, etc.)

commit 517b9727c42d767113aaa5d682b45204d5d08492
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 19 00:39:52 2004 -0800

    [PATCH] LP: add sysfs class support for lp devices
    
    Add sysfs class support for lp devices.
    
    Based on a patch from Hanna Linder <hannal@us.ibm.com>

commit e5da64c4f47e45a433214ef4325d01f6d1d7efa2
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 19 00:38:36 2004 -0800

    [PATCH] Input: add sysfs class support for input devices
    
    This patch adds sysfs support for all input devices.  It also provides
    the "device" and "driver" symlink for all Input devices that specify it.

commit 90635a76999bc97e043e609e0682b62c414cb7eb
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 19 00:36:04 2004 -0800

    [PATCH] TTY: clean up sysfs class support for tty devices
    
    This patch ports the existing tty class support to the class_simple
    interface, saving a lot of code in the process.

commit 7ad25aef21b02b215890bbe952fe23680df7e54a
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 19 00:33:14 2004 -0800

    [PATCH] Driver Core: add class_simple support
    
    This patch adds a struct class_simple which can be used to create
    "simple" class support for subsystems.
    
    It also adds a class_release() callback for struct class, as it is
    needed to properly handle the reference counting logic.

commit 73009dd485707254f4ae4a59f242fa3e796041cb
Author: Hollis Blanchard <hollisb@us.ibm.com>
Date:   Mon Jan 19 00:31:36 2004 -0800

    [PATCH] Driver Core: add device_find() function
    
    Greg KH wrote:
    >
    > How about just adding a device_find() function to the driver core, where
    > you pass in a name and a type, so that others can use it?
    
    Something like this?

commit b989f180460c5b491b81c9d8227fc31c00c3bbc2
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Mon Jan 19 00:21:50 2004 -0800

    [PATCH] kobject: make kobject hotplug function public
    
    make kobject hotplug mechanism public so that others may call it.

commit 7dba52a904e088a08107dfd629c01f2358b2021b
Merge: 0010bc5... ffe56da...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Jan 18 23:20:25 2004 -0800

    Merge kroah.com:/home/greg/linux/BK/bleed-2.5
    into kroah.com:/home/greg/linux/BK/i2c-2.6

commit ffe56dae612a856718e3003abd054a00ee5fe9b9
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Jan 18 23:17:17 2004 -0800

    [PATCH] I2C: remove unneeded CVS Id: lines.

commit 3f7da3beed7a113a3f4daa0e79a7814fd63aa982
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Jan 18 23:07:53 2004 -0800

    [PATCH] I2C: add I2C_DEBUG_BUS config option and convert the i2c bus drivers to use it.
    
    This cleans up the mismatch of ways we could enable debugging messages.

commit 2a0ecedb3c81df8e243cebb24fc454abe1bb2f78
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Jan 18 23:07:28 2004 -0800

    [PATCH] I2C: add I2C_DEBUG_CHIP config option and convert the i2c chip drivers to use it.
    
    This cleans up the mismatch of ways we could enable debugging messages.

commit 862925720a9274696153c70d792b04720aa2d3ec
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Jan 18 23:06:56 2004 -0800

    [PATCH] I2C: add I2C_DEBUG_CORE config option and convert the i2c core code to use it.
    
    This cleans up the mismatch of ways we could enable debugging messages.

commit 6ce612a6b991d572c54956af29bed6bb843a4118
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Mon Jan 19 02:03:48 2004 -0500

    [PATCH] No LUNs detected with qla2xxx / qla2300
    
    The problem is during the removal of the failover and IOCTL code
    from the scsi-qla2xxx-2.6 tree, one critical piece of code
    (a one-liner) was inadvertently removed that effectively disables
    the drivers ability to bind fcports (devices found in the loop
    or fabric) to the SCSI nexus (h/b/t/l).

commit 85c9dbd553d35e5962ae8dae38d9b433c0730f25
Author: Jes Sorensen <jes@trained-monkey.org>
Date:   Mon Jan 19 02:00:32 2004 -0500

    [PATCH] qla1280 update
    
    I am attaching the latest patch for qla1280, which includes Andrew's and
    James' patches (modulo the 64 bit enable part) as well changes to make
    it handle pci_set_dma_mask() correctly and switch to only use one of the
    two SCSI command issuing versions depending on whether the driver is
    compiled for 64 or 32 bit DMA. The old code effectively did this anyway,
    but with this change it is no longer compiling in the part not used.

commit 1054e9d6ad45e837a84fd38cefd77fdd2925c264
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Jan 18 21:10:24 2004 -0800

    [PATCH] I2C: only select I2C_ITE if we are a MIPS system

commit b75d2b456b5896ef8fae5bb959d85c53f4aab254
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Jan 18 20:57:20 2004 -0800

    [PATCH] I2C: Autoselect i2c algos
    
    I replaced all dependancies on algos with dependancies on
    I2C + select algo. There are some cases outside of the i2c subdirectory.
    
    Also note that I slightly altered the condition to display the PCILynx
    comment. I think it's more logical that way. Without it, the user could
    get the message he/she needs I2C, go to enable it, come back and still
    not see the option.

commit 69cfcbdecdbfcaf506518d1610954ea21a00d246
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Jan 18 20:52:59 2004 -0800

    [PATCH] I2C: New driver: w83l785ts
    
    Here is a patch that adds a new chip driver to Linux 2.6.1 (+ previous
    patches). The w83l785ts driver handles a single chipset, the Winbond
    W83L785TS-S. I am the author of the original driver as found in
    lm_sensors 2.8.3. Wolfgang Ziegler AKA fago made an initial port to
    Linux 2.6, which I reviewed, and here it is.

commit 5c2da380dff7d159c629e26120453ce4bebfea77
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Jan 18 20:50:11 2004 -0800

    [PATCH] I2C: Fix i2c busses warnings with DEBUG
    
    Two bus drivers (i2c-via and scx200_acb.c) generate warnings when the
    whole i2c subsystem is compiled with -DDEBUG. Suggested changes follow.

commit 44a98b7218d9983886fb56059832f3ca5929f559
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Jan 18 20:49:57 2004 -0800

    [PATCH] I2C: Fix i2c-core.c with DEBUG
    
    At the moment, i2c-core.c fails compiling with DEBUG. Following patch
    should fix that.

commit 33e96c3f9c287ff55b48c5c6e96d066df3325e1c
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Jan 18 20:49:37 2004 -0800

    [PATCH] I2C: Fix lm90.c with DEBUG
    
    The recent patch that fixes lm83.c with DEBUG also applies to lm90.c. No
    wonder since I used the first as a template when porting the second.
    Patch follows.

commit 0010bc50c1863814bf9b9c37dabde0b48207f665
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sun Jan 18 20:04:15 2004 -0800

    [PATCH] siimage.c: remove a gcc warning when !CONFIG_PROCFS
    
    From: Luiz Fernando Capitulino <lcapitulino@prefeitura.sp.gov.br>,
          Randy.Dunlap <rddunlap@osdl.org>

commit 8f69871b6573e7f06e086f3aaeb5eb90959f9c32
Merge: 0962931... 72d4f16...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Sun Jan 18 19:41:32 2004 -0800

    Merge home.osdl.org:/home/torvalds/v2.5/merge
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 096293142ac0d70c6ba94aec246871182f31979a
Merge: f66f79e... 8da2020...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Sun Jan 18 18:57:48 2004 -0800

    Merge bk://bk.phunnypharm.org/ieee1394-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 72d4f16d85e764c2ae9176486b284b7a965abb51
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:57:43 2004 -0800

    [PATCH] load_elf_binary() oops fix
    
    If we detect an error late in this function, local variable `interpreter' can
    be NULL.  Don't try to fput() it in that case.

commit 67228094e5b2fd88181aa2cec8de66db025156de
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:57:26 2004 -0800

    [PATCH] 3c59x: module loading fix
    
    3c59x has a tunable `rx_copybreak'.  But it's declared const, so recent gcc's
    rub it out altogether, and modprobe says `3c59x: falsely claims to have
    parameter rx_copybreak'.

commit 3a5d0f0ce6c90c62edf52a11c1363ac823f8bdd8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:57:17 2004 -0800

    [PATCH] kNFSd: Move SVCFH_fmt from being 'inline' to being 'extern'.
    
    This way, the "static char buf" is defined only once instead
    of once per file.

commit cb614135db8174d14010f2aa8b8a4ca873400d59
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:57:09 2004 -0800

    [PATCH] kNFSd: Honour SUN NFSv2 hack for "set times to server time.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    From: Greg Banks <gnb@melbourne.sgi.com>,
    
    see comment in code.

commit 59cf7a5118cd18b045ae97ad100c69da3aa203be
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:57:00 2004 -0800

    [PATCH] kNFSd: Make sure dnotify events happen for NFS read and write.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Based on code from Terje Malmedal <terje.malmedal@usit.uio.no>

commit d1a8cd1a132b28110592be93fa79f33122b7d0fc
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:56:51 2004 -0800

    [PATCH] kNFSd: Fix incorrect call for follow_up
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    follow_up doesn't check that the passed dentry is at the root of the mounted
    file system, so we have to do that, to avoid calling follow_up too many
    times.

commit fd1b3e40d8f482e25253026867f9cbc621908bf9
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:56:42 2004 -0800

    [PATCH] kNFSd: Convert error status for failed lookup("..") properly.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    We weren't converting the -E* error code to an nfserr_* error code as we
    should.

commit 38bd700bf2663ce6dc76939a28c8d71de2f51d6e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:56:34 2004 -0800

    [PATCH] kNFSd: Fix problem with stale filehandles.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    nfsd_setuser was not called until after filehandle lookup was done, so
    filehandle lookup would use the wrong userid, and so the permission checking
    in nfsd_acceptable would be bogus.

commit b836356d9c542ba97fab7b7b7e0cdea3f6482cc7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:56:25 2004 -0800

    [PATCH] update OProfile maintainer
    
    From: John Levon <levon@movementarian.org>
    
    Please apply the below and accept patches directly from Philippe for
    OProfile in the future, as necessary.
    
    (Philippe is the other main developer of OProfile)

commit 01d2c0445b809191d135b0678cf78ce778f25ae2
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:56:16 2004 -0800

    [PATCH] modules: skip debug sections
    
    From: Tom Rini <trini@kernel.crashing.org>
    
    Skip debug sections of modules - taking 12 minutes to load the ipv6 module
    is a bug.  :)

commit c04e456f877e2d7b40e316dc86b00820faf80751
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:56:07 2004 -0800

    [PATCH] Use request_list as indicator that req originated from ll_rw_blk
    
    From: Mike Christie <michaelc@cs.wisc.edu>,
          Jens Axboe <axboe@suse.de>
    
    It's cleaner and more correct to look at req->rl to determine whether this
    request got from the block layer requests lists instead of using req->q.
    It's handy to always have req->q available, to lookup the queue from the
    request.

commit a7d9a66e12e8098300123ac0481cd9ee9703bee7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:55:58 2004 -0800

    [PATCH] v4l: add conexant 2388x driver.
    
    From: Gerd Knorr <kraxel@bytesex.org>
    
    This patch adds a experimental driver for Conexant 2388x based TV cards.
    
    DESC
    cx88-video compile fixes for older gcc
    EDESC
    
    Fix some gcc-3.xisms.

commit 151335ea0b19a01427db5e19f38ab50ef30dc4da
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:55:49 2004 -0800

    [PATCH] v4l: saa7134 driver update
    
    From: Gerd Knorr <kraxel@bytesex.org>
    
    This is a saa7134 driver update.  Changes:
    
    * add infrared remote support.
    
    * add support for more TV cards.
    
    * misc minor fixes.
    
    This patch depends on the ir-input patch.

commit 2aae415e5e5412b68a9fa39d4e0420825cbea27f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:55:39 2004 -0800

    [PATCH] v4l: add bttv IR input support.
    
    From: Gerd Knorr <kraxel@bytesex.org>
    
    This patch adds linux input layer based support for infrared remote
      controls.  It adds two new modules:
    
    * ir-kbd-i2c supports i2c-based IR receivers.
    
    * ir-kbd-gpio supports IR receivers connected to the bt878 gpio pins.
    
    This patch depends on the ir-input patch and the bttv driver update.

commit 91eaefcf9fd936a118ca33e9226d1fd85440ed12
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:55:29 2004 -0800

    [PATCH] v4l: tuner update
    
    From: Gerd Knorr <kraxel@bytesex.org>
    
    This is a i2c tuner module update.  Changes:
    
    * adds support for more tunes (mt2050, atsc, ...)
    
    * some reorganization, uses function pointers to branch to different
      functions for different tuner types.

commit 355cf16f9478a5fedd77f253b9fcec591239f478
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:55:21 2004 -0800

    [PATCH] v4l: misc i2c fixes
    
    From: Gerd Knorr <kraxel@bytesex.org>
    
    This is a collection of misc i2c tv helper module fixes.

commit e6cc7a13d4b5a8825ab3b51677892db6122632fd
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:55:12 2004 -0800

    [PATCH] v4l: add infrared remote support
    
    From: Gerd Knorr <kraxel@bytesex.org>
    
    This patch adds a module with some helper functions to handle infrared
    remotes using the linux input layer.  It doesn't do any useful stuff alone,
    but the saa7134 and bttv drivers will use that to support the remotes shipped
    with some TV cards.

commit bf3a93acc12eb76fee3b0caa2578d587984d77c2
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:55:03 2004 -0800

    [PATCH] v4l: bttv driver update
    
    From: Gerd Knorr <kraxel@bytesex.org>
    
    bttv driver update.  Changes:
    
    (1) Added a new, sysfs-based interface to allow access to the bt878 gpio
        lines from other kernel modules (new bttv-gpio.c file), which fixes alot
        of problems the old interface has (which still is in bttv-if.c, to be
        removed in 2.7).
    
    (2) moved the i2c code from bttv-if.c to bttv-i2c.c.
    
    (3) created a new "struct bttv_core" and moved some of the entries from
        "struct bttv" to the new one.  This is needed for (1) and makes the patch
        pretty big, althrough there is no actual code changes.
    
    (4) first cut for suspend support (S1 works for me).
    
    (5) usual batch of new/updated tv card list entries.
    
    (6) minor fixes.

commit d336a87a66f38bbabd01f6fca96213112cc63880
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:54:53 2004 -0800

    [PATCH] v4l: video-buf update
    
    From: Gerd Knorr <kraxel@bytesex.org>
    
    This patch contains video-buf fixes, mainly remove videobuf_lock() and
    videobuf_unlock() functions.  They are not needed as get_user_pages() locks
    down the pages anyway.

commit 3fcdee6b28470d336e29ee5ce212d24a05df5aa0
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:54:44 2004 -0800

    [PATCH] v4l: v4l2 update
    
    From: Gerd Knorr <kraxel@bytesex.org>
    
    This patch is a v4l2 update.  Changes:
    
    * added new ioctls (VIDIOC_G_PRIORITY, VIDIOC_S_PRIORITY) to give v4l apps
      priorities for tuning and other controls.  Main purpose is that backgrounds
      applictions like nxtvepg which are fishing informations from /dev/vbi
      (teletext, epg, ...) can run at lower priority than interactive tv apps and
      thus the user isn't annonyed with unexpected channel switches.
    
    * add a set of helper functions to handle priorities to the v4l2-common
      module.
    
    * minor fixes in the v4l1-compat module.
    
    * minor header file fixes.

commit 71b2640649328667bde0079bdc29b4d376449693
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:54:35 2004 -0800

    [PATCH] v4l: videodev update
    
    From: Gerd Knorr <kraxel@bytesex.org>
    
    This patch fixes some v4l2 ioctl #defines which have wrong _IO* macros.  It
    also adds a function which maps the old numbers to to new ones to maintain
    binary backward compatibility.

commit c70eeb097ea929c90eedc9e5a593e3a4cbd8fa04
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:54:26 2004 -0800

    [PATCH] Document EFI zero-page usage
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    Add x86 EFI zero-page usage to i386 docs.

commit ff52c714061273624887b5312b8d89626127d9a5
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:54:17 2004 -0800

    [PATCH] sn: cleanups and error checking
    
    From: Pat Gefre <pfg@sgi.com>
    
    - hwgfs cleanup
    - some oom checks and proper error returns
    - killed some dead code

commit 980053fcd13acf5b9e7e344a8573bd5566dbeb5c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:54:09 2004 -0800

    [PATCH] sn: A little re-formatting
    
    From: Pat Gefre <pfg@sgi.com>
    
    A little re-formatting
    Added pcibr_lock()

commit 802d6110da325731598fbb7099f1d432df36ce64
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:54:00 2004 -0800

    [PATCH] sn: Mostly printk clean up and remove some dead code
    
    From: Pat Gefre <pfg@sgi.com>
    
    Mostly printk clean up and remove some dead code

commit 052d56d8b07d29c931f0ae645b0466500b52ccd1
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:53:51 2004 -0800

    [PATCH] sn: Simulator check in pci_bus_cvlink.c
    
    From: Pat Gefre <pfg@sgi.com>
    
    Simulator check in pci_bus_cvlink.c

commit e05f4f178bc0857832cad2dd7439fd6f183b6aa5
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:53:43 2004 -0800

    [PATCH] sn: Minor clean up for ml_iograph.c
    
    From: Pat Gefre <pfg@sgi.com>
    
    Minor clean up for ml_iograph.c

commit f94e5d50a65426742cfeec801a984ad14525dd20
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:53:34 2004 -0800

    [PATCH] sn: Delete unused pciio.c code (???_host???_[sg]et)
    
    From: Pat Gefre <pfg@sgi.com>
    
    Delete unused pciio.c code (???_host???_[sg]et)

commit b5e2a94bc386809371ec5cf90e729050d75e56d0
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:53:26 2004 -0800

    [PATCH] sn: Delete unused code in pcibr_slot.c
    
    From: Pat Gefre <pfg@sgi.com>
    
    Delete unused code in pcibr_slot.c

commit 477a5076d53c52d88e13957a3e245ff937d539b4
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:53:17 2004 -0800

    [PATCH] sn: Error devenable not used - delete defs
    
    From: Pat Gefre <pfg@sgi.com>
    
    Error devenable not used - delete defs

commit 0fedfcc7d060e24628fd541374db8c8ab5209e4d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:53:09 2004 -0800

    [PATCH] sn: Don't call init_hcl from the fixup code
    
    From: Pat Gefre <pfg@sgi.com>
    
    Don't call init_hcl from the fixup code
    Delete reference to hwgraph_path_lookup()

commit a2ce7f08fc706e99a62e194f76349a4b9aae9cb1
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:53:00 2004 -0800

    [PATCH] sn: Remove irix_io_init - replace with sgi_master_io_infr_init
    
    From: Pat Gefre <pfg@sgi.com>
    
    Remove irix_io_init - replace with sgi_master_io_infr_init

commit fdc94c8bb10d4b1e0f1a9e527ceb6fc2bf44eb15
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:52:52 2004 -0800

    [PATCH] sn: sn_pci_fixup() clean up or is it fix up ???
    
    From: Pat Gefre <pfg@sgi.com>
    
    sn_pci_fixup() clean up or is it fix up ???

commit 8253032ddcfbc1fa8a0ac8ad95788410ebed3b83
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:52:43 2004 -0800

    [PATCH] sn: Minor code clean up of pcibr_error.c
    
    From: Pat Gefre <pfg@sgi.com>
    
    Minor code clean up of pcibr_error.c

commit 13b9590aeaf50ebf35c3828c37fcf3f03b525ebd
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:52:34 2004 -0800

    [PATCH] sn: pcibr_rrb.c cleanup
    
    From: Pat Gefre <pfg@sgi.com>
    
    pcibr_rrb.c cleanup

commit 3938e9efe73f0ea88bcbb6f0a749acbc8e012988
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:52:25 2004 -0800

    [PATCH] sn: More code clean up = mostly pcibr_slot.c
    
    From: Pat Gefre <pfg@sgi.com>
    
    More code clean up = mostly pcibr_slot.c

commit cb141c23967ed93463682306ce02f00ac7b94f7e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:52:16 2004 -0800

    [PATCH] sn: Added call to pcireg_intr_status_get
    
    From: Pat Gefre <pfg@sgi.com>
    
    Added call to pcireg_intr_status_get

commit 38fc9a4c607aa26380e4eb543090f9c8684a3ce2
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:52:07 2004 -0800

    [PATCH] sn: Include file clean up in pcibr_hints.c
    
    From: Pat Gefre <pfg@sgi.com>
    
    Include file clean up in pcibr_hints.c

commit 1aca9c822bed9b2e9d84bdb4847e2a5d9c2b7be3
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:51:59 2004 -0800

    [PATCH] sn: Make pcibr debug variables static
    
    From: Pat Gefre <pfg@sgi.com>
    
    Make pcibr debug variables static

commit db980d267320bbaa25384f05aa92d4f97f7adcdb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:51:50 2004 -0800

    [PATCH] sn: pci dma cleanup
    
    From: Pat Gefre <pfg@sgi.com>
    
    pci dma cleanup

commit 7e20b26d01ff7706df3b7b5a3127ce3009c8e47f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:51:40 2004 -0800

    [PATCH] sn: printk cleanup
    
    From: Pat Gefre <pfg@sgi.com>
    
    printk cleanup

commit fcafa96fefa21a71a3d851ce5d1fb60253b82ba9
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:51:31 2004 -0800

    [PATCH] sn: Remove the pcibr_wrap... functions
    
    From: Pat Gefre <pfg@sgi.com>
    
    Remove the pcibr_wrap... functions

commit fac023017a35216cb7c3cfe383aeade7d3c3a097
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:51:24 2004 -0800

    [PATCH] sn: Fixed an oom in pci_bus_cvlink.c
    
    From: Pat Gefre <pfg@sgi.com>
    
    Fixed an oom in pci_bus_cvlink.c
    Also added slot to flush code

commit 34a814b27f040108d675c654ec0cf9ec980c1273
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:51:16 2004 -0800

    [PATCH] sn: Clean up the bit twiddle macros in pcibr_config.c
    
    From: Pat Gefre <pfg@sgi.com>
    
    Clean up the bit twiddle macros in pcibr_config.c

commit bd4339c3344e5fc62c3657840f1f58c387dd9b61
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:51:06 2004 -0800

    [PATCH] sn: Added cbrick_type_get_nasid() function
    
    From: Pat Gefre <pfg@sgi.com>
    
    Added cbrick_type_get_nasid() function

commit 1a3f507d99b577041cf04b5f7f7296ee368606c2
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:50:58 2004 -0800

    [PATCH] sn: Added a missed opus mod and oom mod
    
    From: Pat Gefre <pfg@sgi.com>
    
    Added a missed opus mod and oom mod

commit 0b53ed5e7f69889622e0aedcb58975432e5f103f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:50:49 2004 -0800

    [PATCH] sn: Fix IIO_ITTE_DISABLE() args
    
    From: Pat Gefre <pfg@sgi.com>
    
    Fix IIO_ITTE_DISABLE() args

commit c57d1f3a6091d362ea0242b2d17f90f9d691aae5
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:50:41 2004 -0800

    [PATCH] sn: New pci provider interfaces
    
    From: Pat Gefre <pfg@sgi.com>
    
    New pci provider interfaces

commit 8e00ee40637772bfa352e05d17ba8cf7dfd7ba3f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:50:32 2004 -0800

    [PATCH] sn: Debug clean up in pcibr_dvr.c
    
    From: Pat Gefre <pfg@sgi.com>
    
    Debug clean up in pcibr_dvr.c

commit 5501e738c2cec13014e6f1ffc5329bd234e4a12f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:50:23 2004 -0800

    [PATCH] sn: Change the definition and usage of iio_itte - make it an array
    
    From: Pat Gefre <pfg@sgi.com>
    
    Change the definition and usage of iio_itte - make it an array

commit aee5612f8652ce0ff9c280653c5d348d2a4ef3c2
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:50:15 2004 -0800

    [PATCH] sn: Use numionodes
    
    From: Pat Gefre <pfg@sgi.com>
    
    Use numionodes

commit 5a867c03ab9cfe1970bd5b9fea8dd10021c2d00d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:50:06 2004 -0800

    [PATCH] sn: Need a bigger max compact node value
    
    From: Pat Gefre <pfg@sgi.com>
    
    Need a bigger max compact node value

commit 197858451179ed8ee1d0383b2f2da1800f1ee866
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:49:58 2004 -0800

    [PATCH] sn: Fixes for shuberror.c
    
    From: Pat Gefre <pfg@sgi.com>
    
    Fixes for shuberror.c

commit 6e9a5549b7b22166462fff7287c3b2376aad75b2
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:49:49 2004 -0800

    [PATCH] sn: SAL interface clean up
    
    From: Pat Gefre <pfg@sgi.com>
    
    SAL interface clean up

commit b41a3eecaa531e1fc39623c80c8248fe76447aed
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:49:40 2004 -0800

    [PATCH] sn: One less panic
    
    From: Pat Gefre <pfg@sgi.com>
    
    One less panic

commit 5aa27b7b4357268a906a6e8926fc56469dffbfb9
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:49:32 2004 -0800

    [PATCH] sn: Missed an include file in the last patch
    
    From: Pat Gefre <pfg@sgi.com>
    
    Missed an include file in the last patch

commit 66ac283cd80e6965a51cfdbc762e1a8e2a860536
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:49:23 2004 -0800

    [PATCH] sn: Support for the LCD
    
    From: Pat Gefre <pfg@sgi.com>
    
    Support for the LCD

commit fb7c5f7b57560e7746e23f3a809cf57d0a226521
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:49:15 2004 -0800

    [PATCH] sn: Merged 2 files into another (sgi_io_sim and irix_io_init into sgi_io_init)
    
    From: Pat Gefre <pfg@sgi.com>
    
    Merged 2 files into another (sgi_io_sim and irix_io_init into sgi_io_init)

commit b0c782a616bca09dc7b8948c55bade4d2677d0c1
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:49:06 2004 -0800

    [PATCH] sn: Forget to check in the _reg file
    
    From: Pat Gefre <pfg@sgi.com>
    
    Forget to check in the _reg file

commit 2b889c528a75f9352a2d9ec3eff34fd26eec71e5
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:48:57 2004 -0800

    [PATCH] sn: Code changes for interrupt redirect
    
    From: Pat Gefre <pfg@sgi.com>
    
    Code changes for interrupt redirect

commit 439ab81e6e3eeda7e91a8551acc6348cc0c11b7e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:48:49 2004 -0800

    [PATCH] sn: More code clean up - this time ioconfig_bus.c
    
    From: Pat Gefre <pfg@sgi.com>
    
    More code clean up - this time ioconfig_bus.c

commit a27194debaf8e77eb936bfc19e866c10633338f0
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:48:40 2004 -0800

    [PATCH] sn: Small check for invalid node in shub ioctl function
    
    From: Pat Gefre <pfg@sgi.com>
    
    Small check for invalid node in shub ioctl function

commit e547722de1ddf32589c1101cb022362cfd1a2cdc
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:48:32 2004 -0800

    [PATCH] sn: Remove __ASSEMBLY__ tags from shubio.h
    
    From: Pat Gefre <pfg@sgi.com>
    
    Remove __ASSEMBLY__ tags from shubio.h

commit a7e6ebde077bd380d8e6a8dcc35033e011217422
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:48:23 2004 -0800

    [PATCH] sn: Some more minor clean up
    
    From: Pat Gefre <pfg@sgi.com>
    
    Some more minor clean up

commit a1027f20475bc513986fdeba977243b96779dc64
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:48:14 2004 -0800

    [PATCH] sn: A few small clean ups
    
    From: Pat Gefre <pfg@sgi.com>
    
    A few small clean ups

commit 86d60daac24bd9321fe0b00517d98294bb511c25
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:48:06 2004 -0800

    [PATCH] sn: Moved code out of pciio and into its own file - snia_if.c and renamed the functions
    
    From: Pat Gefre <pfg@sgi.com>
    
    Moved code out of pciio and into its own file - snia_if.c and renamed the
    functions
    
    pciio clean up

commit b9984b78e0cda7fc00e66b96688b1977a0e74914
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:47:56 2004 -0800

    [PATCH] sn: Some small bte code clean ups
    
    From: Pat Gefre <pfg@sgi.com>
    
    Some small bte code clean ups

commit 050b3e5896a707ecbe2d933f3412b312247600f0
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:47:47 2004 -0800

    [PATCH] sn: hcl.c clean up for init failures and OOM
    
    From: Pat Gefre <pfg@sgi.com>
    
    hcl.c clean up for init failures and OOM

commit 279203ab1c8006c62de3e6a1d0d8162ce6adc634
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:47:39 2004 -0800

    [PATCH] sn: Fix a couple of compiler warnings
    
    From: Pat Gefre <pfg@sgi.com>
    
    Fix a couple of compiler warnings

commit 2927717343a10d590d19cfef962d8f17886f3cfb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:47:30 2004 -0800

    [PATCH] sn: code pruning - a couple of adds due to the clean up
    
    From: Pat Gefre <pfg@sgi.com>
    
    Mostly code pruning - a couple of adds due to the clean up

commit e9b19b04334a7b4e2ac26dda0cddc50447d2cebc
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:47:21 2004 -0800

    [PATCH] sn: irq clean up and update
    
    From: Pat Gefre <pfg@sgi.com>
    
    irq clean up and update

commit e8577a89a865f981d7e8424d557d7bbe93680c3a
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:47:12 2004 -0800

    [PATCH] sn: General xtalk.c clean up
    
    From: Pat Gefre <pfg@sgi.com>
    
    General xtalk.c clean up

commit 09bf9e5ed8b090ddaaee6ebcc7bd15dbe3f268d1
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:47:04 2004 -0800

    [PATCH] sn: shubio.c cleanup
    
    From: Pat Gefre <pfg@sgi.com>
    
    shubio.c cleanup

commit de39d711b71b61da16da82655daa8539adc1b6d7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:46:55 2004 -0800

    [PATCH] sn: General module.c clean up
    
    From: Pat Gefre <pfg@sgi.com>
    
    General module.c clean up

commit a611e51e7a896255c5a790edd70219e77cb8bbb4
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:46:46 2004 -0800

    [PATCH] sn: More klgraph.c clean up
    
    From: Pat Gefre <pfg@sgi.com>
    
    More klgraph.c clean up
    Remove is_specified

commit 2bc43c92d76f740efae977bb852903675214efe5
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:46:38 2004 -0800

    [PATCH] sn: klgraph.c clean up
    
    From: Pat Gefre <pfg@sgi.com>
    
    klgraph.c clean up

commit 4e8caa8f8af9494069b860564566e446f8538078
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:46:29 2004 -0800

    [PATCH] sn: New code for Opus and CGbrick
    
    From: Pat Gefre <pfg@sgi.com>
    
    New code for Opus and CGbrick
    More minor clean up

commit 7445915447136ac18e051a29d1a82b7b05f3885b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:46:20 2004 -0800

    [PATCH] sn: Fix the last patch - missed an IS_PIC_SOFT and needed the CG definition
    
    From: Pat Gefre <pfg@sgi.com>
    
    Fix the last patch - missed an IS_PIC_SOFT and needed the CG definition
    
    Header file clean up
    Added some __init definitions for functions that were init only
    Removed some 'porting' code - replaced it with linux calls/defintions
    Cleaned up some of the types we were using (ones that had been added)
    Fixed include files that had the wrong path in their ifdef'd names

commit deec0d2278d8da61872c5686a89689ff3b7715ad
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:46:10 2004 -0800

    [PATCH] sn: Fix the last patch - missed an IS_PIC_SOFT and needed the CG definition
    
    From: Pat Gefre <pfg@sgi.com>
    
    Fix the last patch - missed an IS_PIC_SOFT and needed the CG definition

commit 7d8f7295f89c6a1dfc9357167098f00846ca50ef
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:46:02 2004 -0800

    [PATCH] sn: Remove the bridge and xbridge code - everything not PIC
    
    From: Pat Gefre <pfg@sgi.com>
    
    Remove the bridge and xbridge code - everything not PIC

commit 36b945486167e2d1a43d5d16753e754ba3ff59ee
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:45:53 2004 -0800

    [PATCH] sn: General clean up of xbow.c
    
    From: Pat Gefre <pfg@sgi.com>
    
    General clean up of xbow.c

commit 182e562299577af2b9be24fb1d8d56f3e6d3cce5
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:45:44 2004 -0800

    [PATCH] sn: machvec/pci.c clean up
    
    From: Pat Gefre <pfg@sgi.com>
    
    machvec/pci.c clean up
    Other clean up related to above

commit ef180d91f23ccf79b64dad8bedb6aa6a45ece6b1
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:45:35 2004 -0800

    [PATCH] sn: General code clean up of sn/io/io.c
    
    From: Pat Gefre <pfg@sgi.com>
    
    General code clean up of sn/io/io.c

commit a40fe5e43204767e4ebe997bf62e998f6934a1fa
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:45:27 2004 -0800

    [PATCH] sn: Delete invent.h
    
    From: Pat Gefre <pfg@sgi.com>
    
    Delete invent.h
    Delete sgi_if.c
    Cleaned up some of the NEW/DEL calls

commit 31168afe4d770af910a7a26a00ee0a1c062c61e6
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:45:16 2004 -0800

    [PATCH] sn: Kill the arcs/*.h files
    
    From: Pat Gefre <pfg@sgi.com>
    
    Kill the arcs/*.h files
    Some general clean up on klconfig.h

commit f0f1f7687aa0f9d0181337f812f4fa2f3f393c0b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:45:07 2004 -0800

    [PATCH] sn: Kill nag.h
    
    From: Pat Gefre <pfg@sgi.com>
    
    Kill nag.h

commit 20a8305b8c72b2654a39f2b6a122889c7efa16b8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:44:57 2004 -0800

    [PATCH] sn: serial update
    
    From: Pat Gefre <pfg@sgi.com>
          Jesse Barnes <jbarnes@tomahawk.engr.sgi.com>

commit 9c5a493459fc00f7378d6ba2b748a59b824630c3
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:44:48 2004 -0800

    [PATCH] sn: remove unused enum
    
    From: Pat Gefre <pfg@sgi.com>
    
    remove unused enum

commit 43522ab720c57a237fde070ebf75b3d310ded220
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:44:40 2004 -0800

    [PATCH] sn: kill $Id$
    
    From: Pat Gefre <pfg@sgi.com>
    
    kill $Id$

commit 8f9596e3762c37f5cc51ebeab65a57a00c54fed8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:44:30 2004 -0800

    [PATCH] sn: kill big endian stuff
    
    From: Pat Gefre <pfg@sgi.com>
    
    kill big endian stuff

commit 6378da80e6bbb1d51ab97da19cdad775e5df1299
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:44:21 2004 -0800

    [PATCH] sn: namespace cleanup: ioerror_dump->sn_ioerror_dump
    
    From: Pat Gefre <pfg@sgi.com>
    
    namespace cleanup: ioerror_dump->sn_ioerror_dump

commit 78527eca365b25e2cc3d8a76fc3ddac513363710
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:44:12 2004 -0800

    [PATCH] sn: copyright update
    
    From: Pat Gefre <pfg@sgi.com>
    
    copyright update

commit 55f20bdaedfb0dc3f5606a5c8ddcc21710b78f26
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:44:03 2004 -0800

    [PATCH] sn: Some hwgraph code clean up
    
    From: Pat Gefre <pfg@sgi.com>
    
    Some hwgraph code clean up

commit 0697fbd3f0d9083223de23ea16c1754de0d8c28b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:43:54 2004 -0800

    [PATCH] const vs. __attribute__((const)) confusion
    
    From: "H. Peter Anvin" <hpa@zytor.com>
    
    Declaring a function to return a const scalar value is pretty meaningless.
    These functions are really trying to say that they don't alter any external
    state.
    
    Fix that up by using __attribute__((const)), if the compiler supports that.

commit 477702e9c136022c858d8b4f59832c5a4eafe526
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:43:46 2004 -0800

    [PATCH] s390: endless loop in follow_page.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Fix endless loop in get_user_pages() on s390.  It happens only on s/390
    because pte_dirty always returns 0.  For all other architectures this is an
    optimization.
    
    In the case of "write && !pte_dirty(pte)" follow_page() returns NULL.  On all
    architectures except s390 handle_pte_fault() will then create a pte with
    pte_dirty(pte)==1 because write_access==1.  In the following, second call to
    follow_page() all is fine.  With the physical dirty bit patch pte_dirty() is
    always 0 for s/390 because the dirty bit doesn't live in the pte.

commit 6fefc8fa247f1c42fe59b560bbbf5688c48ef94a
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:43:37 2004 -0800

    [PATCH] s390: superflous flush_tlb_range calls.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    while searching for a s390 tlb flush problem I noticed some superflous tlb
    flushes.  One in zeromap_page_range, one in remap_page_range, and another one
    in filemap_sync.  The patch just adds comments but I think these three
    flush_tlb_range calls can be removed.

commit 269fa3a4e99e8360b7b40a380e6efb32e0cc8bb3
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:43:28 2004 -0800

    [PATCH] rmap page refcounting simplification
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Ok, its just the revert of the page_cache_release delta.

commit 83b416461047903ada908a9bdfa41c958ad78dde
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:43:19 2004 -0800

    [PATCH] s390: rmap optimization.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    while working on my mm patch for s390 I played with rmap a bit, adding
    BUG statements and the like. While doing so I noticed some room for
    improvement in rmap. Its minor stuff but anyway...
    
    The first observation is that the pte chain array doesn't have holes,
    meaning that from the pte_chain_idx() of the first array every slot of
    all following pte chain arrays are full. That is there can't be NULL
    pointers. The "if (!pte_paddr)" check in try_to_unmap() can be removed
    and if the loop in page_referenced() is started from pte_chain_idx(pc)
    then the "if (!pte_paddr)" in page_referenced() can be removed as well.
    
    The second observation is that the first pte array of a pte chain has
    at least one entry. Empty pte chain arrays are always freed immediatly
    after the last entry was removed. Because of that victim_i can be
    calculated in a simpler way. Instead of setting victim_i to -1 and then
    check in each loop iteration against -1 victim_i can just be set to
    the pte_chain_idx of the first pte chain array.

commit f8e8784a619a95a2a795971550345822e2d1bdc4
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:43:11 2004 -0800

    [PATCH] s390: tlb flush race.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    I think I found a potential race in install_page/install_file_pte. The
    inline function zap_pte releases pages by calling page_remove_rmap and
    page_cache_release.  If this was the last user of a page it can get
    purged from the page cache and then get immediatly reused. But there
    might still be a tlb for this page on another cpu. The tlb is removed
    in the callers of zap_pte, install_page and install_file_pte, but this
    is too late. I admit that its a very unlikely race but never the less..
    
    I fixed this by using the new ptep_clear_flush function that is introduced
    with the tlb flush optimization patch for s/390.

commit 465235cb04483af8a145a2dc564c7440f7c03263
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:43:03 2004 -0800

    [PATCH] s390: physical dirty/referenced bits.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    this is another s/390 related mm patch. It introduces the concept of
    physical dirty and referenced bits into the common mm code. I always
    had the nagging feeling that the pte functions for setting/clearing
    the dirty and referenced bits are not appropriate for s/390. It works
    but it is a bit of a hack.
    After the wake of rmap it is now possible to put a much better solution
    into place. The idea is simple: since there are not dirty/referenced
    bits in the pte make these function nops on s/390 and add operations
    on the physical page to the appropriate places. For the referenced bit
    this is the page_referenced() function. For the dirty bit there are
    two relevant spots: in page_remove_rmap after the last user of the
    page removed its reverse mapping and in try_to_unmap after the last
    user was unmapped. There are two new functions to accomplish this:
    
     * page_test_and_clear_dirty: Test and clear the dirty bit of a
       physical page. This function is analog to ptep_test_and_clear_dirty
       but gets a struct page as argument instead of a pte_t pointer.
    
     * page_test_and_clear_young: Test and clear the referenced bit
       of a physical page. This function is analog to ptep_test_and_clear_young
       but gets a struct page as argument instead of a pte_t pointer.
    
    Its pretty straightforward and with it the s/390 mm makes much more
    sense. You'll need the tls flush optimization patch for the patch.
    Comments ?

commit 9177d562380cbd4a240c0bbb08c5017d635512d8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:42:53 2004 -0800

    [PATCH] s390: tlb flush optimization.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    On the s/390 architecture we still have the issue with tlb flushing and the
    ipte instruction.  We can optimize the tlb flushing a lot with some minor
    interface changes between the arch backend and the memory management core.
    In the end the whole thing is about the Invalidate Page Table Entry (ipte)
    instruction.  The instruction sets the invalid bit in the pte and removes the
    tlb for the page on all cpus for the virtual to physical mapping of the page
    in a particular address space.  The nice thing is that only the tlb for this
    page gets removed, all the other tlbs stay valid.  The reason we can't use
    ipte to implement flush_tlb_page() is one of the requirements of the
    instruction: the pte that should get flushed needs to be *valid*.
    
    I'd like to add the following four functions to the mm interface:
    
      * ptep_establish: Establish a new mapping. This sets a pte entry to a
        page table and flushes the tlb of the old entry on all cpus if it
        exists. This is more or less what establish_pte in mm/memory.c does
        right now but without the update_mmu_cache call.
    
      * ptep_test_and_clear_and_flush_young. Do what ptep_test_and_clear_young
        does and flush the tlb.
    
      * ptep_test_and_clear_and_flush_dirty. Do what ptep_test_and_clear_dirty
        does and flush the tlb.
    
      * ptep_get_and_clear_and_flush: Do what ptep_get_and_clear does and
        flush the tlb.
    
    The s/390 specific functions in include/pgtable.h define their own optimized
    version of these four functions by use of the ipte.
    
    I avoid the definition of these function for every architecture I added them
    to include/asm-generic/pgtable.h.  Since i386/x86 and others don't include
    this header yet and define their own version of the functions found there I
    #ifdef'd all functions in include/asm-generic/pgtable.h to be able to pick
    the ones that are needed for each architecture (see patch for details).
    
    With the new functions in place it is easy to do the optimization, e.g.  the
    sequence
    
             ptep_get_and_clear(ptep);
             flush_tlb_page(vma, address);
    
    gets replace by
    
             ptep_get_and_clear_and_flush(vma, address, ptep);
    
    The old sequence still works but it is suboptimal on s/390.

commit b72570f170cdda07b5b1a8b25860e3e49c81412c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:42:44 2004 -0800

    [PATCH] s390: 32 bit ioctl emulation fixes.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    - audit all 32 bit pointer accesses and make them use compat_ioctl(),
      because of the necessary conversion on s390
    - introduce ULONG_IOCTL() which is used instead of COMPATIBLE_IOCTL()
      for all ioctls that have their argument encoded in 'arg' instead
      of the memory pointed to by arg. Same reason as above.
    - remove most #ifdefs in <linux/compat_ioctl.h>: They don't make
      any sense if the respective handlers in fs/compat_ioctl.c are
      not disabled as well and they are potentially harmful (the
      CONFIG_BLK_DEV_DM e.g. was insufficient).
    - comment out  COMPATIBLE_IOCTL(SIOCSIFBR) and
      COMPATIBLE_IOCTL(SIOCGIFBR), they appear to require a handler
    - implement copy_in_user for s390, as needed for many handlers in
      fs/compat_ioctl.c
    - get rid of all duplicate stuff in arch/s390/kernel/compat_ioctl.c
      that is also in fs/compat_ioctl.c

commit 33c567a3692423d54d10fa3364bd6bc59796e5f7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:42:36 2004 -0800

    [PATCH] s390: 32 bit emulation fixes.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
     - Add emulation for sys_fadvise64 and sys_fadvise64_64.
     - Use common code wrapper for sys_sched_setaffinity and sys_sched_getaffinity.
     - Remove unused put_rusage.
     - Add ssize_t checks for iovec lengths in do_readv_writev32.
     - Add emulation for posix timer system calls.

commit f51320a52c591c6ea011d79e49de5770bc79df16
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:42:27 2004 -0800

    [PATCH] s390: new 3270 driver.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    New 3270 device driver.

commit c29c6072afbd660c6037334261a1f99ea2894612
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:41:52 2004 -0800

    [PATCH] zfcp host adapter patch cleanup
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Remove all occurrences of __setup and #ifdef MODULE from the zfcp driver.

commit 2eb6e1f3a68e51e9228ad996f4cad19c93140011
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:41:43 2004 -0800

    [PATCH] s390: zfcp host adapter
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
     - Adapt to notify api change in cio.
     - Add missing unregister_reboot_notifier() for error path.
     - Fix infinite error recovery escalation for certain port failures.
     - Fix reference counting.
     - Use GFP_ATOMIC for kmalloc while holding a spinlock.
     - Don't open adapter/port if unit/port is removed from configuration
       after it has already been closed.
     - Don't establish qdio queues if a port/unit is going to be removed.
     - Shutdown ports and units before removing them.
     - Use schedule_work for scsi_add_device.
     - Don't reopen nameserver port when an rscn was received.
     - Don't call scsi_done twice in zfcp_fsf_send_fcp_command_task_handler.
     - Get rid of scsi fake queue, scsi_reqs_active and scsi_reqs_active_wq.
     - Get rid of unused adapter status.
     - Allow enabling of scsi devices at boot time with zfcp_dev parameter.
     - Change name prefix from sg to sg_list for functions which work with
       the struct sg_list.
     - Don't call scsi_add_device from zfcp error recovery thread to avoid a
       deadlock if a scsi command sent during scsi_add_device fails.
     - Fix scsi i/o stall due to missing local-link-up event.

commit 99e0846eafaa5869b78ec97ade6934f2ec8ef02e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:41:35 2004 -0800

    [PATCH] s390: network drivers
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
     - ctc/iucv: Add module author/description/license to fsm.c
     - ctc/lcs/iucv/qeth: Remove dst_link_failure calls because they can
       trigger a BUG in icmp.c.
     - ctc/iucv/qeth: Use s390_root_dev_{register,unregister} to fix reference
       counting for the group device sysfs root object.
     - ctc/lcs/qeth: Fix ccwgroup behaviour, remove should not imply offline.
     - ctc: Adapt to notify api change in cio.
     - ctc: Remove duplicate put_user.
     - iucv: Fix oops with empty netiucv peer name.
     - iucv: Use GFP_ATOMIC for kmalloc from tasklet.
     - iucv: Fix removal of attritubes.
     - qeth: Use correct length in clearing of MAC address.
     - qeth: Queue multicast and broadcast packets into the last
       queue on HiperSocket.
     - qeth: Reenable send control data after i/o error.
     - qeth: Find correct recbuf in qeth_send_control_data.
     - qeth: Handle VM startlan disabled.
     - qeth: Set flags for vipa entries.
     - qeth: Correct netmask on vipa setting.
     - qeth: Fix spinlock problems ("scheduling while atomic").
     - qeth: Avoid setting multicast IP addresses several times.
     - qeth: Fix /proc/qeth format.
     - qeth: Fix race on device removal.

commit 08f64b9750972b8821deeb461dcbe98a3fcc3a53
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:41:26 2004 -0800

    [PATCH] s390: tape driver.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
     - Add module license gpl.
     - Add debug messages.
     - Make blocksize persistent after close. Limit blocksize to 64k.
     - Check tape state against TS_INIT/TS_UNUSED for special case of
       medium sense and assign.
     - Assign tape as soon as they are set online and unassign when set offline.
     - Correct implementation of MT_EOD.
     - Add backward compatible tape.agent hotplug support (to be removed as soon
       as a full blown tape class is implemented).
     - Add state to differentiate between character device and block device access.
     - Make tape block device usable.
     - Add 34xx seek speedup code.
     - Fix device reference counting.
     - Fix online-offline-online cycle.
     - Add timeout to standard assign function.
     - Correct calculation of device index in tape_get_device().
     - Check idal buffer for fixed block size reads and writes.
     - Adapt to notify api change in cio.
     - Add sysfs attributes for tape state, first minor, current operation and
       current blocksize.

commit 21df060f0a8bd1a3ecd7640dc7067ae4c3ce5f8b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:41:17 2004 -0800

    [PATCH] s390: dasd driver
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
     - Fix interrupt status examination.
     - Make dasd device attributes dependent on the devmap structure instead of
       the device structure to make them persistent and to be able to modify
       them in the offline state.
     - Allow changing the readonly attribute while dasd is online.
     - Add (diag) option to dasd= paramter.
     - Add missing spin_lock_init call.
     - Increase ref_count in dasd_device_from_cdev and add matching
       dasd_put_device pairs.
     - Adapt to notify api change in cio.
     - Fix bug in 3990 error recovery for cable pulls on ESS.
     - Replace kmap by page_address (no highmem on s/390).
     - Set correct default cache mode on ESS for eckd devices.
     - Change dasd names from "dasdx" to "dasd_<busid>_".

commit b2b9268ab7687ba8581164848116b80ae6533b10
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:41:09 2004 -0800

    [PATCH] s390: console driver.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    - 3215: Adapt to notify api change in cio.
    - 3215/sclp: move copy_from_user out of locked code.

commit 53e7ea7fa791b1f564c11ceeee895a0d2dc30ccb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:41:02 2004 -0800

    [PATCH] s390: common i/o layer
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
     - Make blacklist busid-aware. Add "all" keyword and ! operator to cio_ignore
       kernel parameter.
     - Add state change notify function for ccw devices (not mandatory) and
       introduce the "device disconnected" state.
     - Remove auto offline from remove function for ccw devices to be able to
       distinguish between user initiated offline and implicit offline due to
       device removal.
     - Store pointer to subchannel structure in the (hardware) subchannel intparm
       and remove the ioinfo array (hurray...). Remove intparm parameter of
       cio_start.
     - Use busid instead of subchannel number for debug output.
     - Use an opm mask to track which paths are logically online for a subchannel.
     - Pathgroup every device it was requested for, even single path devices.
     - Give i/o on a logically switched off path a grace period to complete, then
       kill the i/o to get the path offline.
     - Correctly initialize all spin_locks with spin_lock_init.
     - Handle status pending/busy while disabling subchannel.
     - Set busid already in cio_validate_subchannel.
     - Add s390_root_dev_{register,unregister} functions.
     - Do stcrw() inside a kernel thread. Add crw overflow handling.
     - Use subchannel lock directly instead of ccw device lock pointer in
       ccw_device_recognition to avoid accessing an already free structure.
     - Take/release ccw device lock in ccw_device_console_enable.
     - Don't wipe out the busid field in ccw_device_console_enable.
     - Call ccw_device_unregister() directly on a notoper event - delaying it via
       queue_work is harmful (subchannel may be removed before ccw_device).
     - Handle not opertional condition in ccw_device_cancel_halt_clear.
     - Correct status pending handling: don't collect pending status directly
       but wait for the interrupt to show up.
     - Enable subchannel when trying a steal lock operation.
     - Introduce doverify bit for delayed path verification.
     - Fix locking in __ccw_device_retry_loop/read_conf_data/read_dev/chars.
     - Make SPID retry mechanism more obvious.
     - qdio: check return code of ccw_device_{halt,clear} in qdio_cleanup. Don't
       try to wait for an interrupt we won't get.
     - qdio: fix shared indicators.
     - qdio: add code to handle i/o killed by cio with active queues.
     - qdio: don't do a shutdown on timeout in interrupt context.
     - Update cio documentation.

commit e966ec578d162e00f1d17f7ac9d70d10a22a24d0
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:40:53 2004 -0800

    [PATCH] s390: general update
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
     - Add console_unblank in machine_{restart,halt,power_off} to get
       all messages on the screen.
     - Set console_irq to -1 if condev= parameter is present.
     - Fix write_trylock for 64 bit.
     - Fix svc restarting.
     - System call number on 64 bit is an int. Fix compare in entry64.S.
     - Fix tlb flush problem.
     - Use the idte instruction to flush tlbs of a particular mm.
     - Fix ptrace.
     - Add fadvise64_64 system call wrapper.
     - Fix pfault handling.
     - Do not clobber _PAGE_INVALID_NONE pages in pte_wrprotect.
     - Fix siginfo_t size problem (needs to be 128 for s390x, not 136).
     - Avoid direct assignment to tsk->state, use __set_task_state.
     - Always make any pending restarted system call return -EINTR.
     - Add panic_on_oops.
     - Display symbol for psw address in show_trace.
     - Don't discard sections .exit.text, .exit.data and .eh_frame,
       otherwise stabs information for kerntypes will get lost.
     - Add memory clobber to assembler inline in ip_fast_checksum for gcc 3.3.
     - Fix softirq_pending calls for the current cpu (cpu == smp_processor_id()).
     - Remove BUG_ON in irq_enter. Two irq_enters are possible.

commit 0da570b763eff760426e66145151b27b16fbc47c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:40:43 2004 -0800

    [PATCH] implement find_extend_vma() for nommu
    
    From: gerg@snapgear.com
    
    Implement a null find_extend_vma() function for non-MMU architectures.  It
    is called from a couple of places, so needs to be present.

commit 7961e8728d08dd6b0198b8ed320d58994d25967b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:40:34 2004 -0800

    [PATCH] use m68k/types.h for m68knommu
    
    From: gerg@snapgear.com
    
    Remove m68knommu types.h, use m68k types.h instead.  At this level there is
    no difference between the basic m68k types and the m68knommu types, no
    point having 2 versions of the same file.

commit 1e0f54598cd48da1db3e33ad128de60f974261bf
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:40:26 2004 -0800

    [PATCH] fix cpu stats in m68knommu entry.S
    
    From: gerg@snapgear.com
    
    Fix cpu stats code to match changes to higher level kstat data structure
    for m68knommu ColdFire CPU architectures.  This fixes all ColdFire
    sub-architecture CPU types.

commit 521789cb63f6f20380404cb8c16fab67d5400ed7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:40:18 2004 -0800

    [PATCH] m68knommu include fix
    
    From: gerg@snapgear.com
    
    Remove include of non-existant net/module.h in m68knommu architecture
    specific checksum code.

commit 114d9308fb03a5fc8c9807f77c4cfce3bf616488
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:40:10 2004 -0800

    [PATCH] sched_clock() for m68knommu architectures
    
    From: gerg@snapgear.com
    
    Implement the sched_clock() function for m68knommu architectures.

commit 91d4428033ac2eed4deaea9039d74eacc55166fe
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:39:59 2004 -0800

    [PATCH] add module support for m68knommu architecture
    
    From: gerg@snapgear.com
    
    Add module support for m68knommu architecture.

commit 8a3788e1e12edaf684c42e89dca84052a1ab62b4
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:39:50 2004 -0800

    [PATCH] allow for building module support for m68knommu architecture
    
    From: gerg@snapgear.com
    
    Allow for building of module support for m68knommu architecture.

commit 0996722eac48f6aec93504429140d2c95912ceda
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:39:40 2004 -0800

    [PATCH] nfs: Fix an Oops in the RPC debug code...
    
    From: Trond Myklebust <trond.myklebust@fys.uio.no>
    
    Enabling rpc_debug can currently result in an Oops due to an incorrect
    pointer check.

commit b85934f2311672c2684a160720e198ae4b5c8106
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:39:32 2004 -0800

    [PATCH] nfs: Fix a possible client deadlock
    
    From: Trond Myklebust <trond.myklebust@fys.uio.no>
    
    Fix a bug in the NFS write code whereby writepage() may end up deadlocking
    on clear_inode().

commit 7aebcc3f1118b74556fcbc2970858c5eac56f10e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:39:23 2004 -0800

    [PATCH] nfs: Fix readonly mounts
    
    From: Trond Myklebust <trond.myklebust@fys.uio.no>
    
    The nfs_permission() code needs to check for "local" mount flags such as
    "ro" *before* it decides to optimize away any permissions tests.

commit 7de3a7b25f649e11cc4725b9d5ef84158a97f9e6
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:39:14 2004 -0800

    [PATCH] nfs: Fix an open intent bug
    
    From: Trond Myklebust <trond.myklebust@fys.uio.no>
    
    The following patch fixes a bug when initializing the intent structure
    in sys_uselib(): intents use the FMODE_READ convention rather than
    O_RDONLY.
    
    It also adds a missing open intent to open_exec(). This ensures that NFS
    clients will do the necessary close-to-open data cache consistency
    checking.

commit ac48c0dd475ea672113ccb0d3bc2ef41dc3f85ac
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:39:05 2004 -0800

    [PATCH] nfs: Optimize away unnecessary NFSv3 COMMIT calls.
    
    Currently, when calling nfs_commit_file(), we check the range argument,
    and only commit NFS write requests that fall within the given range.
    This is silly, since all servers use fsync(), to honour a COMMIT call,
    and so will sync all pending writes to stable storage.
    
    The following patch ensures that if at least one NFS write falls within
    the range specified by the call to nfs_commit_file(), then we commit all
    outstanding writes on that file.
    
    This fixes a sometimes severe inefficiency when combining reads and
    writes: nfs_wb_page() is used to clear out writes prior to scheduling a
    read(), and can end up calling COMMIT for each page to be read.

commit 2f4c9a2db4ec756c26d871bb201cfd9c73cf55a3
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:38:58 2004 -0800

    [PATCH] NFS: fix bogus setattr calls
    
    From: Trond Myklebust <trond.myklebust@fys.uio.no>
    
    If users set the execute bit on a file, and then write to it,
    remove_suid() causes a flood of SETATTR calls (one per write() syscall)
    with no arguments to be sent down the wire.
    
    The server will in any case clear the suid bit itself without any
    prompting from us, so the following patch simply filters away all
    SETATTR requests with empty or unsupported ia_valid fields.

commit 06fbe36f2c4febcf498536e21ffd546c7ecf9e44
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:38:49 2004 -0800

    [PATCH] Add SEND_MSG and RECV_MSG controls
    
    From: James Morris <jmorris@redhat.com>
    
    This patch implements two new access controls for SELinux: SEND_MSG and
    RECV_MSG, providing mediation of network packets based on destination port
    (IPv4 only at this stage).

commit e0e9c58e1be088a22061e2269afd58a563e6cb2f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:38:40 2004 -0800

    [PATCH] selinux: improve skb audit logging
    
    From: James Morris <jmorris@redhat.com>
    
    This patch is a rework of the skb audit logging code in SELinux.  Rather
    than relying on skb header pointers, it parses the skb for specific
    protocols (TCP and UDP for IPv4 at this stage).  This is safer for the case
    of locally generated raw packets, which can be malformed.  It also now
    takes fragmented skbs into account.  The new code allows the caller to
    parse the skb so that parsed information can be more readily re-used.

commit bef7d80318c3ba9ca78384c8463b0fd236b55a1c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:38:31 2004 -0800

    [PATCH] selinux: Makefile cleanup
    
    From: Stephen Smalley <sds@epoch.ncsc.mil>
    
    Use obj-$(CONFIG_FOO) instead of `ifeq'.

commit 605303cc340d482ef0ae7b4e3301733ab9e5de5d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:38:22 2004 -0800

    [PATCH] selinux: Add dname to audit output when a path cannot be generated.
    
    From: James Morris <jmorris@redhat.com>
    
    This patch adds dname to audit output when a path cannot be generated.
    This makes analysis of SELinux audit logs easier.
    
    Patch by Stephen Smalley <sds@epoch.ncsc.mil>.

commit da6e57a2e6bd7939f610d957afacaf6a131e75ed
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:38:13 2004 -0800

    [PATCH] selinux: Add SO_PEERSEC socket option and getpeersec LSM hook.
    
    From: James Morris <jmorris@redhat.com>
    
    This patch adds a new option for Unix sockets, SO_PEERSEC, and an
    associated LSM hook, getpeersec.  The SELinux handler is also included.
    
    The purpose of this is to allow applications to obtain each others security
    credentials, analagously to the existing SO_PEERCRED option.
    
    Examples of use are Security Enhanced D-BUS and Security Enhanced X.
    
    This patch was previously approved in principle by David, and has been
    updated with feedback from Chris Wright and extended to cover all
    architectures.

commit fa9b605f51e1cb530f197f6bb608e72d9d778512
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:38:03 2004 -0800

    [PATCH] selinux: socket_has_perm cleanup
    
    From: James Morris <jmorris@redhat.com>
    
    This is a cleanup for the SELinux code, which converts all
    remaining appropriate socket hooks over to using socket_has_perm().

commit 0129565dcb026535035409875fae2ba1bb1a8b55
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:37:54 2004 -0800

    [PATCH] selinux: Add node_bind control
    
    From: James Morris <jmorris@redhat.com>
    
    This patch adds a new SELinux access control, node_bind, which can be used
    to restrict the local IP address to which an application may bind.

commit 85941b90bd308e89217f1b601dc9e048df303e70
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:37:46 2004 -0800

    [PATCH] selinux: Add node controls
    
    From: James Morris <jmorris@redhat.com>
    
    This patch adds 'node' access controls for SELinux, which allows network
    traffic to be controlled on the basis of remote address.
    
    Like the previous patch, similar functionality was present in earlier
    SELinux implementations; this is a rework within the constraints of the LSM
    hooks present in the mainline kernel.

commit db5325b1fe3726083f6f5c2ed5bc9009e5e6118a
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:37:37 2004 -0800

    [PATCH] selinux: add netif controls
    
    From: James Morris <jmorris@redhat.com>
    
    This patch adds netif access controls for SELinux, which allows network
    traffic to be controlled on the basis of associated network interface.
    
    Similar functionality was present in earlier SELinux implementations; this
    is a rework within the constraints of the LSM hooks present in the mainline
    kernel.

commit d99684fd3be9ccd3820bb72bb040294ac035e68b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:37:28 2004 -0800

    [PATCH] selinux: Add resource limit control
    
    From: James Morris <jmorris@redhat.com>
    
    This patch adds controls to the SELinux module over the setting and
    inheritance of resource limits.  With these controls, the ability to set
    hard limits can be limited to specific processes such as login, and when an
    untrusted process invokes a more trusted program, soft limits can be reset,
    thereby avoiding failures in the trusted program due to malicious setting
    of the soft limit by the untrusted process.  Roland McGrath provided input
    and feedback on the patch, which was implemented by Stephen Smalley
    <sds@epoch.ncsc.mil>.

commit 13a2158ca35741311731decd71115ce47b284e42
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:37:18 2004 -0800

    [PATCH] trident: use pr_debug instead of home-brewed TRDBG
    
    From: Muli Ben-Yehuda <mulix@mulix.org>
    
    Yet another sound/oss/trident cleanup patch.  This one replace the TRDBG
    debugging macro with the standard pr_debug.  Patch is from Eugene Teo
    <eugene.teo@eugeneteo.net>, slightly modified by me to apply against
    2.6.0-rc1-mm1 with the other cleanup patches applied.

commit 0d7bcc300c5d164aa98a0be54b099faaac898af5
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:37:05 2004 -0800

    [PATCH] trident OSS sound driver fixes
    
    From: Muli Ben-Yehuda <mulix@mulix.org>
    
    - switch lock_set_fmt() and unlock_set_fmt() from macros to inline
      functions.  Macros that call return() are EVIL.
    
    - simplify lock_set_fmt() and implement it via test_and_set_bit() rather
      than a spinlock protecting an int.
    
    - fix a bug wherein we would do an up() on a semaphore that hasn't been
      down()ed if a signal happened after timeout in trident_write().
    
    - fix a bug where we would not release the open_sem on OOM.
    
    - make the arguments for prog_dmabuf clearer (int -> enum), and add two
      wrapper functions around it, one for record and one for playback.
    
    - fix a bug where we would call VALIDATE_STATE after lock_kernel().  Since
      VALIDATE_STATE does 'return' if validation fails, bad things can happen.
      Thanks to Dawson Engler <engler@stanford.edu> and the Stanford checker for
      spotting.
    
    - remove the calls to lock_kernel() from trident_release() and
      trident_mmap().  trident_release() appears to be covered by the open_sem,
      and trident_mmap() is covered by state->sem.
    
    - s/TRUE/1/, s/FALSE/0/

commit cb2b15d1e1af3b2661c3a662e07fa3fb6b68e4af
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:36:56 2004 -0800

    [PATCH] reindent trident OSS sound driver
    
    From: Muli Ben-Yehuda <mulix@mulix.org>
    
    Reindent the trident OSS sound driver

commit 0f026a8c270f030f72003e6033c58a2d70c9b335
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:36:47 2004 -0800

    [PATCH] MODULE_ALIAS for freevxfs
    
    From: Christoph Hellwig <hch@lst.de>
    
    Now that modutils don't have built-in aliases anymore this is needed to
    make mount -t vxfs autload the module.

commit 3ca28d64dbfe3ae7aacc952d049b8397cf78f0f4
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:36:39 2004 -0800

    [PATCH] parintk_ratelimit fix
    
    From: Anton Blanchard <anton@samba.org>

commit 11a61205698b0fd27f1190b0bb72826a6ff00957
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:36:30 2004 -0800

    [PATCH] generalise net_ratelimit (printk_ratelimit)
    
    From: Anton Blanchard <anton@samba.org>
    
    Generate a global printk rate-limiting function, printk_ratelimit().
    
    Also, use it in the page allocator warning code.  Also add a dump_stack to
    that code.
    
    Later, we need to switch net_ratelimit() over to use printk_ratelimit().

commit 2b45d70f1fdf994262d2fc679b5f538eba2f913b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:36:22 2004 -0800

    [PATCH] Amiga Buddha/CatWeasel IDE
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Buddha/CatWeasel IDE: Make sure the core IDE driver doesn't try to request the
    MMIO ports a second time, since this will fail.

commit 4917626299c9771fee5185bde638a17eddc6574c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:36:13 2004 -0800

    [PATCH] M68k Documentation
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k Documentation: framebuffer.txt no longer exists in the m68k directory
    (from Nikita Melnikov)

commit 83373b7ab36936fab132030b6d98d987b7ddb81d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:36:04 2004 -0800

    [PATCH] Genrtc warning
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Genrtc: Move code to kill warning if CONFIG_PROC_FS is disabled

commit 8a6a146f9f7ee005f7acbd1f3f44f1e0fe2baf0f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:35:56 2004 -0800

    [PATCH] Cirrusfb extern inline
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Cirrusfb: Replace `extern inline' by `static inline'

commit 916448aa1fd0031795d81f8cc1758b68822455ac
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:35:47 2004 -0800

    [PATCH] M68k extern inline
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k core: Replace (variants of) `extern inline' by `static inline'

commit e8086cbd8c27949d1e6a42a7972d5fff49cd5ab7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:35:38 2004 -0800

    [PATCH] M68k thread_info
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Fix (unused) definition of init_thread_info (from Roman Zippel)

commit f8164382bb6c5ace06b71deb62e966dfaf8d8962
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:35:24 2004 -0800

    [PATCH] M68k thread
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Don't forget to initialize the thread_info member in INIT_THREAD() (from
    Roman Zippel)

commit cdf3cc100ee7c131e15a8495afeddb10b6b4e6fe
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:35:15 2004 -0800

    [PATCH] M68k has no VGA/MDA
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k has no VGA or MDA consoles

commit f3dbe96e4773b5be28f15b2fc320171bf8f0face
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:35:07 2004 -0800

    [PATCH] Amiga core C99
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Amiga core: Use C99 struct initializers

commit bd72a68e46f0f7691a7c19576ef0079d7f1fd7a6
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:34:58 2004 -0800

    [PATCH] M68k asm/system.h
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Add missing #ifdef __KERNEL / #endif (from Christian T. Steigies)

commit 1623d4488c20057f65d7f87075ff1bb6b8517d8d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:34:49 2004 -0800

    [PATCH] Mac II VIA
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Mac II VIA: Don't include <asm/init.h> directly

commit 1431c7755a1de791366744bc5cb3ecfc3ef5108b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:34:40 2004 -0800

    [PATCH] Amiga debug fix
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Amiga: Fix `debug=mem' (record all kernel messages in ChipRAM):
    virt_to_phys() no longer works for Zorro II memory space, we must use
    ZTWO_PADDR()

commit 65e5c5021998d7ce0a1541c9fdc7cfbb0991d8ae
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:34:31 2004 -0800

    [PATCH] Zorro sysfs/driver model
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Zorro bus: Add support for sysfs and the new driver model

commit db5ed140740a652a288df89d8a724fc0e96a0eec
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:34:22 2004 -0800

    [PATCH] Amiga Gayle E-Matrix 530 IDE
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Amiga Gayle IDE: Add support for the IDE interface on the M-Tech E-Matrix 530
    expansion card

commit 9425334791f3c920978793a3b0bd84718ae0d6ff
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:34:14 2004 -0800

    [PATCH] Amiga Gayle IDE cleanup
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Amiga Gayle IDE: Kill old test code for the IDE doubler

commit d4557334b80822874c6d14312fe1439715b73866
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:34:05 2004 -0800

    [PATCH] Mac ADB
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    ADB: Disable the ADB clock code when CONFIG_ADB is not selected (from Matthias
    Urlichs).

commit 300e83c10cd8a7cf8d0547c1c3531db3331a8730
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:33:57 2004 -0800

    [PATCH] Macfb setup
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Macfb: Update setup routine (from Matthias Urlichs)

commit 5dcf5e6b7b0feb9b3e779c1de467d8a01d7a8d2e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:33:48 2004 -0800

    [PATCH] Mac ADB IOP fix
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Mac ADB IOP: Fix improperly initialized request struct in the reset code,
    causing a bogus pointer (from Matthias Urlichs)

commit 701819b6146b2e37231284cee78f4bc4494e1ccb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:33:39 2004 -0800

    [PATCH] Sun-3 ID PROM C99
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Sun-3 ID PROM: Use C99 struct initializers

commit 01b3fcc711d467103a9b23515499e93745275c9c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:33:31 2004 -0800

    [PATCH] Q40 interrupts C99
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Q40 interrupts: Use C99 struct initializers

commit 50b5381333091292faacf2ddacdb402b0058a768
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:33:22 2004 -0800

    [PATCH] MVME16x RTC C99
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    MVME16x RTC: Use C99 struct initializers

commit 30f7bbd39b2d88b6176bced8509d22cbd9f6c5dc
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:33:14 2004 -0800

    [PATCH] M68k math emu C99
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k math emulator: Use C99 struct initializers

commit 3e53488a111af8b5c7fd854fa5868f404f95795e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:33:05 2004 -0800

    [PATCH] M68k symbol exports
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Export missing symbols (from Matthias Urlichs)

commit 5ddecbec0865c9b243249940dda874c380e3799e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:32:56 2004 -0800

    [PATCH] BVME6000 RTC C99
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    BVME6000 RTC: Use C99 struct initializers

commit 9729407154a4107664517b8787fbea2c96d001fa
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:32:48 2004 -0800

    [PATCH] Amiga sound C99
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Amiga sound: Use C99 struct initializers

commit ecc8c27549820f9a9f710e8da610111ec7b8f2bb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:32:39 2004 -0800

    [PATCH] Atari Hades PCI C99
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Atari Hades PCI: Use C99 struct initializers

commit cf9c906f8eb31033b39f47b4313f7228dc5aa201
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:32:30 2004 -0800

    [PATCH] M68k RMW accesses
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Avoid bus fault for certain RMW accesses (from Roman Zippel)

commit db4f1fda21a293a0573adf99eeb759e2c5abc28c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:32:22 2004 -0800

    [PATCH] M68k cache mode
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Use a constant m68k_supervisor_cachemode only if we know it's safe,
    otherwise use the value from head.S (from Roman Zippel)

commit 37f5c1db749aa03d246e03eff0767ca37cbcdfe7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:32:13 2004 -0800

    [PATCH] M68k head white space
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Remove trailing white space (from Roman Zippel)

commit 02cef3d42038fc2a13116ba3088f6ea6eab42ec2
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:32:05 2004 -0800

    [PATCH] M68k head pic
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Make console functions position independent (from Roman Zippel)

commit 7c8a6fc8b75da197bc7c1897e5ba1119e0e2ceb9
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:31:56 2004 -0800

    [PATCH] M68k head comments
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Update some comments (from Roman Zippel)

commit 0aa6f4239bd7796c4f5980b544cf2267fdb2a5e1
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:31:47 2004 -0800

    [PATCH] M68k head unused
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Remove unused console_video_virtual (from Roman Zippel)

commit 7c7e5a986814322f835f46f6965992b68783210a
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:31:39 2004 -0800

    [PATCH] M68k head console
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Use function macros and local macro for console functions (from Roman
    Zippel)

commit 03490660c0c7a378c2947efc431bda6f396e05f6
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:31:30 2004 -0800

    [PATCH] M68k floppy selection
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Floppy: On m68k, PC-style floppies are used on Q40/Q60 and Sun-3x only. Sun-3x
    floppy is currently broken (needs I/O abstractions)

commit 0bfab7ea3b40f3f82ba46993d51d76f0fd84dda0
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:31:21 2004 -0800

    [PATCH] C99 change to rcupdate.h
    
    From: "Art Haas" <ahaas@airmail.net>
    
    Replace the GNU initializers with C99 initializers.

commit ac98799688936b91a8d3a416d8102ad10756f3bd
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:31:13 2004 -0800

    [PATCH] Missing end tags in kernel-locking kerneldoc
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    From: Adam Kropelin <akropel1@rochester.rr.com>
    
    The new-and-improved kernel-locking kerneldoc seems to be missing some end
    tags which causes 'make foodocs' to die.  I'm not sure if it's because of
    my not-bleeding-edge docbook utils or if it's a genuine error.  Since most
    ending tags are present I tend to think it's an error.

commit f1af402dbc1e263388d8515fb9a93611df6b3d78
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:31:04 2004 -0800

    [PATCH] Change cryptic description and help for CONFIG_PDC202XX_FORCE
    
    From: Stephan Maciej <stephanm@muc.de>
    
    The description and the help text for this option has bothered me long
    enough...  I hope the new strings are more self-explanatory than the ones
    before.

commit 012061cc70e9c7e0d794a3e609fd79fdf9f5267d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:30:55 2004 -0800

    [PATCH] Use for_each_cpu() Where It's Meant To Be
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    Some places use cpu_online() where they should be using cpu_possible, most
    commonly for tallying statistics.  This makes no difference without hotplug
    CPU.
    
    Use the for_each_cpu() macro in those places, providing good examples (and
    making the external hotplug CPU patch smaller).
    
    Some places use cpu_online() where they should be using cpu_possible, most
    commonly for tallying statistics.  This makes no difference without hotplug
    CPU.
    
    Use the for_each_cpu() macro in those places, providing good examples (and
    making the external hotplug CPU patch smaller).

commit 90c7f71962cc5aa0bf128ce68b9a8607176558c4
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:30:46 2004 -0800

    [PATCH] Make for_each_cpu() Iterator More Friendly
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    Anton: breaks PPC64, as it needs cpu_possible_mask, but fix is already
    in Ameslab tree.
    
    The for_each_cpu() and for_each_online_cpu() iterators take a mask, and
    noone uses them that way (except for arch/i386/mach-voyager, which uses
    for_each_cpu(cpu_online_mask).  Make them more usable iterators, by
    dropping the "mask" arg.
    
    This requires that archs provide a cpu_possible_mask: most do, but PPC64
    doesn't, so it is broken by this patch.  The other archs use a #define to
    define it in asm/smp.h.
    
    Most places doing loops over cpus testing for cpu_online() should use
    for_each_cpu: it is synonymous at the moment, but with the CPU hotplug
    patch the difference becomes important.
    
    Followup patches will convert users.

commit 8e197efaae27d6492eba4e6c42d041da61d3d40d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:30:38 2004 -0800

    [PATCH] sched.c style cleanups
    
    From: Ingo Molnar <mingo@elte.hu>
    
    - sched.c style cleanups (no code change)

commit 2df40901f668a2943de6c93b4f3221a4599c7597
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:30:29 2004 -0800

    [PATCH] CPU scheduler cleanup
    
    From: Ingo Molnar <mingo@elte.hu>
    
    - move scheduling-state initializtion from copy_process() to
      sched_fork() (Nick Piggin)

commit ea9c300dbdc3bb6417969ac6e65459567cfda8ce
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:30:21 2004 -0800

    [PATCH] can_migrate_task cleanup
    
    From: Ingo Molnar <mingo@elte.hu>
    
    - minor can_migrate_task cleanup

commit 67006113bec9bbe326f9e862295183182115e5fb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:30:12 2004 -0800

    [PATCH] Relax synchronization of sched_clock()
    
    From: Ingo Molnar <mingo@elte.hu>
    
    - relax synchronization of sched_clock()

commit 8c6f4906c0e0b0229967551a9ddafd8685f1c563
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:30:03 2004 -0800

    [PATCH] O21 for interactivity 2.6.0
    
    From: Con Kolivas <kernel@kolivas.org>
    
    A non-critical corner case has come up for interactivity that I believe needs
    to be addressed. It is only extensive testing and examination that revealed
    this, as this interactivity work is in maintenance mode.
    
    Description:
    
      It is possible for a highly interactive task (like X) to cause large
      latencies in tasks that are less 'niced' (eg negative nice number
      compared to X which should normally run at nice 0) if they are fully
      cpu bound.  This occurs due to expiration of the cpu bound tasks.
    
      This patch addresses this by not reinserting interactive tasks into
      the active array if there is a better static priority task running but
      has been placed on the expired array.  This causes a substantial
      reduction in the maximum scheduling latency a task with a less nice
      value can have.
    
      This also has the positive side effect of maintaining better cpu%
      proportions for tasks of different nice levels.
    
    Testers will only be able to discern a difference with highly cpu bound tasks
    of normal scheduling policy at different nice levels. Test cases are doing
    something cpu intensive relatively -niced in the presence of an interactive
    load (eg capturing and encoding video at nice -10 while using X nice 0, or
    something nice 0 vs nice +10) and so on. Because of the crossover of 10
    'nice' levels of dynamic priorities between interactive and cpu bound tasks
    this patch will have a more noticable effect as the nice difference is
    greater, especially 11 or more.

commit f6ef9d5b50bb879c0d2ebc2b305568669a9fb958
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:29:54 2004 -0800

    [PATCH] kill_fasync speedup
    
    From: Manfred Spraul <manfred@colorfullife.com>
    
    fasync_helper and kill_fasync are helpers for managing F_SETFL fcntl
    calls that change FASYNC and sending the necessary signals. The locking
    uses one global rwlock that's acquired for read in all kill_fasync
    calls, and that causes cache line trashing. This is not necessary: if
    the fasync list is empty, then there is no need to acquire the rwlock.
    Tests with reaim on a 4-way pIII on STP showed an 80% reduction of the
    time within kill_fasync.

commit 96c4bc2e1e42180bf4ac122732e840af94168973
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:29:45 2004 -0800

    [PATCH] CONFIG_EPOLL=n space reduction
    
    From: Davide Libenzi <davidel@xmailserver.org>
    
    CONFIG_EPOLL=n space reduction in struct file.

commit 162a61e857e225d66fcc1763ce74fb9a9f48e928
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:29:37 2004 -0800

    [PATCH] fix for tridentfb.c usage on CRTs.
    
    From: Bram Stolk <bram@sara.nl>
    
    All modes that exceed the native resolution of a flatpanel are discarded.
    However, a CRT has native resolution set to 0, and therefore, tridentfb.c
    cannot be used with a CRT.

commit 5efc426fa82ac3df2206ab60a194bd09be50039c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:29:28 2004 -0800

    [PATCH] final CardServices() removal patches
    
    From: Andres Salomon <dilinger@voxel.net>
    
    Remove calls to CardServices(); final.
    
    This removes the CardServices() calls the rest of the tree, as well as
    CardServices itself from cs.c and cs.h.  My previous patches, along w/
    Arjan's patch for ide-cs.c and Russell's patch for serial_cs.c should
    remove all traces of it.  I've attached a gzipped tarball to hopefully
    make things easier.
    
    Files touched:
                                                                               =
     201-cs_remove.patch:+++ mod/sound/pcmcia/vx/vx_entry.c
    202-cs_remove.patch:+++ mod/drivers/bluetooth/bluecard_cs.c
    202-cs_remove.patch:+++ mod/drivers/bluetooth/bt3c_cs.c
    202-cs_remove.patch:+++ mod/drivers/bluetooth/btuart_cs.c
    202-cs_remove.patch:+++ mod/drivers/bluetooth/dtl1_cs.c
    203-cs_remove.patch:+++ mod/drivers/isdn/hardware/avm/avm_cs.c
    203-cs_remove.patch:+++ mod/drivers/isdn/hisax/avma1_cs.c
    203-cs_remove.patch:+++ mod/drivers/isdn/hisax/elsa_cs.c
    203-cs_remove.patch:+++ mod/drivers/isdn/hisax/sedlbauer_cs.c
    204-cs_remove.patch:+++ mod/drivers/parport/parport_cs.c
    205-cs_remove.patch:+++ mod/drivers/telephony/ixj_pcmcia.c
    206-cs_remove.patch:+++ mod/drivers/mtd/maps/pcmciamtd.c
    207-cs_remove.patch:+++ mod/drivers/scsi/pcmcia/aha152x_stub.c
    207-cs_remove.patch:+++ mod/drivers/scsi/pcmcia/fdomain_stub.c
    207-cs_remove.patch:+++ mod/drivers/scsi/pcmcia/nsp_cs.c
    207-cs_remove.patch:+++ mod/drivers/scsi/pcmcia/nsp_cs.h
    207-cs_remove.patch:+++ mod/drivers/scsi/pcmcia/qlogic_stub.c
    208-cs_remove.patch:+++ mod/drivers/char/pcmcia/synclink_cs.c
    209-cs_remove.patch:+++ mod/drivers/pcmcia/cs.c
    209-cs_remove.patch:+++ mod/include/pcmcia/cs.h

commit 3782085d36c5a4e11963d271ba8de1ddcd91a0d3
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:29:19 2004 -0800

    [PATCH] remvoe CardServices from axnet_cs
    
    From: Andres Salomon <dilinger@voxel.net>
    
    Anyways, this removes the last of the CS calls.

commit 5cf802800d1a5f48b0d865dae2e48a2a0c19d0d1
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:29:10 2004 -0800

    [PATCH] serial_cs CardServices removal fix
    
    From: Russell King <rmk@arm.linux.org.uk>

commit 9541009014bcf9fd312605be0c78f19dea9884cb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:29:01 2004 -0800

    [PATCH] Remvoe CardServices() from drivers/serial
    
    From: Russell King <rmk+lkml@arm.linux.org.uk>
    
    Ok, this is the last patch for removal of CardServices()

commit 477792e72b7c78f04c977cae67ad7a1d119071f8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:28:53 2004 -0800

    [PATCH] remove CardServices() from drivers/net/wireless
    
    From: Andres Salomon <dilinger@voxel.net>
    
    This wraps up drivers/net/wireless.  Still remaining:
    
    - sound/pcmcia/vx
    - drivers/{bluetooth,isdn,parport,telephony}
    - drivers/mtd/maps
    - drivers/scsi/pcmcia
    - drivers/char/pcmcia/synclink_cs.c

commit fab88a836cd6357b85331d182028f935d4717ef7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:28:44 2004 -0800

    [PATCH] CardServices removal for ide-cs
    
    From: Arjan van de Ven <arjanv@redhat.com>

commit fbb3bc6f6a82eb9be348d2d042ea736ddea60e1c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:28:35 2004 -0800

    [PATCH] CardServices() removal from pcmcia net drivers
    
    From: Andres Salomon <dilinger@voxel.net>
    
    Replace the various CardServices() calls w/ their pcmcia_* function.  The
    pcmcia functions fit better with kernel conventions, and don't have the
    nasty var args stuff.  These patches also fix a few places where the args
    supplied to CardServices were either not supplied, or dealt with in
    non-obvious ways.

commit d5d4042dd2d0352990d7ff54ea422950eba62969
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:28:26 2004 -0800

    [PATCH] make try_to_free_pages walk zonelist
    
    From: Rik van Riel <riel@surriel.com>
    
    In 2.6.0 both __alloc_pages() and the corresponding wakeup_kswapd()s walk
    all zones in the zone list, possibly spanning multiple nodes in a low numa
    factor system like AMD64.
    
    Also, if lower_zone_protection is set in /proc, then it may be possible
    that kswapd never cleans out data in zones further down the zonelist and
    try_to_free_pages needs to do that.
    
    However, in 2.6.0 try_to_free_pages() only frees pages in the pgdat the
    first zone in the zonelist belongs to.
    
    This is probably the wrong behaviour, since both the page allocator and the
    kswapd wakeup free things from all zones on the zonelist.  The following
    patch makes try_to_free_pages() consistent with the allocator, by passing
    the zonelist as an argument and freeing pages from all zones in the list.
    
    I do not have any numa systems myself, so I have only tested it on my own
    little smp box.  Testing on NUMA systems may be useful, though the patch
    really only should have an impact in those rare cases where kswapd can't
    keep up with allocations...
    
    As a side effect, the patch shrinks the kernel by 2 lines and replaces some
    subtle magic by a simpler array walk.

commit 2996d8deaeddd01820691a872550dc0cfba0c37d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:28:17 2004 -0800

    [PATCH] Make ppp_async callable from hard interrupt
    
    From: Paul Mackerras <paulus@samba.org>
    
    Since there are serial drivers (particularly the USB serial driver) that
    call the line discipline receive_buf and write_wakeup routines at hard
    interrupt level, I have changed the ppp_async code to cope with that.  It
    now uses a tasklet so that it calls the generic PPP code at soft interrupt
    level even if its receive_buf and write_wakeup entries are called at hard
    interrupt level.
    
    This patch has been lightly tested here with a keyspan USB serial adaptor
    and also with the built-in modem on my tibook, which uses the pmac_zilog
    driver (which hooks into the drivers/serial infrastructure).

commit 42c4d9c7b98c1e9b59a5e0f7b9a2da82b463cdfe
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:28:09 2004 -0800

    [PATCH] ATAPI MO support update
    
    From: Jens Axboe <axboe@suse.de>
    
    Update the ATAPI MO support code to reflect the reorganisations and cleanups
    which the Mt Ranier support patch added.
    
    DESC
    cdrom_open fix
    EDESC
    From: Jens Axboe <axboe@suse.de>

commit 629509362cce5a4db9f2f7c5e63d0db95c1fccd4
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:28:00 2004 -0800

    [PATCH] mt rainier support
    
    From: Jens Axboe <axboe@suse.de>
    
    Following patch adds mt rainier support to the cdrom uniform layer (it
    works with atapi and scsi/usb).

commit 9147d7beec181ebcf230ae27d92b6943aaa8d502
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:27:51 2004 -0800

    [PATCH] ATAPI MO drive support
    
    From: Pascal Schmidt <der.eremit@email.de>
    
    The below patch is needed to support ATAPI MO drives in 2.6. ide-scsi
    doesn't work any more for this, so ide-cd has to take over the job of
    running the MO drive. Without this, there is no way to write to an
    ATAPI MO drive.
    
    This patch has been discussed with Linus and Jens already around test9
    time and it was agreed this is the right way to go about it. I have
    rediffed it against 2.6.0. Compiles, runs, works just fine for me.

commit 7b2115c59f27047e7e3db8517daf475d79d4b23b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:27:43 2004 -0800

    [PATCH] Fix oops when modifying /sys/block/dm-0/queue/nr_requests
    
    From: Mike Christie <michaelc@cs.wisc.edu>
    
    DM, MD, rd and loop use blk_alloc_queue and blk_queue_make_request to
    initialize their queue, because they only use the make_request_fn.  The
    attached patch prevents the queue from being registered if only
    blk_alloc_queue was called.

commit 7ce3f0f70365af971f658d773924c52b8bc1ca34
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:27:34 2004 -0800

    [PATCH] fix gcc-3.4 warning in percpu code
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    It's complaining about:
    
    #define per_cpu(var, cpu)			((void)cpu, per_cpu__##var)
    
    There are several ways of fixing this, but the simplest is:
    
    #define per_cpu(var, cpu)			(*((void)cpu, &per_cpu__##var))

commit 96aae35560014f06496667d13c0981551e073e1c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:27:25 2004 -0800

    [PATCH] PPC32: Minor cleanups to IBM4xx and MPC82xx headers.
    
    From: Tom Rini <trini@kernel.crashing.org>
    
    PPC32: Minor cleanups to IBM4xx and MPC82xx headers.
    
    - Make sure that if <asm/ibm4xx.h> is included on !40x && !440, there is no real effect.
    - Delete arch/ppc/platforms/mpc82xx.h
    - Make sure that if CONFIG_8260 isn't set, there is no effect in <asm/mpc8260.h>.
    - Add a __ASSEMBLY__ test around the extern for __res in <asm/mpc8260.h>.

commit f2b087ca85526c9267bb0203bf78ce7adf758f01
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:27:17 2004 -0800

    [PATCH] PPC32: Select arch/ppc/kernel/head.S on CONFIG_PPC_STD_MMU.
    
    From: Tom Rini <trini@kernel.crashing.org>
    
    PPC32: Select arch/ppc/kernel/head.S on CONFIG_PPC_STD_MMU.
    
    - Don't pick a head*.S by default, instead select head.S on
      CONFIG_PPC_STD_MMU.  This is more consistent with how we
      case things in this file.

commit 7ed02f09e8876f87403ba7ebf4491c8669844388
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:27:08 2004 -0800

    [PATCH] PPC32: Change all EXPORT_SYMBOL_NOVERS to EXPORT_SYMBOL in ppc_ksyms.c
    
    From: Tom Rini <trini@kernel.crashing.org>
    
    PPC32: Change all EXPORT_SYMBOL_NOVERS to EXPORT_SYMBOL in ppc_ksyms.c
    
    - Change all EXPORT_SYMBOL_NOVERS to EXPORT_SYMBOL in ppc_ksyms.c

commit 4862cdc79d8bc99ee9b2f73f9133e3ea71eebd96
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:27:00 2004 -0800

    [PATCH] PPC32: Export consistent_sync_page.
    
    From: Tom Rini <trini@kernel.crashing.org>
    
    We must export the consistent_sync_page symbol.  It is used by inline
    functions which implement the PCI DMA API.

commit 2d935b4d2fd692f153c83dd7219e3781032f238d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:26:51 2004 -0800

    [PATCH] AS tuning
    
    From: Nick Piggin <piggin@cyberone.com.au>
    
    The big regression from deadline is tiobench random reads with TCQ disks,
    however it is present in -linus as well, and would have been since day 1 of
    AS, but nobody has complained too loudly.
    
    http://developer.osdl.org/judith/tiobench/4CPU/rr.html
    
    This problem is probably a distilation of what causes lower database
    throughput, because I have only ever seen it with TCQ drives, and pgbench
    and OraSim are actually getting higher throughput here with a non TCQ
    drive.
    
    That is not to say that TCQ is useless, it obviously can provide a very
    real and significant boost.  What I might do in the (near) future is get AS
    to detect TCQ and turn itself off indefinitely unless/until the a sysfs
    flag is set, and default that flag to off.
    
    This patch changes the AS tunables a bit to be more on par with deadline.  It
    lowers the threshold for random reading processes to be considered unsuitable
    for anticipation, and it slightly rearranges and comments the "cooperative
    seek distance" logic.
    
    With this patch, AS is now very competitive with deadline on the single IDE
    and SCSI (non TCQ) disks here.  In fact, I don't have any regressions
    anywhere.  Even when TCQ is on, although throughput can be lower, AS still
    has benefits because of its much better read vs write latency and general
    tendancy to keep number of outstanding tags smaller.

commit 92327d289b993313eee82fac29b847776f6e621a
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:26:43 2004 -0800

    [PATCH] AS: thinktime improvement
    
    From: Nick Piggin <piggin@cyberone.com.au>
    
    Sometimes a processes thinktime shouldn't be measured on how soon it
    submits its next request, but how soon any close request is submitted.
    
    Some processes, such as those in make -j, find | xargs blah, etc. Should be
    waited upon even if they never submit another request, because they work with
    cooperating or child processes. This helps to take that into account.

commit 7950701f2ef7c98a36a6160dafbc41d95283fa6b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:26:34 2004 -0800

    [PATCH] AS: new process estimation
    
    From: Nick Piggin <piggin@cyberone.com.au>
    
    This one gathers better statistics about the new process problem.  It
    improves estimation for initial process IO.  That is, better calculations
    for whether it will be worth waiting after a process submits its first
    read.
    
    This is done with a per queue average thinktime and seek time for a second
    read submitted from a process.
    
    When combined with 3/3, numbers are around the same as mm1 for most long
    lived tasks, but much better for things like the top 4 benchmarks.
    
    Probably wants rwhron and the OSDL database guys to give it some testing.
    
    test                                    2.6.0-test9-mm1  2.6.0-test9-mm1-np
    Cat kernel source during seq read       0:26.89          0:24.75
    Cat kernel source during seq write      9:17.80          0:23.48
    ls -lr kernel source during seq read    0:11.03          0:14.68
    ls -lr kernel source during seq write   0:49.95          0:08.06
    
    contest no_load                         143s 0 loads     144s 0 loads
    contest io_load                         193s 40.2 loads  193s 40.1 loads
    contest read_load                       186s 11.6 loads  190s 10.5 loads
    contest list_load                       201s 5.0 loads   200s 5.0 loads
    
    pgbench 1 client                        31.3TPS          31.5TPS
    pgbench 4 clients                       37.7TPS          37.5TPS
    pgbench 16 clients                      42.1TPS          48.1TPS

commit 766b36ce864fe91d19ab73f1accb865011305a2f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:26:27 2004 -0800

    [PATCH] AS fixes
    
    From: Nick Piggin <piggin@cyberone.com.au>
    
    This fixes all known bugs with as in mm2.  That constitutes small fixes for
    2 WARNs getting triggered.  It looks like Prakash's lost interrupt problem
    was due to as spewing bazillions of warnings, and he must have had his
    kernel.printk configured not to show them or something.  I have to just get
    final confirmation from him that this final cut of the patch fixes his
    problem too.

commit 96082c9b94d029a620730c663113e080af3c3d26
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:26:18 2004 -0800

    [PATCH] AS: request poisining fix
    
    From: Nick Piggin <piggin@cyberone.com.au>

commit 9087295f636f7b9378eb70706bc3ecf16b6d0c9b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:26:10 2004 -0800

    [PATCH] AS: request poisoning
    
    From: Nick Piggin <piggin@cyberone.com.au>
    
    I have tested this on my disks and cdroms, but they don't represent
    what all drivers might do. I have asked Jarkko Lehti with his dvd writing
    problem to try it...

commit 4f292a2109482a303e648d78d3ef9a30cd0d2260
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:26:01 2004 -0800

    [PATCH] Fix IO scheduler regression
    
    From: Nick Piggin <piggin@cyberone.com.au>
    
    Randy has just reported that this fixes up his regression. Its now as good
    as test5 in his tests with this patch. He is also seeing quite large
    increases (above test5) when IO scheduler barriers are disabled (this patch
    doesn't do that). Perhaps something is using them too liberally.
    
    Anyway, this reverts AS back to defaulting to not anticipate IO for a
    program that submits its first request (this really hurts find | xargs grep
    sort of things).  I am working on something to fix this up properly.  That
    can go in after 2.6.0 anyway.

commit 91d61a0f03e083ea47de442dd1f37abc0c7bd8fb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:25:52 2004 -0800

    [PATCH] jffs: use daemonize()
    
    Use daemonize() rather than open-coding half of it.
    
    (I don't know if this has been tested - it has been in -mm for three months).

commit e8be17fa3b8ffb29c2f89abca3b2c70274153cd7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:25:44 2004 -0800

    [PATCH] ppc64: vio fixup
    
    From: Anton Blanchard <anton@samba.org>
    
    vi fixup

commit b3646f19fe3a0a9f27f9946860a2068406b55286
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:25:35 2004 -0800

    [PATCH] ppc64: early BSS clear, from Ben Herrenschmidt
    
    From: Anton Blanchard <anton@samba.org>
    
    Gone are the days of initialising stuff we touch in prom_init just
    to keep it out of the BSS. There are a few things the hypervisor
    writes to in the iseries case, hard code them into the data segment
    and add a comment.
    
    Remove the -fno-zero-initialized-in-bss hack, it was required when
    gcc got smart and put zero initialised stuff into the BSS

commit 153aff0e5d41ab34c130d9c7bf255b3e27a153c0
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:25:26 2004 -0800

    [PATCH] ppc64: Fixed rtas_extended_busy_delay_time() to calculate correct value, from John Rose
    
    From: Anton Blanchard <anton@samba.org>
    
    Fixed rtas_extended_busy_delay_time() to calculate correct value, from John
    Rose

commit da985ddd0808ccbdb5c941ebdbacc86565a9227c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:25:18 2004 -0800

    [PATCH] ppc64: xmon breakpoint and single step on LPAR fixes from John Rose
    
    From: Anton Blanchard <anton@samba.org>
    
    Xmon changes to make breakpoints and single-stepping work on pSeries LPARs.
    Also changed help text to reflect obsolete cmds.

commit eb55c013739a43db76537d8c00fc62573461fcbd
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:25:09 2004 -0800

    [PATCH] ppc64: cp_compat_stat should copy nanosecond fields
    
    From: Anton Blanchard <anton@samba.org>
    
    Looks like glibc is using stat in some places, so we should modify
    it to copy the nanosecond fields. Also speed up stat by only checking
    the region once instead of each put_user call.

commit e341f63da4d5f63de1df7afeb15e03feae12a3d3
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:25:00 2004 -0800

    [PATCH] ppc64: correct epoll syscall names
    
    From: Anton Blanchard <anton@samba.org>
    
    correct epoll syscall names

commit e3ffaf405e5cd300b3e8d5b5abd5c5ec7339bda0
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:24:52 2004 -0800

    [PATCH] ppc64: setup_cpu must be called on boot cpu
    
    From: Anton Blanchard <anton@samba.org>
    
    setup_cpu was being called for the boot cpu after all other cpus had been
    spun up.  The init thread can sleep during secondary cpu spinup (eg migration
    thread init) and sometimes the init thread would switch to another cpu at
    this time.  The end result was setup_cpu was called twice on one cpu and
    never on the boot cpu.
    
    The original fix called setup_cpu on the boot cpu before all others but that
    wont work for G5, so we now use cpu affinity calls to enforce it.

commit 18161326a3e7ff9ef9974fa9f77965132ca4d047
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:24:43 2004 -0800

    [PATCH] ppc64: vmlinux.lds fixes, from Alan Modra
    
    From: Anton Blanchard <anton@samba.org>
    
    - Remove a bunch of unnecessary sections
    - Always declare section labels inside the section (bug found on ppc32)
    - Rearrange sections to waste less space

commit a4d30bb4d498d41ae94f0a68bd0b4c1b91309577
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:24:35 2004 -0800

    [PATCH] ppc64: Makefile fixes
    
    From: Anton Blanchard <anton@samba.org>
    
     - remove old checks target, no longer used
     - add -mtraceback=none, we dont use traceback tables any more
     - add check for -mcpu=power4, older toolchains dont support this option

commit e80008c5554a38e64d437017353cea9c92ef6185
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:24:26 2004 -0800

    [PATCH] ppc64: Use an atomic_t instead of a volatile unsigned long, from Stephen Rothwell
    
    From: Anton Blanchard <anton@samba.org>
    
    Use an atomic_t instead of a volatile unsigned long, from Stephen Rothwell

commit bdabd2b43c0314d32252e2838d8d323cf3f6e405
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:24:18 2004 -0800

    [PATCH] ppc64: Fix a compile error and a warning in the iSeries code, from Stephen Rothwell
    
    From: Anton Blanchard <anton@samba.org>
    
    Fix a compile error and a warning in the iSeries code, from Stephen Rothwell

commit cf74826d897b9f9074d7dd6e37cb830df2f10b72
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:24:09 2004 -0800

    [PATCH] ppc64: Check range of PCI memory and I/O accesses on iSeries, from Stephen Rothwell
    
    From: Anton Blanchard <anton@samba.org>
    
    Check range of PCI memory and I/O accesses on iSeries, from Stephen Rothwell

commit d31decfe7048ae476982975947aed5c95cea6c7f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:23:57 2004 -0800

    [PATCH] ppc64: prom_panic(), from Todd Inglett
    
    From: Anton Blanchard <anton@samba.org>
    
    prom_panic(), from Todd Inglett

commit 498efe944af3ed82ad3663ad34fddc504bad7a77
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:23:46 2004 -0800

    [PATCH] ppc64: Tidy up the mf_proc code, from Stephen Rothwell
    
    From: Anton Blanchard <anton@samba.org>
    
    Tidy up the mf_proc code, from Stephen Rothwell

commit 008d0de45eaa09ab8fd62c25a669fb4c00d16627
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:23:35 2004 -0800

    [PATCH] ppc64: __hash_page rewrite, from Ben Herrenschmidt
    
    From: Anton Blanchard <anton@samba.org>
    
    Rewrite __hash_page function in assembly in such a way we don't need
    the page table lock any more. We now rely on a BUSY bit in the linux
    PTE on which we spin on when doing an update of the PTE

commit d4361b6c4ee2dbd5eee1f6932b88532525bb50a7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:22:50 2004 -0800

    [PATCH] ppc64: Fix {pte,pmd}_free vs. hash_page race by relaying actual deallocation with RCU, from Ben Herrenschmidt
    
    From: Anton Blanchard <anton@samba.org>
    
    Fix {pte,pmd}_free vs.  hash_page race by relaying actual deallocation with
    RCU, from Ben Herrenschmidt

commit 04879b04bf500585d6b015e440be3ee7bdaf9cd4
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:22:39 2004 -0800

    [PATCH] ppc64: VMX (Altivec) support & signal32 rework, from Ben Herrenschmidt
    
    From: Anton Blanchard <anton@samba.org>
    
    VMX (Altivec) support & signal32 rework, from Ben Herrenschmidt

commit d4c6e4e119d3cd89b80321c7abb4914d33b594d1
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:22:27 2004 -0800

    [PATCH] ppc64: fix POWER3 boot
    
    From: Anton Blanchard <anton@samba.org>
    
    Binutils uses the recent mtcrf optimisation when compiling for a POWER4
    target.  Unfortunately this causes a program check on POWER3.  We required
    compiling for POWER4 so the tlbiel instruction would be recognised.
    
    For the moment we hardwire the tlbiel instruction, longer term we can use the
    binutils -many flag.

commit 820880f327cc7b168368800f6d0c4f60a731053a
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:22:17 2004 -0800

    [PATCH] ppc64: Update the surveillance boot parameter to allow all valid settings of the surveillance timeout, from Nathan Fontenot
    
    From: Anton Blanchard <anton@samba.org>
    
    Update the surveillance boot parameter to allow all valid settings of the
    surveillance timeout, from Nathan Fontenot

commit e528ff695cc0fd850aa5b331fddf198d9778fe5a
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:22:07 2004 -0800

    [PATCH] ppc64: add/forward port of lparcfg, from Will Schmidt
    
    From: Anton Blanchard <anton@samba.org>
    
    add/forward port of lparcfg, from Will Schmidt

commit c4f34fde6f3c7c71ea68909b900561a47c58e35f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:21:55 2004 -0800

    [PATCH] ppc64: Get native PCI going on iSeries, from Paul Mackerras
    
    From: Anton Blanchard <anton@samba.org>
    
    Get native PCI going on iSeries, from Paul Mackerras

commit 0385d58f0da914f4439c5cdff93010d53e6b435d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:21:43 2004 -0800

    [PATCH] ppc64: VIO support, from Dave Boutcher, Hollis Blanchard and Santiago Leon
    
    From: Anton Blanchard <anton@samba.org>
    
    Add virtual I/O support.  These routines provide the infrastructure
    needed by virtual SCSI, virtual ethernet, virtual serial on IBM
    pSeries servers

commit 70417740a26d6e5bde6e22286642e06568ae7361
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:21:31 2004 -0800

    [PATCH] ppc64: add hcall interface
    
    From: Anton Blanchard <anton@samba.org>
    
    add hcall interface

commit a62f6a53c0897d438c758ac47ae18550656e4b7d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:21:15 2004 -0800

    [PATCH] ppc64: Small cleanups to iSeries virtual ethernet driver, from Dave Gibson
    
    From: Anton Blanchard <anton@samba.org>
    
    Small cleanups to iSeries virtual ethernet driver, from Dave Gibson

commit 77257fe5621cef5cd4550541f6df727635841b56
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:21:03 2004 -0800

    [PATCH] ppc64: Tidy up various bits of the iSeries code. No significant code changes, from Stephen Rothwell
    
    From: Anton Blanchard <anton@samba.org>
    
    Tidy up various bits of the iSeries code.  No significant code changes, from
    Stephen Rothwell

commit 9a7dd65286df3512b96d3a41bf550db8806d4cfb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:20:45 2004 -0800

    [PATCH] ppc64: fix a couple small OF device tree bugs which were overlooked, from Joel Schopp
    
    From: Anton Blanchard <anton@samba.org>
    
    fix a couple small OF device tree bugs which were overlooked, from Joel Schopp

commit 0f81ecbfe24736ec240abf2d372ac88f90dac970
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:20:25 2004 -0800

    [PATCH] ppc64: iSeries fixes, from Stephen Rothwell
    
    From: Anton Blanchard <anton@samba.org>
    
    iSeries fixes, from Stephen Rothwell

commit fdd860a1b450f8653778bdb071ac10a8616e911d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:20:01 2004 -0800

    [PATCH] ppc64: Add additional hypervisor call constants, from Dave Boutcher
    
    From: Anton Blanchard <anton@samba.org>
    
    Add additional hypervisor call constants, from Dave Boutcher

commit 2c24cc13ca81721204c0cea3809f8e5f1b5733e9
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:19:35 2004 -0800

    [PATCH] ppc64: preliminary iseries support, from Paul Mackerras
    
    From: Anton Blanchard <anton@samba.org>
    
    Preliminary iSeries support.  Still a bit hackish in parts but it does
    compile.  The viodasd driver is almost completely untested so don't trust it
    with your data.

commit 228ab0bd90dee763a92f55e6ef5c92acb93867ac
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:19:16 2004 -0800

    [PATCH] ppc64: NVRAM error logging/buffering patch, from Jake Moilanen
    
    From: Anton Blanchard <anton@samba.org>
    
    This is a port of the nvram buffering/error logging code from 2.4 to 2.6.  It
    includes moving /proc/rtas to /proc/ppc64/rtas and making /proc/rtas a
    symlink to /proc/ppc64/rtas.  It also splits up the /dev/nvram device
    read/write functions from the basic nvram access functions, and adds ppc_md
    fields for the nvram access functions.

commit a0f52f9ee6ecaa1188787a20668920ca55435df7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:18:58 2004 -0800

    [PATCH] ppc64: one instruction fix for synchronization bug found during cpu DLPAR development, from Joel Schopp
    
    From: Anton Blanchard <anton@samba.org>
    
    one instruction fix for synchronization bug found during cpu DLPAR
    development, from Joel Schopp

commit 81cf99e96a59b1e463607db8150df56010d1c88c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:18:40 2004 -0800

    [PATCH] ppc64: Add VMX registers to sigcontext, from Steve Munroe
    
    From: Anton Blanchard <anton@samba.org>
    
    Add VMX registers to sigcontext, from Steve Munroe

commit 54fec6c45b9148099d7d81f129b33c2acc982ef3
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:18:21 2004 -0800

    [PATCH] ppc64: UP compile fixes, from Paul Mackerras
    
    From: Anton Blanchard <anton@samba.org>
    
    Minor fixes to make the UP case compile, export cpu_possible_map, fix up
    whitespace etc.

commit 09a0a191e17e4c4ee7603ef085ae8d97a1c2e282
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:18:04 2004 -0800

    [PATCH] ppc64: SMT processor support and logical cpu numbering, from Dave Engebretsen
    
    From: Anton Blanchard <anton@samba.org>
    
    And SMT processor support & move back to a logical cpu numbering
    in support of DLPAR work.

commit b015de4810ae2a8824591a9c673fdb5b05591abc
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:17:48 2004 -0800

    [PATCH] ppc64: shared processor support, from Dave Engebretsen
    
    From: Anton Blanchard <anton@samba.org>
    
    Initial round of code to add shared processor support into 2.6.  This adds
    h_call interfaces, paca/VPA fields, and vpa register.  Add adds new idle loop
    code.

commit 8da20206758376b9b8a4f7c1e81ee21ab16f153e
Merge: a72b47b... fc65189...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Sun Jan 18 18:17:39 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 5a843935ec1193f3c5db38e9227567ca9dae45f2
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:17:30 2004 -0800

    [PATCH] ppc64: add rtas syscall, from John Rose
    
    From: Anton Blanchard <anton@samba.org>
    
    Added RTAS syscall.  Reserved lowmem rtas_rmo_buf for userspace use.  Created
    "rmo_buffer" proc file to export bounds of rtas_rmo_buf.

commit f408553cf57c155836e901fe8e1493d61af5c52f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:17:15 2004 -0800

    [PATCH] ppc64: compat layer update, from Paul Mackerras, Olaf Hering and myself
    
    From: Anton Blanchard <anton@samba.org>
    
    - Switch to using the new compat aio syscalls
    - add compat timer/clock syscalls
    - use compat_statfs64
    - add compat fadvise64_64

commit 45738bdd883925086215df2d7cf22a2045c8c929
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:17:03 2004 -0800

    [PATCH] ppc64: fix sched_clock, from Paul Mackerras:
    
    From: Anton Blanchard <anton@samba.org>
    
    Currently the sched_clock implementation for PPC64 is bogus.  It just reads
    the timebase register, which counts at some fixed rate, typically around
    100MHz.  This patch adds code to calculate a suitable multiplier from the
    timebase frequency, and use that in sched_clock().

commit eabb2c770d0e9eb36bceefb7baf553acbdbe5f59
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:16:48 2004 -0800

    [PATCH] ppc64: Add _syscall6, from Olaf Hering
    
    From: Anton Blanchard <anton@samba.org>
    
    Add _syscall6, from Olaf Hering

commit 2160dc0657c756e119e30c4c4744a55a70912caf
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:16:29 2004 -0800

    [PATCH] ppc64: Add exports and change some __init to __devinit for dynamic OF and pci hotplug, from John Rose and Linda Xie
    
    From: Anton Blanchard <anton@samba.org>
    
    Add exports and change some __init to __devinit for dynamic OF and pci
    hotplug, from John Rose and Linda Xie

commit f6eb2bcd667d77f94470c49aa0646b1382e9e509
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:16:01 2004 -0800

    [PATCH] ppc64: fix sign extension bug in NUMA code
    
    From: Anton Blanchard <anton@samba.org>
    
    The ppc64 NUMA code has a sign extension problem.  We would sign extend tmp1
    when assigning it to start.  Fix this by making tmp1 unsigned.

commit 51bdd7113984bc078067aa6e63a84e0ed423a15d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:15:40 2004 -0800

    [PATCH] ppc64: rename the rtas event classes to avoid namespace collisions, from John Rose
    
    From: Anton Blanchard <anton@samba.org>
    
    rename the rtas event classes to avoid namespace collisions, from John Rose

commit 7477a4dd2cfa0c9d6d1731dc309bb4c97b85a1ea
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:15:16 2004 -0800

    [PATCH] ppc64: Add some rtas calls, from John Rose
    
    From: Anton Blanchard <anton@samba.org>
    
    Added functions for 3 RTAS calls
    	get-power-level
    	get-sensor-state
    	set-indicator

commit 9255d6af509bfb0eef54c6398e18498c394fd285
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:14:52 2004 -0800

    [PATCH] ppc64: iSeries fixups, from Stephen Rothwel
    
    From: Anton Blanchard <anton@samba.org>
    
    iSeries fixups, from Stephen Rothwel

commit 9217e4e537bb316f7ebc920a4ebe57c1e5f7ed2c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:14:27 2004 -0800

    [PATCH] ppc64: cputable cleanup, from Dave Engebretsen:
    
    From: Anton Blanchard <anton@samba.org>
    
    Formatting cleanup, fix for firmware_features init, use cpu_features
    to display processor names.

commit d0a70ac319b34881a4c4436713fc85a81818d70a
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:14:11 2004 -0800

    [PATCH] ppc64: cputable update, from Dave Engebretsen
    
    From: Anton Blanchard <anton@samba.org>
    
    Sync 2.4 & 2.6 cputable code.  Adds 970 and Power5 processor support
    plus new firmware features.

commit 89d483cb89e6331edb05ad878fdc8e415e8c6de8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:13:57 2004 -0800

    [PATCH] ppc64: extended flash changes, from Mike Wolf
    
    From: Anton Blanchard <anton@samba.org>
    
    extended flash changes, from Mike Wolf

commit fc65189bad1203f7c7ac53e06002741f9db078d1
Merge: 190156a... 26149a9...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Sun Jan 18 18:13:56 2004 -0800

    Merge http://linux-ntfs.bkbits.net/ntfs-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 190156a91d5b968eba4c239aed437f8bf5194f07
Merge: 1c2a00a... 9d8f7ca...
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Mon Jan 19 14:01:47 2004 +0000

    Merge cantab.net:/home/aia21/bklinux-2.6
    into cantab.net:/home/aia21/ntfs-2.6

commit 9d8f7ca30c45bd03f58f94ba873648d50f9ecdb3
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Mon Jan 19 13:29:57 2004 +0000

    Fix minor bug in handling of compressed directories that fixes the
    erroneous "du" and "stat" output people reported.

commit ed8da7b0bc5345d7c4efc88255d980fe6066474d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:13:37 2004 -0800

    [PATCH] ppc64: Mem-map I/O changes, from Mike Wolf
    
    From: Anton Blanchard <anton@samba.org>
    
    Mem-map I/O changes, from Mike Wolf

commit dcc5965cd0a6fd12362398aa26c9fecec7f59019
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:13:20 2004 -0800

    [PATCH] ppc64: Open Firmware device tree manipulation support, from Nathan Lynch
    
    From: Anton Blanchard <anton@samba.org>
    
    Implementation of /proc/ppc64/ofdt, for manipulation of Open Firmware
    device tree (/proc/device-tree).  Supports addition and removal of
    OF device nodes.

commit ebcaf5e8ef649f18f675bae864a2b1b44630d10e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:13:05 2004 -0800

    [PATCH] ppc64: various trivial patches
    
    From: Anton Blanchard <anton@samba.org>
    
    various trivial patches

commit 50405fa239bba3fc6a8fbd291a9a82e422e6a7a5
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:12:49 2004 -0800

    [PATCH] ppc64: base support for dynamic update of OF device, tree from Nathan Lynch
    
    From: Anton Blanchard <anton@samba.org>
    
    base support for dynamic update of OF device, tree from Nathan Lynch

commit 40a4a0aaad534be2b05904f27c64c735dc989944
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:12:33 2004 -0800

    [PATCH] ppc64: support for runtime updates of /proc/device-tree, from Nathan Lynch
    
    From: Anton Blanchard <anton@samba.org>
    
    support for runtime updates of /proc/device-tree, from Nathan Lynch

commit aafb95619158e15a5398f30734998b8ef5f6d650
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:12:16 2004 -0800

    [PATCH] ppc64: Make IPI receivers survive a late arrival after the sender has given up waiting, from Olof Johansson
    
    From: Anton Blanchard <anton@samba.org>
    
    Make IPI receivers survive a late arrival after the sender has given up
    waiting, from Olof Johansson

commit 69e3e272d82dff09e53967b30c6bfc7526b3b36d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:12:00 2004 -0800

    [PATCH] ppc64: use device_is_compatible() instead of manual strcmp, from Hollis Blanchard
    
    From: Anton Blanchard <anton@samba.org>
    
    use device_is_compatible() instead of manual strcmp, from Hollis Blanchard

commit 7dec0b469b3f926c91ed9283235a55b0f2f3a5f0
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:11:40 2004 -0800

    [PATCH] ppc64: hvc_console can only handle vty nodes compatible with "hvterm1", from Hollis Blanchard
    
    From: Anton Blanchard <anton@samba.org>
    
    hvc_console can only handle vty nodes compatible with "hvterm1", from Hollis
    Blanchard

commit 6a4f45097153744badad1c4d66d299f93050f51b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:11:24 2004 -0800

    [PATCH] ppc64: vty updates, from Hollis Blanchard
    
    From: Anton Blanchard <anton@samba.org>
    
    vty updates, from Hollis Blanchard

commit 40399e6d1bead2092a3b1d436830e0062ed66b20
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:11:09 2004 -0800

    [PATCH] ppc64: Change to new OF device tree API, from Nathan Lynch
    
    From: Anton Blanchard <anton@samba.org>
    
    Attached is a patch which replaces all the uses of the old device tree API in
    arch/ppc64.  Patch is against 2.6.0-test5 (cset 1.1328) from ameslab bk, plus
    the patch from my previous message.  I've tested this on a pSeries LPAR.

commit 4e0cbcfe1cac64229c973394a1936676d3c9d3bb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:10:48 2004 -0800

    [PATCH] ppc64: New Open Firmware device tree API, from Nathan Lynch
    
    From: Anton Blanchard <anton@samba.org>
    
    This is an adaptation of the new Open Firmware device tree traversal API from
    ppc32, originally written by Benjamin Herrenschmidt.  This patch is against
    2.6.0-test3, but should apply ok to the latest 2.5 ameslab tree.
    
    These functions are meant to be SMP-safe alternatives to the current set of
    query/traversal routines (find_devices, find_type_devices, et al).

commit 95cbbcaab1ba07321b93c0ad4fac1702b826374e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:10:29 2004 -0800

    [PATCH] ppc64:  support for ibm,phandle OF property, from Dave Engebretsen:
    
    From: Anton Blanchard <anton@samba.org>
    
    Upcoming partition firmware requires the use of the ibm,phandle property for
    matching device nodes.  Add a new field in device_node to contain this data.

commit b9811b0aefb701d89cbc0ac505537b6b4287be41
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:10:14 2004 -0800

    [PATCH] ppc64: HvCall_writeLogBuffer called with too large of a buffer
    
    From: Anton Blanchard <anton@samba.org>
    
    HvCall_writeLogBuffer called with too large of a buffer

commit 26149a9077bc18a018447555cad89ab896f0fa95
Merge: 1c2a00a... 798d3f7...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Sun Jan 18 18:10:13 2004 -0800

    Merge http://xfs.org:8090/xfs-linux-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 821e6ef6ca2d17f5fe88b93034b84edad0504969
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:10:03 2004 -0800

    [PATCH] ppc64: ptrace.h PT_FPSCR fixup, from Will Schmidt
    
    From: Anton Blanchard <anton@samba.org>
    
    ptrace.h PT_FPSCR fixup, from Will Schmidt

commit 3de20c98b206fd09509dc5daece53fb0e9b4308f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:09:50 2004 -0800

    [PATCH] ppc64: add automatic check for biarch compilers
    
    From: Anton Blanchard <anton@samba.org>
    
    add automatic check for biarch compilers

commit 3cf90b05a2b8fbabd9f7858f0d378f3f4690f9d9
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:09:41 2004 -0800

    [PATCH] ppc64: Build the zImage by default
    
    From: Anton Blanchard <anton@samba.org>
    
    Build the zImage by default

commit 45eeecae2ef27511d7cf548b03408544d22a1cb3
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:09:33 2004 -0800

    [PATCH] ppc64: revert IRQ_INPROGRESS change
    
    From: Anton Blanchard <anton@samba.org>
    
    revert IRQ_INPROGRESS change

commit 12deb66044f4d7334cdefbe91b810085d482358f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:09:24 2004 -0800

    [PATCH] ppc64: clean up WARN_ON backtrace
    
    From: Anton Blanchard <anton@samba.org>
    
    clean up WARN_ON backtrace

commit ef02db51e3de045dcadba2ee399e6a9efbac9f1e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:09:15 2004 -0800

    [PATCH] Convert tsdev to use module_param
    
    From: Dmitry Torokhov <dtor_core@ameritech.net>
    
    Convert tsdev to the new way of handling parameters and document them in
    kernel-parameters.txt

commit 07a190a474f513464fea0d40ee853591c0b44d51
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:09:06 2004 -0800

    [PATCH] Convert mouse drivers to use module_param
    
    From: Dmitry Torokhov <dtor_core@ameritech.net>
    
    Convert the rest of mouse devices to the new way of handling kernel
    parameters and document them in kernel-parameters.txt

commit 665e407eac728b915d97df7d3937ef823dcf1aec
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:08:57 2004 -0800

    [PATCH] Fix compile error in 98busmouse.c module
    
    From: Dmitry Torokhov <dtor_core@ameritech.net>
    
    Fix 98busmouse compile error - have interrupt routine return IRQ_HANDLED

commit 0fe28f54aa340811aef8e18546cfe0800c406e7b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:08:50 2004 -0800

    [PATCH] input: SiS AUX port
    
    From: Dmitry Torokhov <dtor_core@ameritech.net>
    
    Do not ignore AUX port if chipset fails to disable it (SiS seems to have
    trouble disabling AUX port, other than that the port works fine).

commit 6fdc2278cedcf48191db11c7fdf3f134bfd92d36
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:08:41 2004 -0800

    [PATCH] Kconfig Synaptics help
    
    From: Dmitry Torokhov <dtor_core@ameritech.net>
    
    Kconfig help section update -
    
    Suggest psmouse.proto=imps option to Synaptics users who do not want
    installing native XFree driver but want tapping work

commit c8b674993febf0026c5548047102b6f34b74fdb1
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:08:33 2004 -0800

    [PATCH] input: missing module licenses
    
    From: Dmitry Torokhov <dtor_core@ameritech.net>
    
    Add missing MODULE_LICENSEs

commit 9b7bd6732143ae2bcf028ba0a5db3f77e6e10c31
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:08:24 2004 -0800

    [PATCH] input: atkbd option parsing
    
    From: Dmitry Torokhov <dtor_core@ameritech.net>
    
    Convert atkbd to the new style of option parsing.
    
    If compiled as a module new option names are: set, softrepeat, reset.
    
    If built into the kernel options must be prepended with "atkbd." prefix,
    like "atkbd.softrepeat"

commit a03c40a3c0bdecb6c18cf080922dc8c8a0e29bd5
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:08:16 2004 -0800

    [PATCH] input: psmouse option parsing
    
    From: Dmitry Torokhov <dtor_core@ameritech.net>
    
    With Vojtech's approval adjusted psmouse option names by dropping psmouse_
    prefix.
    
    If psmouse is compiled as a module new option names are: proto, rate,
    resetafter, resolution, smartscroll
    
    If psmouse is built in the kernel the prefix "psmouse." is required in
    front of an option, like "psmouse.proto"
    
    Also, since we are changing all names, killed psmouse_noext completely

commit 687e435aee8e38fdea38c0d8a9d299adb855c2b9
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:08:07 2004 -0800

    [PATCH] input: i8042 option parsing
    
    From: Dmitry Torokhov <dtor_core@ameritech.net>
    
    With Vojtech's approval adjusted i8042 option names by dropping i8042_
    prefix.
    
    If i8042 is compiled as a module new option names are: direct, dumbkbd,
    noaux, nomux, reset, unlock.
    
    If i8042 is build in the kernel the prefix "i8042." is required in front of
    an option, like "i8042.reset"

commit b54d1725a28dab948bb94cec2bfc7d9631182114
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:07:58 2004 -0800

    [PATCH] input: i8042 suspend
    
    From: Dmitry Torokhov <dtor_core@ameritech.net>
    
    Add suspend methods to restore original controller state on suspend as some
    BIOS don't like the state we leave it in.  Also synchroniously delete the
    polling timer on module exit.

commit 4ef3ed62241051dd5b048e6497d116371bb47390
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:07:50 2004 -0800

    [PATCH] mousedev PS/@ emulation fix
    
    From: Dmitry Torokhov <dtor_core@ameritech.net>
    
    correctly perform PS/2 (mousedev) emulation for touchpads generating
    absolute events (do not stop with the first client)

commit c5b7a7d278777ec16937c36f38230c9e816ea773
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:07:41 2004 -0800

    [PATCH] Input: smooth out mouse jitter
    
    From: Dmitry Torokhov <dtor_core@ameritech.net>
    
    When calculating deltas for touchpads that generate absolute events use
    average over the last 3 packets to remove jitter

commit a15092bd9efa40e0a4584e62efd69ecb66906ed0
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:07:34 2004 -0800

    [PATCH] raw.c refcounting fix
    
    From: viro@parcelfarce.linux.theplanet.co.uk
    
    raw.c has a refcounting bug (patch attached).
    
    As for the theory...  If you have a pathname - use filp_open() or
    open_bdev_excl() and be done with that.  bdget() et.al.  are OK only if you
    really have nothing better than device number and that's a situation that
    should be avoided unless you really have no choice.
    
    Said that, we have the following primitives:
    
    * lookup_bdev(): takes a pathname, returns a reference to block_device.
    
    * bdget(): takes a number, returns a reference to block_device.
    
    * blkdev_get(): takes a reference to block_device and opens it.  If open
      fails - drops the reference to block_device passed to it.
    
    * blkdev_put(): takes a reference to block_device and closes it.  The
      reference is dropped.
    
    * bdput(): drops a reference to block_device.
    
    Note that behaviour of blkdev_get() and blkdev_put() is such that it makes
    for minimal cleanup code.
    
    bd_claim()/bd_release() is the exclusion mechanism - that's what mount,
    swapon, open with O_EXCL, etc.  are using to avoid stepping on each others
    toes.  bd_claim() claims bdev for given owner; if it's already owned and
    not by the same owner you'll get -EBUSY.  bd_release() reverts the effect
    of bd_claim().  Note that if you claim the thing N times (with the same
    owner, obviously), you'll need N bd_release() before it stops being owned.
    
    raw.c grabbed a reference to bdev only after blkdev_get().  If blkdev_get()
    failed (e.g.  media being absent), you've got an unbalanced bdput().

commit 5524f26f3c6f3ce54dd76bb8651fec4544199ae7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:07:25 2004 -0800

    [PATCH] cramfs: use pagecache better
    
    From: viro@parcelfarce.linux.theplanet.co.uk
    
    	Patch switches cramfs_read() to direct use of pagecache and
    eliminates all messing with buffer_heads.  Fixes the interaction with
    ramdisk (there set_blocksize() simply killed the ramdisk contents) and
    gets code less brittle overall.

commit 8fbd544cbca5c62947daa5b270a4d083b9c93289
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:07:17 2004 -0800

    [PATCH] bdev: add I_BDEV()
    
    From: viro@parcelfarce.linux.theplanet.co.uk <viro@parcelfarce.linux.theplanet.co.uk>
    
    For bdevfs inodes (ones created along with struct block_device by
    fs/block_dev.c) we have inode->i_bdev equal to &BDEV_I(inode)->bdev (i.e.
    it's at the constant offset from inode).  New helper added for such inodes
    (I_BDEV(inode)).  A bunch of places (mostly in block_dev.c) switched to use
    of that helper.  A bunch of places that used
    
    	file->f_dentry->d_inode->i_bdev->bd_inode
    
    switched to
    
    	file->f_mapping->host
    
    - those expressions are equal whenever the former is valid.

commit 980f718652f064f33a139a2b69d15df510d53e4a
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:07:08 2004 -0800

    [PATCH] bdev: generic_write_checks() cleanup
    
    From: viro@parcelfarce.linux.theplanet.co.uk <viro@parcelfarce.linux.theplanet.co.uk>
    
    generic_write_checks() had lost the first argument (inode) - it can be
    calculated from the second one (file).

commit 893544c46baafea72eba4d19744d9b5e137ec425
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:06:59 2004 -0800

    [PATCH] bdev: bd_acquire() cleanup
    
    From: viro@parcelfarce.linux.theplanet.co.uk <viro@parcelfarce.linux.theplanet.co.uk>
    
    bd_acquire() made static, switched to returning the block_device it had
    found.  Callers updated.

commit 7ca0643e528a8d817c7a5a254d8e022f613b1cc7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:06:51 2004 -0800

    [PATCH] bdev: generic_osync_inode() conversion
    
    From: viro@parcelfarce.linux.theplanet.co.uk <viro@parcelfarce.linux.theplanet.co.uk>
    
    generic_osync_inode() got an extra argument - mapping and doesn't calculate
    inode->i_mapping anymore.  Callers updated and switched to use of
    ->f_mapping.

commit df6a148fac03627157260808cbdcfc8f7d40b4c2
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:06:44 2004 -0800

    [PATCH] bdev: move i_mapping -> f_mapping conversions
    
    From: viro@parcelfarce.linux.theplanet.co.uk <viro@parcelfarce.linux.theplanet.co.uk>
    
    More uses of ->i_mapping switched to uses of ->f_mapping - stuff that was not
    caught by the earlier f_mapping conversion.

commit 54df76626b6936f5c2d05b4da420e19c032a84ec
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:06:35 2004 -0800

    [PATCH] bdev: use correct mapping's i_sem
    
    From: viro@parcelfarce.linux.theplanet.co.uk <viro@parcelfarce.linux.theplanet.co.uk>
    
    In a bunch of places we used file->f_dentry->d_inode->i_sem to protect
    fdatasync et.al.  Replaced with corrent file->f_mapping->host->i_sem - the
    object we are protecting is address_space, so we want an exclusion that would
    work for redirected ->i_mapping.  For normal files (not coda, not bdev) it's
    all the same, of course - there we have
    
     	file->f_mapping->host == file->f_dentry->d_inode
    
    and change above is an equivalent transfromation.

commit 32d666784c4e73f5348398402976c045872058a3
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:06:27 2004 -0800

    [PATCH] bdev: switch to f_mapping
    
    From: viro@parcelfarce.linux.theplanet.co.uk <viro@parcelfarce.linux.theplanet.co.uk>
    
    A lot of places used to use ->f_dentry->d_inode->i_mapping all over the
    place.  Replaced with use of ->f_mapping.  For now - just the places where we
    literally could do search-and-replace.

commit dd503c67c0a6115af01fc0129dfcbe457b699384
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:06:16 2004 -0800

    [PATCH] bdev: add file.f_mapping
    
    From: viro@parcelfarce.linux.theplanet.co.uk <viro@parcelfarce.linux.theplanet.co.uk>
    
    New field of struct file - ->f_mapping.  We maintain the following:
    file->f_dentry->d_inode->i_mapping == file->f_mapping for all opened files.

commit 2b11e5180f112059e0ada3767eba89333b8d282f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:06:06 2004 -0800

    [PATCH] bdev: presto conversion
    
    From: viro@parcelfarce.linux.theplanet.co.uk <viro@parcelfarce.linux.theplanet.co.uk>
    
    presto_journal_close() switched to passing struct presto_file_data * instead
    of bogus struct file *.  The only field of struct file we used to look at was
    file->private_data and most of the callers allocated on-stack struct file,
    assigned file.private_data and passed the sucker to presto_journal_close().
    Idiocy removed.
    
    Looks like they started with case where the data they wanted all along was,
    indeed, in ->private_data of already available struct file, so they just
    passed pointer to struct file.  And when they found that they need to call it
    in other places where there was no such struct file, they'd done it the dumb
    way instead of fixing the prototype...

commit 621d5c9e1eec93027baf2d2b9b75cabc4ba229e8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:05:57 2004 -0800

    [PATCH] bdev: blkdev_put() cleanup
    
    From: viro@parcelfarce.linux.theplanet.co.uk <viro@parcelfarce.linux.theplanet.co.uk>
    
    Trivial cleanup in blkdev_put() - replace bdev->bd_inode->i_bdev with bdev.

commit a1864a759aed0fe75c9d117a3f6500c030f959ed
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:05:49 2004 -0800

    [PATCH] bdev: open() changes
    
    The first of a series which move us toward blockdev hotplug support.  After
    these we have achieved the following:
    
    a) For "normal" (not bdevfs) inodes of block devices we never look at
       ->i_mapping.
    
    b) For the same inodes we only look at ->i_bdev in bd_acquire() where it's
       used only as "here's what we'd found the last time" sort of cached value.
       If it's NULL, we just recalculate it.
    
    c) Lots of messy expressions had been trimmed down, while we are at it.
    
    (a) and (b) allow us to start doing proper block hotplug - we can destroy the
    association between inode and bdev at any time, unhash bdev in question and
    have new open() do everything from scratch, without waiting for old opened
    files to close.  The goal is to be able to say "revoke everything over that
    gendisk"/"revoke that partition" and have it do the right thing.
    
    
    This patch:
    
    Where the old code called (block device) ->open(inode, file), use
    ->open(inode->i_bdev->bd_inode, file).  Changes in drivers:
    
    * none to those that only used inode->i_bdev and inode->i_rdev in their
      ->open() (bdev->bd_inode->i_bdev == bdev, so we are OK)
    
    * floppy.c and floppy98.c used to call permission(inode, ...) in
      floppy_open().  Switched to permission(file->f_dentry->d_inode, ...)

commit 26dd5cfe5f2ea8d859da88df4d106aeaa192b970
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:05:40 2004 -0800

    [PATCH] loop: fix file refcount leak
    
    - Fix an error-path file refcount leak
    
    - Remove unnecessary get_file()/fput() pair.
    
    - Clean up error handling a little

commit 9644d0d98484be61fefb397ea59e8902046d98eb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:05:31 2004 -0800

    [PATCH] loop: fix hard sector size
    
    From: Ben Slusky <sluskyb@paranoiacs.org>
    
    We need to set the hardsect_size of the loop device to that of the real
    device.
    
    The loop device advertises a block size of 1024 even when configured over a
    cdrom.
    
    When burning a ext2 on a cd, and mounting it directly, I get:
    
    	blocksize=2048;
    
    when I losetup /dev/loop0 /dev/cdrom, and then try to mount, I get:
    
    blocksize=1024; and then misaligned transfer; this results in not being able
    to read the superblock.
    
    The loop device should be changed to export the same blocksize of the
    underlying device

commit 59d997a581a444cac2facfed0feea408de40efdc
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:05:23 2004 -0800

    [PATCH] radeonfb line length fix
    
    From: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    
    Fix the calculation of screenpitch and line lengths.

commit d2d4d371639107c0121f05b295aeb2988d641c43
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:05:15 2004 -0800

    [PATCH] kyrofb support
    
    From: Paul Mundt <lethal@linux-sh.org>
    
    This patch adds support for the Kyro graphics boards (STG4000/PowerVR
    3/etc= .) to 2.6.  This is a direct port and substantial cleanup / rewrite
    of the 2.4 driver that's available in the sh64 tree at linux-sh.bkbits.net.
    
    Some of the overlay code and the STG4000 bits are still a bit ugly, so be
    forewarned.

commit 434502754f2273c6664d318bd9ffac636a214611
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 18 18:05:04 2004 -0800

    [PATCH] SH Merge
    
    From: Paul Mundt <lethal@linux-sh.org>
    
    Here's a rather large update for SH (this is a bit large mainly since a
    number of things have piled up, and Linus didn't want any of this during
    feature freeze time). All of these changes are specific to the SH platform,
    and as such, shouldn't effect any other platforms.

commit 05c798786ca85ad79150166da6b4259f777ed15e
Author: Hideaki Yoshifuji <yoshfuji@linux-ipv6.org>
Date:   Sun Jan 18 17:43:47 2004 -0800

    [NET]: Include sysctl.h in neighbour.h regardless of config.

commit 9787509a6a7ddc41d040e6c78cee15321653d164
Author: Petri T. Koistinen <petri.koistinen@iki.fi>
Date:   Sun Jan 18 17:40:57 2004 -0800

    [NET]: Fix linux-on-laptops URL in net driver Kconfig.

commit b82e116c49f88283f8b1b720a8b0058ec6c08a00
Author: Eugene Teo <eugeneteo@eugeneteo.net>
Date:   Sun Jan 18 17:38:23 2004 -0800

    [SUNRPC]: Handle copy_*_user and put_user errors

commit de9fba07ff396e874d01bb8c02fdda810f507000
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Sun Jan 18 17:37:38 2004 -0800

    ia64: arch/ia64/Kconfig URL update: www.linux-on-laptops.com

commit 0ffec775e4eadbd6337692423896196f479f77dd
Author: Robert Olsson <robert.olsson@data.slu.se>
Date:   Sun Jan 18 17:30:45 2004 -0800

    [PKTGEN]: Fix divide by zero and get integer precision at very short time intervals.

commit d9fbd888c81353c499b736f4a75da73918a432cb
Merge: 2874b01... 53f5dc3...
Author: Vojtech Pavlik <vojtech@ucw.cz>
Date:   Sun Jan 18 23:29:03 2004 +0100

    Merge twilight:bk/input into ucw.cz:/home/vojtech/bk/input

commit 53f5dc3f44192a8655d716b48d7ef1bc0e459fa9
Author: Adam Kropelin <akropel1@rochester.rr.com>
Date:   Sun Jan 18 21:50:00 2004 +0100

    input: Always wait for hid request completion in hiddev before returning
           to the caller process.

commit f2f9960d51e607ce01c9a890ce82fe3e5ab6667b
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Jan 18 19:46:32 2004 +0000

    [PCMCIA] Remove unused variable warnings.
    
    Remove unused variable 'i' in fops methods.  Fix debug macros which
    were the sole consumers of this variable.

commit dd4de4102fce3eec9eed1e60c288e39f30f7a7ab
Author: Helge Deller <deller@gmx.de>
Date:   Sun Jan 18 20:37:38 2004 +0100

    input: Add support for HP PARISC keyboards to atkbd.c

commit 70144f785bea7791848ecdbdc473ea1e10dd4540
Author: Helge Deller <deller@gmx.de>
Date:   Sun Jan 18 20:27:53 2004 +0100

    input: Bugfixes in atkbd and psmouse-base probing. (use unsigned char param[]
           in atkbd_event, like everywhere else, use param[0] instead of *param
           at the same place, properly set serio->private to NULL if probe fails
           in both atkbd and psmouse, and fix preinitializing of the return buffer
           in *_command() funcitons.)

commit 393f4a7b7965d470b96319c26873f10462ac6c2f
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Jan 18 19:14:53 2004 +0000

    [PCMCIA] Remove write-only socket_dev
    
    No need for a local pointer for the struct device, especially when
    it is only ever written.  If necessary, the device can be accessed
    using s->parent->dev.dev

commit 64baa00b98666e0a395c2e6056d8d420eef9f985
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Jan 18 19:10:04 2004 +0000

    [PCMCIA] Get rid of racy interruptible_sleep_on()
    
    ds.c uses interruptible_sleep_on() without any protection.  Use
    wait_event_interruptible() instead.
    
    In addition, fix a bug where threads waiting for cardmgr events to
    complete were left waiting if cardmgr exited.

commit 3b32a7e75e9455283192df9a00a91ff6ff4055cb
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Jan 18 19:03:00 2004 +0000

    [PCMCIA] Add refcounting to struct pcmcia_bus_socket
    
    If you perform the following commands in order:
    
     # cardctl eject
     # rmmod yenta_socket
     # insmod drivers/pcmcia/yenta_socket.ko
     # killall cardmgr
    
    the rmmod ends up freeing the pcmcia_bus_socket while the wait
    queue is still active.  The killall cardmgr cases the the select()
    to complete, and users to be removed from the "queue" - which ends
    up writing to freed memory.
    
    The following patch adds refcounting to pcmcia_bus_socket so we
    won't free it until all users have gone.  We also add "SOCKET_DEAD"
    to mark the condition where the socket is no longer present in the
    system.
    
    Note that we don't wake up cardmgr when we remove sockets -
    unfortunately cardmgr doesn't like receiving errors from read().
    Really, cardmgr should treat EIO from read() as a fatal error
    for that socket, and stop listening for events from it.

commit f66f79efadcef9638034a4d7c74b020343cb0e1b
Merge: 1c2a00a... cdfac18...
Author: Ben Collins <bcollins@debian.org>
Date:   Sun Jan 18 10:51:58 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/ieee1394-2.6

commit a72b47b347a80fccb05c711bdcea5299c10b0006
Merge: 1c2a00a... 4472e85...
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Sun Jan 18 05:36:28 2004 -0800

    Merge nuts.ninka.net:/disk1/davem/BK/sparcwork-2.6
    into nuts.ninka.net:/disk1/davem/BK/sparc-2.6

commit 1c2a00adf2f9ba610137142a01561ae146c106a8
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sun Jan 18 01:28:22 2004 -0800

    [PATCH] remove IDE packet taskfile placeholders
    
    This dead code was introduced in kernel 2.4.19 and hasn't been updated
    since.

commit 9e74e3e17837c0f1820646ef1c41c9788e271880
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sun Jan 18 01:28:00 2004 -0800

    [PATCH] cleanup IDE multicount PIO write code
    
    Noticed by Christophe Saout <christophe@saout.de>.
    
    This code has been dead since kernel 2.4.2 and it is bogus too.

commit 39954714d2be10e8de3fc235443086d2a9180008
Merge: 4bf5439... aa66974...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Sun Jan 18 01:26:43 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-serial
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 4bf5439758bd36617861a745b832488fbf5b840c
Merge: 9dbfb13... 55b5b96...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Sun Jan 18 01:25:08 2004 -0800

    Merge http://jfs.bkbits.net/linux-2.5
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 55b5b9683a59a854ab2b71632c19283a24cf5668
Merge: 755fa12... d9189b2...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Sun Jan 18 01:22:30 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 28abb66fba603036a9e2d452f6ffd1e75805d6c5
Author: Len Brown <len.brown@intel.com>
Date:   Sat Jan 17 13:13:46 2004 -0500

    [ACPI] ACPICA 20040116 from Bob Moore
    
    The purpose of this release is primarily to update the copyright years
    in each module, thus causing a huge number of diffs.  There are a few
    small functional changes, however.
    
    Improved error messages when there is a problem finding one or more of
    the required base ACPI tables
    
    Reintroduced the definition of APIC_HEADER in actbl.h
    
    Changed definition of MADT_ADDRESS_OVERRIDE to 64 bits (actbl.h)
    
    Removed extraneous reference to NewObj in dsmthdat.c

commit 9fdb2533db1c58a1fa42dc08fb6e4489019d1448
Merge: 573d207... 755fa12...
Author: Len Brown <len.brown@intel.com>
Date:   Sat Jan 17 11:36:11 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.2
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.2

commit cdfac1862007f0b6d562523d967a55eb1f09efce
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Jan 17 10:19:22 2004 -0500

    [IEEE1394]: Re-add init_hpsb_highlevel() call to highlevel_add_host.

commit d18c41fa5a75905256f041cd9ba4b051bb8031dd
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Sat Jan 17 12:05:39 2004 +0100

    input: Key 89 is RO, not ROMAJI.

commit f8c493c52e90f26a155e70d849108694de6e14e2
Author: Mike Anderson <andmike@us.ibm.com>
Date:   Sat Jan 17 02:07:22 2004 -0500

    [PATCH] scsi_eh_flush_done_q return status
    
    This patch fixes a bug in scsi_eh_flush_done_q when the allowed count has
    been exceeded and the command errored for a timeout. The bug is that the
    result will be left at zero and the command finished.
    
     patched-scsi-misc-2.7-andmike/drivers/scsi/scsi_error.c |   28 +++++++---------
     1 files changed, 13 insertions(+), 15 deletions(-)

commit 5f85fc987ea4708f815ad071e76fc75aac63ac4b
Author: Martin Hicks <mort@bork.org>
Date:   Sat Jan 17 02:01:29 2004 -0500

    [PATCH] Fix error path when adding sysfs attributes
    
    Stop adding sysfs attributes after we call scsi_remove_device()
    when we encounter an error.  Also a small whitespace cleanup
    and removing a useless "return".

commit f97af0641f5687cae4cc5b9430287bec32d831df
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Jan 17 01:58:06 2004 -0500

    [IEEE1394]: Fix highlevel reset, which was using the wrong list to iterate.

commit a6206b72ef154e94a7163d10bff77352d889d6ec
Author: Eric Dean Moore <emoore@lsil.com>
Date:   Sat Jan 17 01:46:49 2004 -0500

    [PATCH] MPT Fusion x86-64 boot fix

commit cfa9494ec164f4b9ac79aff82917e600dfd81db1
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 17 01:45:45 2004 -0500

    aha152x PCMCIA fix
    
    From: Thomas Schlichter <thomas.schlichter@web.de>
    
    the attached patch fixes a link error of the kernel module 'drivers/scsi/
    pcmcia/aha152x_cs.ko' because of two module_init() and two module_exit()
    functions. Now the module links but I did not test it further...

commit 48acea24673dd3e7bdc557611fe9ea84e0b98487
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Jan 17 01:40:55 2004 -0500

    [PATCH] fix qla2xxx build for older gcc's
    
    drivers/scsi/qla2xxx/qla_def.h:1139: warning: unnamed struct/union that defines no instances
    drivers/scsi/qla2xxx/qla_iocb.c:440: union has no member named `standard'
    
    Older gcc's don't understand anonymous unions.

commit 798d3f7359ffe591363602961704dafd67d46f01
Merge: 755fa12... 1ee983b...
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 17 15:39:03 2004 +1100

    Merge nathans@xfs.org:/export/hose/bkroot/xfs-linux-2.6
    into sgi.com:/source2/xfs-linux-2.6

commit 7b7e8b7630ded8dae3bb25198a3361bfa2da6ded
Merge: 755fa12... dc3c0c8...
Author: Ben Collins <bcollins@debian.org>
Date:   Fri Jan 16 22:43:41 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/sparc-2.6

commit aa66974b8d72320a9a7c854317803384d0570ec7
Author: Bjorn Helgaas <bjorn.helgaas@com.rmk.(none)>
Date:   Fri Jan 16 22:03:20 2004 +0000

    [SERIAL] make ACPI serial module unload work
    
    Patch from Bjorn Helgaas
    
    This patch makes ACPI serial ports work right when the serial driver
    is built as a module.  Previously, loading worked fine, but we
    didn't clean up on module removal.

commit b6bb73e15e13169f34c789af7193c05f6d0f6457
Author: Bjorn Helgaas <bjorn.helgaas@com.rmk.(none)>
Date:   Fri Jan 16 21:56:06 2004 +0000

    [SERIAL] make HCDP dependent on serial console
    
    Patch from Bjorn Helgaas
    
    I propose the following HCDP Kconfig patch.  It makes HCDP
    selectable only when serial console has been selected.  One
    desirable side effect is that both are then available only
    when statically compiled in (i.e., not built as a module).
    
    The HCDP support doesn't actually depend on IA64, but I left
    that in for now because nobody else implements support for it
    and I don't want people confused by a selectable option that
    doesn't do anything.  Maybe a "depends on EFI" or something
    will be useful eventually.

commit 395d5e878ae922de1af35c7c59a04544dc26f837
Merge: 755fa12... 2e7f252...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Fri Jan 16 22:47:39 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit 2874b013b736984704c5925773fa61bda79c26a4
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Fri Jan 16 14:13:42 2004 +0100

    input: Added BUS_BLUETOOTH definition for BlueTooth HID devices.

commit 4d429dce55b17c1b56a09051e8632d115c302e7d
Merge: 755fa12... 2e7f252...
Author: Vojtech Pavlik <vojtech@ucw.cz>
Date:   Fri Jan 16 10:28:46 2004 +0100

    Merge ucw.cz:/home/vojtech/bk/linus into ucw.cz:/home/vojtech/bk/input

commit 0e8f510da163c789ad758381d8bde388fc1c9a2f
Author: Luca Risolia <luca.risolia@studio.unibo.it>
Date:   Fri Jan 16 01:22:24 2004 -0800

    [PATCH] USB: W996[87]CF driver update
    
    This patch contains updates and one bug fix.

commit 8d4f1c82b9b563b39e16fff444148c1469d77440
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Fri Jan 16 01:18:20 2004 -0800

    [PATCH] USB Storage: add sysfs info attribute
    
    This patch adds a sysfs attribute to the usb-storage SCSI devices.  This
    attribute (read-only) is basically a clone of the information available in
    /proc/scsi/scsi -- since that interface is going away, adding a new sysfs
    attribute seemed like a good idea.

commit b8f1529e0895176917d93b86924754ac5b733a03
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Fri Jan 16 01:18:02 2004 -0800

    [PATCH] USB Storage: fix mode-sense handling for 10-byte commands
    
    This patch fixes sddr09 and sddr55 to suppor the MODE_SENSE_10 commands,
    which are the only variants used by sd.c

commit bedbdeffe75681ea119fe62654a12b151d75454d
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Fri Jan 16 01:15:09 2004 -0800

    [PATCH] USB Storage: Fix scatter-gather for non READ/WRITE in sddr55
    
    These patch fixes the scatter-gather usage in the sddr55 driver for
    commands other than READ or WRITE.  It also tidies up a few other
    commands.

commit c751e4144c01fe318335f7b88fb2344c44fbe88c
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Fri Jan 16 01:14:52 2004 -0800

    [PATCH] USB Storage: Fix scatter-gather for non READ/WRITE in sddr09
    
    This patch (from Alan Stern as157) fixes the non-READ/WRITE paths of the
    sddr09.c driver to be compliant to the requirements of scatter-gather.  It
    also cleans up MODE_SENSE processing and reports errors a little better.
    
    This patch also makes MODE_SENSE_10 commands report an error.  The old code
    claimed to support both 6- and 10-byte versions, but really only supported
    6-byte.   Bad data was returned for the 10-byte case, so it was removed.  A
    patch to follow in a few minutes fixes this.

commit d3f45439045f949fc6b74496b7c4cab9b239b83a
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Fri Jan 16 01:11:49 2004 -0800

    [PATCH] USB Storage: Fix scatter-gather for non READ/WRITE in jumpshot
    
    These patch fixes the scatter-gather usage in the jumpshot driver for
    commands other than READ or WRITE.  It also tidies up the MODE-SENSE
    handler considerably and reports more command failures correctly.

commit ee64567e1311fbdd90de5113063d9e85e79bc405
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Fri Jan 16 01:11:35 2004 -0800

    [PATCH] USB Storage: Scatter-gather fixes for non READ/WRITE in datafab
    
    These patch fixes the scatter-gather usage in the datafab driver for
    commands other than READ or WRITE.  It also tidies up the MODE-SENSE
    handler considerably and reports more command failures correctly.

commit 760c3b3a1774be4899d1e315f68e3ce93c31dceb
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Fri Jan 16 01:11:16 2004 -0800

    [PATCH] USB Storage: Remove non s-g pathway from subdriver READ/WRITE
    
    This patch does what you suggested.  The read/write routines from the
    updated subdrivers are changed so they don't bother to differentiate
    between transfers that do or do not use scatter-gather.  The low-level
    usb_stor_access_xfer_buf routine will Do The Right Thing regardless, and
    there probably won't ever be more than a few non s-g calls.  (What about
    filesystem I/O requests to access metadata?)
    
    It turns out that in addition to removing some comments and a few tests,
    this change allowed me to remove the buffer and use_sg arguments passed to
    the read/write routines as well.  So the simplification ended up being a
    bit bigger than I expected.
    
    While writing this patch, I noticed spots in several drivers that still
    need to be changed -- they slipped past me before.  These drivers handle
    things like READ-CAPACITY or REQUEST-SENSE by copying the data directly to
    srb->request_buffer, which is obviously wrong if s-g is being used.  I'll
    send in changes next week that convert them to use the
    usb_stor_set_xfer_buf function.  Like you said, it's going to be handy in
    more places than originally intended!

commit a9b6e3571522c961e094e85b1dc568d09de712e8
Author: Thomas Stewart <thomas@stewarts.org.uk>
Date:   Fri Jan 16 01:03:58 2004 -0800

    [PATCH] USB: powermate-payload-size-fix.patch
    
    Thomas has a newer variant of this device, which sends more data.

commit ef6b3f4fe1304e114b53af54bf5c798aa5f86a9d
Author: Marcel Sebek <sebek64@post.cz>
Date:   Fri Jan 16 00:58:03 2004 -0800

    [PATCH] USB: fix whiteheat problems
    
    >   CC [M]  drivers/usb/serial/whiteheat.o
    > drivers/usb/serial/whiteheat.c: In function `firm_setup_port':
    > drivers/usb/serial/whiteheat.c:1209: `CMSPAR' undeclared (first use in this function)
    > drivers/usb/serial/whiteheat.c:1209: (Each undeclared identifier is reported only once
    > drivers/usb/serial/whiteheat.c:1209: for each function it appears in.)

commit adffcfda33dc6966ea73d9600b21087caa657363
Author: David Brownell <david-b@pacbell.net>
Date:   Fri Jan 16 00:43:13 2004 -0800

    [PATCH] USB: ehci update:  3/3, highspeed iso rewrite
    
    This is an updated version of a patch submitted to me from
    Michal Sojka <sojkam1@fel.cvut.cz>, basically providing a
    much-needed rewrite of the highspeed ISO support.  I updated
    the scheduling and made it a closer match to how OHCI works;
    and also tested it a bunch.
    
    So far it seems most of the requests for highspeed ISO support
    have been for realtime data collection -- custom apps, nothing
    a mainstream kernel would ship with.   The USB Video class is
    now defined; highspeed video will also need these updates.
    
    Key changes:
    
       - Define an "iso_stream" head for iso endpoints.  This acts
         enough like a QH that endpoint_disable() works.  It holds the
         queue of ITDs, and the endpoint's current schedule state.
         And it's easy to find (spinlocked array access), no search.
    
       - Uses a temporary "itd_sched" while submitting each URB, with
         not-yet-linked ITDs and request-specific metadata.  There's
         a per-stream cache of ITDs, so resubmitting ISO urbs (to
         achieve a "ring" of transfers) is typically cheap.
    
       - Scheduling for most URBs is almost a NOP:  just a sanity
         check to make sure there's no need to reschedule, and then
         just link into the schedule at the current schedule slot.
         (The previous code was a gross hack that didn't even work
         reasonably with more than two URBs queued.)
    
       - Is a reasonable model to use with full speed ISO transfers.
         (They need additional TT scheduling hooks, most of which
         are already written but not merged.)
    
       - Handles several cases the previous code didn't, including
         high bandwidth transfers (loads up to 24 MByte/sec)
    
       - Has had more testing than the old code, including 20+ hour
         successful IN+OUT runs, more varied transfer intervals and
         maxpacket sizes.  (Using net2280 and a gadgetfs driver.)
    
    So it's worth replacing the existing code with this; there
    aren't too many rough edges, and it's much more fixable than
    the previous version.
    
    
    p.s. Many thanks, Michal!

commit 49597169748f38c5ec9fbc6d11953b2760a23ed5
Author: David Brownell <david-b@pacbell.net>
Date:   Fri Jan 16 00:42:59 2004 -0800

    [PATCH] USB: ehci update:  2/3, microframe scanning
    
    This patch is needed to make high bandwidth ISO streams behave,
    but could resolve some other scanning glitches.  Current users
    of periodic transfers (interrupt transfer modes for hubs, mice,
    and keyboards) shouldn't even notice this change.
    
    It makes the periodic schedule scan handle cases where a given
    frame's schedule slot reports completions in several different
    microframes.  So far that's been uncommon, but it's typical
    for high bandwidth iso (or even with busier interrupt trees than
    this driver has supported yet).
    
    It also starts to remove the assumption that each ITD only uses
    one microframe; but most of those changes are in the next patch.
    And it fixes a bug where some status bits were mis-interpreted as
    significant bits in the ITD transfer length.

commit cf270dfeee9ecd150ab11036900fc27266cc4780
Author: David Brownell <david-b@pacbell.net>
Date:   Fri Jan 16 00:42:42 2004 -0800

    [PATCH] USB: ehci update:  1/3, misc
    
    This is minor "obvious" fixes plus two tweaks to help later
    patches:
    
        - Interrupt QH has a link to the device, needed to implement
          schedule trees (like OHCI does today) that are TT-aware
          (essential for most keyboards and mice).
    
        - Export the macros that do high bandwidth packetsize stuff.
          They're also needed for high bandwidth ISO transfers.
    
    It also morphs some existing "too much debug info" urb tracing
    so it's kicked in by a manual #define EHCI_URB_TRACE.  If some
    generic version of that gets added to usbcore, this sort
    of debug code can vanish (from all hcds).

commit a6a8604462cdb0a8cb03432773b3082ef766e6dc
Author: Jesse Barnes <jbarnes@sgi.com>
Date:   Fri Jan 16 00:42:27 2004 -0800

    [PATCH] ia64: kill some more warnings
    
    Kills a warning and a false sense of safety by removing the volatile
    qualifier on cpu_to_node_map[] and node_to_cpu_mask[].  Also fix the
    printk for total processors since num_online_cpus() can return an int or
    a long depending on the value of NR_CPUS.

commit db503238cb83722ee106739ce7c33326720a5226
Author: Jesse Barnes <jbarnes@sgi.com>
Date:   Fri Jan 16 00:38:24 2004 -0800

    [PATCH] ia64: fix cast in irq_lsapic.c
    
    This patch just updates the cast in irq_lsapic.c to use the cpumask_t
    type for the noop cast assignment to smp_affinity.

commit 96acbb856bd79396934e7a1d3410d53650443553
Author: David Brownell <david-b@pacbell.net>
Date:   Fri Jan 16 00:29:03 2004 -0800

    [PATCH] USB: high speed iso maxpacket is 1024 not 1023
    
    Someone sent this around mixed with an EHCI patch which should not
    be applied (there's a different patch on the way).  I lost their
    name, sorry.  It lets 1024 byte ISO packets be used.

commit 12c2b72be23f90f0eb0a0e03d8dd52452be61a2c
Author: David Brownell <david-b@pacbell.net>
Date:   Fri Jan 16 00:27:36 2004 -0800

    [PATCH] USB:  EHCI support on MIPS
    
     From Darwin Rambo, <drambo@broadcom.com>
    
       These get rid of 8 and 16 byte PCI access, which don't work
       on some MIPS platforms.

commit b5aeadab53c1249d400a8f86bf14472b0f96ba45
Author: David T. Hollis <dhollis@davehollis.com>
Date:   Fri Jan 16 00:24:11 2004 -0800

    [PATCH] USB: usbnet on 2.6.0 -- needs ax8817x_ethtool_ops
    
    On Tue, 2003-12-23 at 22:49, David Brownell wrote:
    > > This patch should take care of it.  Additionally, I had to fold one of
    > > my patches that's in the queue for 2.6.1 (ethtool link check fix) into
    > > this as the other would not apply due to changes.
    >
    > It looks fine, though it didn't apply against Greg's usb-devel-2.6
    > tree ... which has a few more methods added.
    >
    > I guess I'll just add this one to my tree, and let you merge this
    > with those additional ax8817x changes.
    >
    > - Dave
    >
    
    Re-diffed against the usb-2.6-devel tree.

commit c520cb25eabee83745707202537980f88b54d9dd
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Fri Jan 16 00:20:49 2004 -0800

    [PATCH] USB Storage: Old patches (as129 and as141)
    
    There's a couple of old patches floating around still that you might want
    to apply.  I have reproduced them below.
    
    as129 handles the situation where a command error causes us to do a device
    reset, but the SCSI layer times out and aborts the command during the
    reset delay.  It clears a flag that otherwise will prevent us from sending
    the clear-halt messages following the reset.
    
    as141 is the DMA buffer alignment patch.  You asked me to remind you about
    it eventually.  There shouldn't be any harm at all in applying it without
    waiting for the corresponding SCSI part of the patch to be applied.
    Without that other part, this will essentially do nothing.
    
    Alan Stern

commit 12477ec14dc6b453b11dfe6ba468a700c99b90f1
Author: Matthias Bruestle <m@mbsks.franken.de>
Date:   Fri Jan 16 00:16:07 2004 -0800

    [PATCH] USB: update the cyberjack driver

commit 2e4bd50f6cff67506ad8523f4e4c365adc74d5d4
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Fri Jan 16 00:15:46 2004 -0800

    [PATCH] USB: fix up compiler warnings and other stuff in the emi62 driver.

commit 6ef4be17ae000c327e66708b6ee5bcca7846d2c3
Author: Adrian Knoth <adi@drcomp.erfurt.thur.de>
Date:   Fri Jan 16 00:08:49 2004 -0800

    [PATCH] USB: add Driver for Emagic A6-2 (formerly known as EMI 6|2m)
    
    this patch which applies against Linux-2.6.0 (and also 2.6.1)
    adds support for the Emagic A6-2 USB-Audio-Interface.
    
    Note that the selection of either MIDI or SPDIF is actually done
    by ifdefs in the driver, this behaviour should clearly be changed
    to MODULE_PARAM in the future.
    
    See <http://adi.thur.de/?show=emi62> for details.

commit 2e7f25256de20cc624feb87e06e423b108188854
Author: Pavel Machek <pavel@suse.cz>
Date:   Fri Jan 16 08:57:55 2004 +0100

    input: Alt-arrow console switch is routinely dropped under high load. This
    patch fixes it: alt-arrow has to start from console _we want to switch
    to_, if switch is already pending.

commit c7e71db80203523b9eba469552281583788283d5
Author: Rasmus Rohde <rohde@duff.dk>
Date:   Thu Jan 15 23:39:38 2004 -0800

    [PATCH] USB: Missing patch for ftdi_sio.c
    
    On Sat, 2004-01-10 at 05:07, Greg KH wrote:
    > On Thu, Dec 18, 2003 at 10:28:24PM +0100, Rasmus Rohde wrote:
    > > I wrote to you earlier about a missing patch to ftdi_sio.c that appeared
    > > in
    > >
    > > http://www.kernel.org/pub/linux/kernel/people/gregkh/usb/2.5/usb-ftdi_sio-2.5.68.patch
    > >
    > > It has to do with the introduction tiocmset and tiocmget.
    > > This patch was dropped in
    > >
    > > http://www.kernel.org/pub/linux/kernel/people/gregkh/usb/2.5/usb-ftdi_sio-2.5.75.patch
    > >
    > > which unfortunately breaks the driver.
    >
    > Hm, sorry about that.  Care to send me a patch to fix it up?

commit 569fe2dba13ee771fbb461e5506aff5d8b986d19
Author: Paulo Marques <pmarques@grupopie.com>
Date:   Thu Jan 15 23:38:37 2004 -0800

    [PATCH] USB: add another PID to ftdi_sio
    
    This patch adds a new product ID to the list of devices using the FTDI232BM
    chip. It applies cleanly against vanilla 2.6.0.

commit c01c1958b3bc0669eeafb93ba58a3915232247c5
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Thu Jan 15 23:28:56 2004 -0800

    [PATCH] USB Storage: unusual_devs.h update
    
    On Wed, 14 Jan 2004, Marcin Juszkiewicz wrote:
    
    > After running "MS Import" on my Sony Clie SJ30 palmtop I got:
    >
    > hub 3-0:1.0: new USB device on port 2, assigned address 6
    > usb-storage: This device (054c,006d,0100 S 05 P 00) has unneeded SubClass and Protocol entries in unusual_devs.h
    >    Please send a copy of this message to <linux-usb-devel@lists.sourceforge.net>
    
    Thanks for sending this.  The updated information will appear in an
    upcoming kernel.

commit 298e83bb7039c99dae8101da272c83cfe0467234
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Thu Jan 15 23:28:05 2004 -0800

    [PATCH] USB Storage: another unusual_devs entry
    
    On Fri, 2 Jan 2004, Eric Lussard wrote:
    
    > <5>usb-storage: This device (05e3,0701,0002 S 02 P 50) has an unneeded
    > Protocol entry
    > in unusual_devs.h
    > <4>   Please send a copy of this message to
    > <linux-usb-devel@lists.sourceforge.net>
    
    Yet another unusual_devs change!  I really should stick to a policy of
    reading through all the new email before sending any replies...

commit a3a451f84d0be233c61af7e20cd38d9ba57fdd18
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Thu Jan 15 23:27:26 2004 -0800

    [PATCH] USB Storage: another unneeded unusual_devs entry
    
    On Fri, 2 Jan 2004, Oliver Neukum wrote:
    
    > Hi Alan,
    >
    > you seem to like them. Here it is:
    >
    > usb-storage 3-1:1.0: usb_probe_interface
    > usb-storage 3-1:1.0: usb_probe_interface - got id
    > usb-storage: This device (0686,4014,0001 S 06 P 50) has unneeded SubClass and Protocol entries in unusual_devs.h
    >    Please send a copy of this message to <linux-usb-devel@lists.sourceforge.net>
    > scsi1 : SCSI emulation for USB Mass Storage devices
    >   Vendor: MINOLTA   Model: DIMAGE  CAMERA    Rev: 1.00
    >   Type:   Direct-Access                      ANSI SCSI revision: 02
    
    Thanks Oliver.  Interestingly, it looks as though the unneeded SubClass
    and Protocol values were the only reason for keeping this entry, so now it
    can be deleted in both 2.4 and 2.6.

commit 6de5b377a2c70980561f49140c627512757d5f79
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Thu Jan 15 23:26:54 2004 -0800

    [PATCH] USB storage: unusual_devs.h change
    
    On Tue, 23 Dec 2003, sledgedog wrote:
    
    > USB Mass Storage support registered.
    > hub 3-0:1.0: new USB device on port 2, assigned address 2
    > usb-storage: This device (090c,1132,0100 S 06 P 50) has unneeded SubClass and Protocol entries in unusual_devs.h
    >    Please send a copy of this message to <linux-usb-devel@lists.sourceforge.net>
    
    Thank you for sending this in.
    
    Greg, here is the patch for unusual_devs.h, both 2.4 and 2.6.

commit 7cc5255e47db0f99bbd4ed7e4260c9c219b4cefa
Author: Ross Boswell <drb@med.co.nz>
Date:   Thu Jan 15 23:24:13 2004 -0800

    [PATCH] USB Storage: patch to unusual_devs.h for Pentax Optio 330GS camera
    
    I was unable to get my Pentax Optio 330GSrecognised
    by the 2.6.0 kernel until I applied the patch below that I found
    posted some months ago on the German Debian mailing list.
    
    I have attributred it to the original poster.

commit 10ffbb049c343d541a7beb41766eb622e6ccce16
Author: Jean Delvare <khali@linux-fr.org>
Date:   Thu Jan 15 22:13:08 2004 -0800

    [PATCH] I2C: speed up eeprom driver by a factor of 4
    
    Basically, I divide the eeprom in 8 32-byte slices. Each of it has a
    "valid" boolean (combined together into a bitfield) and a jiffies
    counter. Eeprom_update_client() is added a new parameter to specify
    which slice to update. Code updated accordingly. Finally, the read
    function updates only slices that need to be. The code is heavily
    inspired from what was done in the CVS driver, of course.
    
    Three additional notes:
    
    1* This fixes a bug in eeprom_update_client()'s refresh condition. We
    used to check jiffies before valid, although jiffies are not defined if
    valid isn't true. That was already fixed in our CVS driver but for some
    reason the fix did not go into 2.6 yet.
    
    2* This also skips the update if the read if out of bounds. I think this
    is the thing to do.
    
    3* It can be discussed wether eeprom_update_client() should take two
    slice parameters instead of one (start slice, end slice). This would
    make things slightly faster when consecutive slices are requested. Maybe
    the code would even be clearer. It wasn't done so far because the CVS
    driver wouldn't benefit from it (because the EEPROM's contents are split
    over several "output" files in that version of the driver) but I'll
    probably give it a try in 2.6.

commit 8956da2fede3f9d0ecd7ce4c6a7bdbd5c0b513b5
Author: Jean Delvare <khali@linux-fr.org>
Date:   Thu Jan 15 22:12:54 2004 -0800

    [PATCH] I2C: i2c-i801 help

commit 7665dd9114b1fb055a90d28de231ea335ef75933
Author: Jean Delvare <khali@linux-fr.org>
Date:   Thu Jan 15 22:12:27 2004 -0800

    [PATCH] I2C: clean up ISA dependancies
    
    Quoting myself:
    
    > 1* Elektor depends on ISA.
    > 2* ELV and Velleman do not depend on ISA.
    > 3* i2c-isa is M by default, and has an additional help text
    > 4* via686a autoselects i2c-isa
    > 5* i2c-isa doesn't depend on ISA
    
    Here's the patch:

commit 4472e85a25937eed068cfe66a4347d10c5a67691
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Thu Jan 15 19:39:58 2004 -0800

    [QLOGICPTI]: Fix SMP locking, tested by Chris Ricker.

commit 248624d9e433835842223b3dd0495846bcd20e58
Merge: 755fa12... e96fc63...
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Jan 15 22:14:45 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/linux-2.6

commit 3ac3019bbcb2ee28490be1513e7db100199edc6e
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Thu Jan 15 18:58:25 2004 -0800

    [SCTP] Fix bugs in byte order conversion while processing address
    related SCTP socket options.

commit 6dcd38ff3d7397141bc0ce55cb6ee68967dde55d
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Thu Jan 15 16:42:55 2004 -0800

    [SCTP] ADDIP: Handle T4 RTO timer expiry.

commit 1907957982daa75b593fd6b56f44f1855f7cf6ca
Author: Johann Deneux <johann.deneux@it.uu.se>
Date:   Fri Jan 16 00:09:09 2004 +0100

    input: Fixes and updates of the USB ForceFeedback drivers.
           Added Logitech MOMO FF steering wheel ID.

commit 5ca3f1f9b554cb12b481df0c39b7039587351588
Author: Andrey Borzenkov <arvidjaar@mail.ru>
Date:   Thu Jan 15 23:51:52 2004 +0100

    input: Move devfs entries for joystick into /dev/input

commit 6cd3bc94c880e4b63a0cf4df0d6be4413b0482bc
Author: Peter Berg Larsen <pebl@math.ku.dk>
Date:   Thu Jan 15 22:34:16 2004 +0100

    input: i8042.c: Add exists=0 into an error path, change the mux/aux
           init order to make some of the probing code (second irq probe)
           unnecessary.

commit 2297341140c10936348c476b85d8f72fc36a86f5
Author: Dirk Jagdmann <doj@cubic.org>
Date:   Thu Jan 15 22:14:40 2004 +0100

    input: Add backslash and 102nd key to amikbd.c list of scancodes.

commit 57c247b4b389b089558eddd8ec3b28415c9111a6
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Thu Jan 15 22:01:43 2004 +0100

    input: Add IBM GamePad to the BADPAD list.

commit 0d3808783eb5d3f0588ae173f8ee9a52ac35ab1c
Author: Vojtech Pavlik <vojtech@ucw.cz>
Date:   Thu Jan 15 20:39:27 2004 +0100

    input: Add informational printk()s to atkbd.c

commit 3a892a6410f8c80f7d47847153787543197fb502
Author: Richard Henderson <rth@kanga.twiddle.home>
Date:   Thu Jan 15 11:19:05 2004 -0800

    [ALPHA] Tidy buglets in sigreturn paths:
        Don't pretend support for _NSIG_WORDS > 1.
        Don't verify_area on more memory than we actually care about.
        Don't fiddle stack_t in do_rt_sigreturn.

commit 7883a18c2cdf6b3e3559089ae68605cfcbedb09d
Author: Richard Henderson <rth@kanga.twiddle.home>
Date:   Thu Jan 15 11:15:23 2004 -0800

    [ALPHA] Tidy ELF_HWCAP and ELF_PLATFORM.
    Provide all relevant platform identifiers up to ev67.

commit d9189b24bd2bbb9237589ef530f34c96913b985d
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Thu Jan 15 10:10:09 2004 -0800

    Cset exclude: mashirle@us.ibm.com|ChangeSet|20040115231022|51079

commit 755fa12bb5387c7866f641504424d146c9b62f58
Merge: 3177b56... 0369ebe...
Author: Linus Torvalds <torvalds@evo.osdl.org>
Date:   Thu Jan 15 04:57:30 2004 -0800

    Merge http://lia64.bkbits.net/to-linus-2.5
    into evo.osdl.org:/home/torvalds/v2.5/linux

commit 0369ebec5d144d3e1a932397af591d1a87c96098
Merge: bc8acd5... 3f2a0d1...
Author: Linus Torvalds <torvalds@evo.osdl.org>
Date:   Thu Jan 15 04:49:38 2004 -0800

    Merge bk://gkernel.bkbits.net/net-drivers-2.5
    into evo.osdl.org:/home/torvalds/v2.5/linux

commit bc8acd56236051e67d0db34183e3635742c554f3
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Jan 15 09:49:07 2004 -0500

    [netdrvr forcedeth] linux/interrupt wasn't enough :) include asm/irq.h too
    
    Thanks to DaveM.

commit 1d0ccd51fe18d9299a1d87e1e5b07bfee33242a9
Merge: 8e35afa... 1c03a47...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Jan 15 09:45:28 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/sk98lin
    into redhat.com:/spare/repo/net-drivers-2.5

commit 8e35afa24586d5710da24fcd4944dc369e84da08
Merge: 477552e... 9107dd1...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Jan 15 09:40:34 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/misc
    into redhat.com:/spare/repo/net-drivers-2.5

commit 3f2a0d1df938bd3507a665dedbf5a9b1701124eb
Author: Roland McGrath <roland@redhat.com>
Date:   Thu Jan 15 04:47:18 2004 -0800

    [PATCH] fix pdeath_signal SMP locking
    
    Obviously almost noone uses the pdeath_signal feature, since this has gone
    unnoticed for quite some time.
    
    This patch calls the function that does the right locking for the context
    of this call (inside exit_notify).  The names of the signal.c entrypoints
    are a little confusing.

commit 573d207d0ebcbc039670419c971d4a31711504f6
Merge: 500c09c... 477552e...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Jan 15 07:42:47 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.1
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.2

commit 500c09c74c7cfcf0933d83aab20eb079cd89495c
Merge: 74c8471... 3136d34...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Jan 15 07:40:19 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.0
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.1

commit 9107dd15237ab305c5fc99b2241067090d9d0032
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Jan 15 07:20:28 2004 -0500

    [NET] remove both incorrect and unneeded spinlock from sch_teql
    
    The spinlock was held while calling functions that could block,
    while simultaneously being at all times inside the context of
    module init/exit.
    
    Thanks to DaveM.

commit 3136d3401b03ceea1984336d03644924aeecab56
Author: Len Brown <len.brown@intel.com>
Date:   Thu Jan 15 07:04:28 2004 -0500

    [ACPI] change hard-coded IO width to programmable width
    	http://bugzilla.kernel.org/show_bug.cgi?id=1349
    	from David Shaohua Li and Venatesh Pallipadi

commit 9dbfb1322a4039bee56c91c15b0f81f91c83a5e7
Author: Dave Kleikamp <shaggy@shaggy.austin.ibm.com>
Date:   Thu Jan 15 05:03:45 2004 -0600

    JFS: Creating large xattr lists may cause BUG
    
    The bug was caused by a flag being or'ed against an unitialized value, rather
    than setting the flag correctly.

commit 3177b564b376d08046be4edb494fdad27a0de659
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Thu Jan 15 01:51:32 2004 -0800

    ia64: If GAS can handle .align inside code, enable it via TEXT_ALIGN().

commit 4a4913b6552d59d2b53e3e4645033a4fa185a85c
Author: Jean Delvare <khali@linux-fr.org>
Date:   Thu Jan 15 01:28:54 2004 -0800

    [PATCH] I2C: restore correct vaio handling in eeprom driver
    
    Here is a patch to the eeprom driver in 2.6.1 that changes the way Vaio
    eeproms are handled. In 2.6.1, the eeprom is readable only by root,
    which isn't consistent with the 2.4 driver which simple hides (i.e.
    fills it with zeroes) the first row (16 bytes) of the eeprom to regular
    users.
    
    The patch restores a similar behaviour in the 2.6 driver.

commit 65e199f960e02f3475ffb450f7ec9c94338fcb68
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Thu Jan 15 00:39:13 2004 -0800

    ia64: Replace unwcheck shell-script with a Python script which works
    	correctly even on 32-bit hosts. As an added bonus, it's faster,
    	too.  Run "unwcheck" by default, but for now, don't let unwcheck
    	errors cause the kernel build to fail.

commit b4c0a233d662e476f5cac5a5716ad1c4e0515032
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Jan 15 00:05:33 2004 -0800

    [PATCH] I2C: remove CONFIG_ISA dependancy for I2C_ISA as x86_64 does not have CONFIG_ISA

commit 6352cda2b95733668737c4a46679fd96d9948bc3
Merge: c272dd4... 477552e...
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Wed Jan 14 23:12:42 2004 -0800

    Merge nuts.ninka.net:/disk1/davem/BK/network-2.6
    into nuts.ninka.net:/disk1/davem/BK/net-2.6

commit c272dd4672c7b0d2b20f84acb965f1b61694a601
Author: Shirley Ma <mashirle@us.ibm.com>
Date:   Wed Jan 14 23:10:22 2004 -0800

    [IPV6]: Add MIB:ipv6RouterAdvert netlink notification.

commit 4ab58d1817797ec1a794bd4a920bc604b521c562
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Jan 14 23:03:49 2004 -0800

    [ATM]: Kill unused declaration in clip.c

commit 60cb2439cf78ac5fa4d37c94361538d9865a5898
Author: Hideaki Yoshifuji <yoshfuji@linux-ipv6.org>
Date:   Wed Jan 14 22:15:45 2004 -0800

    [IPV6]: Do not change DEVCONF_xxx indexed based upon kernel config.

commit c21c7b412096f85b650241a189f79bb10f1a48bd
Author: Hideaki Yoshifuji <yoshfuji@linux-ipv6.org>
Date:   Wed Jan 14 22:15:23 2004 -0800

    [IPV6]: Allow per-device max addresses configurable via sysctl.

commit 477552e452dab29884eb4dda34de4f2f586fe1f1
Merge: eb02117... 191938c...
Author: Linus Torvalds <torvalds@evo.osdl.org>
Date:   Wed Jan 14 21:46:12 2004 -0800

    Merge bk://linux-scsi.bkbits.net/scsi-misc-2.7
    into evo.osdl.org:/home/torvalds/v2.5/linux

commit eb021172fb2825d1240fdf920ccd9afceb3bc69c
Author: David Jeffery <david_jeffery@adaptec.com>
Date:   Thu Jan 15 02:53:07 2004 -0500

    [PATCH] ips fix for large mem 64bit machines
    
    This patch fixes DMA bugs on x86-64 and ia64 machines.  The driver was
    using commands that only support 32bit addresses in places that could
    return 64bit addresses.  One place was DMAing off the stack.  The other
    place was causing problems on x86-64 machines by calling pci_map()
    functions on a region allocated by pci_alloc_consistent().

commit 0ff39cb77cda8c7c970ba3d09f8a1d311b19fc9a
Author: David Jeffery <david_jeffery@adaptec.com>
Date:   Thu Jan 15 02:51:50 2004 -0500

    [PATCH] ips 2/2: minor fixes
    
    This patch fixes two minor bugs.  It allows zero length write commands
    through to devices.  It also prevents the writing of any  '\0'
    characters at the end of version numbers to ips's /proc/scsi files.

commit ce061be4850afd2749ca51673a8155d273efb582
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Thu Jan 15 02:48:46 2004 -0500

    Fix qla2xxx Kconfig dependency problem

commit 6b8b8c7e31a144771d216d4d4b99785cef7b56e6
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Thu Jan 15 01:24:31 2004 -0500

    Import qla2xxx driver
    
    From: "Andrew Vasquez" <andrew.vasquez@qlogic.com>
    
    With additional changes from: "James Bottomley" <James.Bottomley@SteelEye.com>,
                                  "Christoph Hellwig" <hch@infradead.org>
    
    This is the qlogic driver version 8.00.00b7 with the ioctl and failover code stripped
    out and a few associated fixes put in.

commit fe51a64f953025125ffc0e8ad16d3f353940fa6d
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Thu Jan 15 00:23:57 2004 -0500

    g_NCR5380 - 2.6.0 -  problem with reloading module
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    The problem is that the detect function requests an IO region
    of 16 bytes (at least when a command line override parameter is
    used) but the release function only tries to release 8 bytes,
    and this request isn't done because it doesn't match any allocated
    IO region.  [NCR53C400 extensions are not enabled, so
    NCR5380_region_size is 8, not 16, but the request uses
    NCR5380_region_size regardless.]
    
    Fix: save the allocated region size in instance->n_io_ports and release
       that size only;

commit c2e514bc0e784ca7e2d2cfccdc3f2e1da26c4df7
Author: Hirofumi Ogawa <hirofumi@mail.parknet.co.jp>
Date:   Wed Jan 14 20:00:37 2004 -0800

    [AF_PACKET]: Fix bind()/setsockopt(PACKET_RX_RING) bug and socket leak.
    
    This problem was the bug of packet_set_ring(). packet_set_ring()
    removes the hook for preparation of ring buffer, but it didn't
    restore.
    
    Also it's leaking the refcount of sk.

commit f78d7c3f6d204cab177c2b3f326c997cd840064b
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Wed Jan 14 18:34:52 2004 -0800

    [PATCH] I2C: move the Kconfig "source..." out of the drivers/char/ location

commit 1ee983bd2f833047ebb29c973034135f74b6ae24
Merge: 4547e81... eb88dec...
Author: Nathan Scott <nathans@sgi.com>
Date:   Thu Jan 15 12:29:35 2004 +1100

    Merge sgi.com:/source2/linux-2.6 into sgi.com:/source2/xfs-linux-2.6

commit eb88dec679caeed8e96e4c97d9f0a5022a666209
Author: Nathan Scott <nathans@sgi.com>
Date:   Thu Jan 15 12:28:15 2004 +1100

    [XFS] Remove a no-longer-used pagebuf source file.

commit 3adcc00cf03173179b2f72a85e2f0fc6bf8e190c
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Thu Jan 15 02:18:13 2004 +0100

    input: Expect only one character in interrupt in i8042.c, this eases
           the load on the controller (only one status read per interrupt). Also
           do polling only some time after an interrupt happened.

commit c0fd61785ce2ea07df174397e6afe908500e7b59
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Thu Jan 15 02:17:18 2004 +0100

    input: Add support for Logitech MX700 mouse.

commit 419b5a3c0ac267bb19df02a4e7454204da2afaad
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Thu Jan 15 02:15:51 2004 +0100

    input: Move keycode definitions around to get as close to 2.4
           compatibility as we can at the moment. This also kills
           KEY_103RD, because PS/2 keyboards don't have it and
           everyone is expecting to get KEY_BACKSLASH anyway. Fix
           rawmode generation for PrintScreen key, too.

commit 191938cc31fc1b66e35fd587e73cddf95d174e5f
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Jan 14 17:45:18 2004 -0500

    [netdrvr forcedeth] include linux/interrupt.h
    
    Fixes build on some platforms.

commit 3e119c8385c02b3f9ec1e6af9d117d27963528f6
Merge: 449e7d2... 48a9705...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Jan 14 17:22:39 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/3c527
    into redhat.com:/spare/repo/net-drivers-2.5

commit 48a97054d7283ad23f92191e55aa9507e8489d32
Merge: 2b65a56... 627f8b5...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Jan 14 17:18:54 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/misc
    into redhat.com:/spare/repo/net-drivers-2.5

commit 5597ba1e2ca142e564e511a7b09ed51de5cb8eeb
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Jan 14 09:24:26 2004 -0800

    [NET]: Fix uninlinable __sock_put call in net/sock.h

commit 73cb93a314e2d8a6c1e03aedc9a7b1d017099f9a
Merge: 60872d5... 627f8b5...
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Wed Jan 14 09:20:42 2004 -0800

    Merge nuts.ninka.net:/disk1/davem/BK/network-2.6
    into nuts.ninka.net:/disk1/davem/BK/net-2.6

commit 627f8b578fd7daae50fd4556c8c6fade4a9c241c
Merge: cca52de... eba34e0...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Jan 14 12:05:22 2004 -0500

    Merge bk://kernel.bkbits.net/jgarzik/net-drivers-2.5
    into redhat.com:/spare/repo/net-drivers-2.5

commit 60872d54d963eefeb302ebeae15204e4be229c2b
Author: Shirley Ma <mashirle@us.ibm.com>
Date:   Wed Jan 14 09:01:45 2004 -0800

    [IPV6]: Add notification for MIB:ipv6Prefix events.

commit 3c1ea2a57f835a46d08b20d72b2c3c8bc4e9c2a0
Author: Shirley Ma <mashirle@us.ibm.com>
Date:   Wed Jan 14 08:58:20 2004 -0800

    [IPV6]: Implement MIB:ipv6InterfaceTable

commit 395950f89abd00f391b2adde7e0e7db8eeb17feb
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Jan 14 08:52:46 2004 -0800

    [NET]: dev_alloc_name() returns the number of the slot used, so comparison needs to be < 0

commit 98a51ec04edb1dc1534dab31ee0993c2fd33adde
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Jan 14 08:48:25 2004 -0800

    [DECNET]: Fix initialization race.
    
    Decnet exposes itself to proc and packets before it has finished initializing.
    This was always a race, but the notifier replay might expose it worse.

commit 2b165d7b39e32cba9a39a8528efdc9e48ff3953a
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Jan 14 08:47:15 2004 -0800

    [ATM]: CLIP device discovery on init is not needed.

commit d5fc42a8c97de5a71a05065af8f54be62e7fef29
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Wed Jan 14 08:24:32 2004 -0800

    [IRDA]: Migrate TIOCMGET and TIOCMSET ioctls in IrCOMM to the new TTY API.
    
    Patch from Russell King.

commit f1980d3a76432ee2b3f26b3640515d7a94707d92
Author: Chas Williams <chas@relax.cmf.nrl.navy.mil>
Date:   Wed Jan 14 08:21:19 2004 -0800

    [ATM]: better behavior for sendmsg/recvmsg during async closes

commit a01f18ab08bd9ce981e230992594818fa12007b8
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Wed Jan 14 08:19:07 2004 -0800

    [NET]: net/flow.h needs asm/atomic.h

commit cca52de45a0c73d70ee07df3e0bccfad7db3f8a7
Merge: 2ed5574... 435417a...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Jan 14 11:06:26 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/atmel
    into redhat.com:/spare/repo/net-drivers-2.5

commit 2ed5574380e4ba1580b80782cc9a98f7ab60c803
Merge: 80440f4... 335fcc7...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Jan 14 11:04:23 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/airo
    into redhat.com:/spare/repo/net-drivers-2.5

commit 80440f4840594ec6eed60295c6572b88eadc17f1
Merge: c5827dd... d87dfbc...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Jan 14 11:02:22 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/pci200syn
    into redhat.com:/spare/repo/net-drivers-2.5

commit c5827dd4cf36c468e5fbdaba0a801131352455ee
Merge: 7152b58... 4547e81...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Jan 14 11:00:37 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/forcedeth
    into redhat.com:/spare/repo/net-drivers-2.5

commit 2e33ed693e095609fbc7e935ec37a2ec3597d623
Merge: 627f8b5... b9b86c6...
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Wed Jan 14 06:35:26 2004 -0800

    Merge nuts.ninka.net:/disk1/davem/BK/sparcwork-2.6
    into nuts.ninka.net:/disk1/davem/BK/sparc-2.6

commit 3c56486b1088aac5addb764123140343fef7d7ce
Merge: 71e5306... 4547e81...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Jan 14 08:52:33 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/libata-2.5

commit 71e5306f1030ca4f31173f71556304093c8c1058
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Jan 14 08:44:53 2004 -0500

    [libata sata_svw] cleanup, better probing
    
    * use fewer magic numbers
    * probe all 4 ports, using standard SATA SCRs
    * limit udma mask to 0x3f
    * clean up PPC-specific procfs stuff

commit 4c30552477b115d96fa81cd018cf403be29ac445
Author: Aron Rubin <arubin@atl.lmco.com>
Date:   Wed Jan 14 08:34:48 2004 -0500

    [libata sata_sil] add pci id for Silicon Image 3512

commit eba34e05bcc799880ca0fa7f8bc975504b8b241f
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Jan 14 08:21:53 2004 -0500

    [IEEE1394]: Sync file revisions.

commit 160ea20bc3ad6765e94a081ddb9c094e39435c69
Author: Eric Wong <normalperson@yhbt.net>
Date:   Wed Jan 14 08:19:36 2004 -0500

    [libata sata_sil] cleaner, better version of errata workarounds
    
    No longer unfairly punishes non-errata Seagate and Maxtor drives.

commit 6b150fab52f11d61d44d5f8dc6c8e28eb78b84ce
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Jan 14 08:15:54 2004 -0500

    [IEEE1394]: Rework highlevel list locking to avoid blocking under spinlocks.

commit 3d3151306be74672e0a2fdb9f35cf5ade72295ca
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Jan 14 08:14:33 2004 -0500

    [IEEE1394]: Fix test in ohci_soft_reset(), and handle hot-unplugged cardbus cards better.

commit 072152fc13046142f3ea452b0be393a49fa5f378
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Jan 14 08:12:50 2004 -0500

    [IEEE1394]: Per-host address space patch from Steve.

commit 5c0b7f266000806a5fa6d2119632350e5311e8d8
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Jan 14 08:11:20 2004 -0500

    [IEEE1394]: Fix compilation when CONFIG_COMPAT is enabled (32/64 systems).
    
      This was broken by the last commit for cdev stuff which removed the
      "int ret;" that these routines used.

commit 15ef503432b7bc26f51073873a33474e95b30336
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Jan 14 08:09:36 2004 -0500

    [IEEE1394]: Use the right length when deregistering raw1394 char device.

commit 8d6a74786dc876d7bf1d3bdc7e2bed674071a683
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Jan 14 08:08:22 2004 -0500

    [IEEE1394]: Convert to cdev API.
    
      Retire our char device dispatching logic.  With the 2.6 cdev API we
      can register much smaller device number regions, so we use that instead.

commit d58ab3e9335d5ff1e420a0f8401f5f7fb2ec7cce
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Jan 14 08:06:34 2004 -0500

    [IEEE1394]: Spelling fix from Dominik Brodowski.

commit 1922ffb667d08aead2ae9221520bb25a77264b17
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Jan 14 08:04:31 2004 -0500

    [IEEE1394]: Update OUI database as of Dec 31, 2003.

commit e96fc636bedf92ea19746ea453fb73cd7edef35f
Merge: 4547e81... 3eb0ce2...
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Jan 14 07:21:53 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/linux-2.6

commit 2de47969c61b6dcbee10950fda4131af29267ff7
Author: Matthew Wilcox <willy@debian.org>
Date:   Wed Jan 14 01:47:05 2004 -0500

    [PATCH] Re: Building sym 2.1.18f on linux/alpha
    
    On Tue, Jan 13, 2004 at 06:02:08PM +0300, Sergey Tikhonov wrote:
    > The final kernel could not pass linking stage with 2.1.18f version
    > (included into 2.6.1 kernel patch).
    > The linker complains that :
    > drivers/built-in.o(.init.text+0x8cec): In function 'sym2_probe':
    > : undfined reference to 'local symbols in discarded section .exit.text'
    >
    > I compared arch/alpha/kernel/vmlinux.lds.S with one from the i386 tree.
    > The '.exit.text' and '.exit.data'
    > sections were moved out of DISCARD attributes in the i386 version. I did
    > the same with alpha version
    > and it helped.
    
    Thanks for this report; you uncovered a real bug.  Actually two real
    bugs; one is that parisc is not discarding the .init.text and .exit.text
    sections (so I didn't notice this bug) and the other is that sym_detach
    is marked __devexit, yet called from a __devinit function.

commit a33c50e4e5fba64b803f792db1504ed6931ecf0b
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Tue Jan 13 21:46:17 2004 -0800

    [PATCH] USB: add support for the Clie PEG-TJ25 device
    
    Thanks to BOUCNIAUX Benjamin <borax@neron.info> for the information.

commit fd5ef78663e840412189b16d53ff5a3fd8bc7f71
Merge: aa0d8c9... 46fc740...
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Tue Jan 13 21:17:19 2004 -0800

    Merge nuts.ninka.net:/disk1/davem/BK/bluetooth-2.6
    into nuts.ninka.net:/disk1/davem/BK/net-2.6

commit 46fc74070ebdee51527a2ca20a1e3a1bf4a6bb5b
Merge: 4547e81... b9ec4b7...
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Tue Jan 13 21:01:58 2004 -0800

    Merge

commit b9ec4b7d0c3d4aaba0e94140f86768cc695c05dc
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Wed Jan 14 22:15:16 2004 +0100

    [Bluetooth] Change maintainer role of the Bluetooth subsystem
    
    This patch updates the CREDITS and MAINTAINERS files to reflect the change
    of the maintainer role for the Bluetooth subsystem.

commit d352669c5f08db756aede12037afc8285f8d988d
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Wed Jan 14 22:00:10 2004 +0100

    [Bluetooth] Start inquiry if cache is empty
    
    If the inquiry cache is empty it makes no sense to return zero number of
    inquiry result even if the age of cache is not outdated.

commit 748ea2f16d8b1baa8d6d9fa990bb54e0e426df05
Author: Matthew Wilcox <willy@debian.org>
Date:   Tue Jan 13 19:52:05 2004 -0800

    [PATCH] I2C: Kconfig cleanups
    
    This patch attempts to reduce the number of inappropriate questions being
    asked by menuconfig.

commit fd7a0d3e43ad60da0e1d175c179fad46e81d4f63
Author: Jean Delvare <khali@linux-fr.org>
Date:   Tue Jan 13 19:44:33 2004 -0800

    [PATCH] I2C: Fix debug bug in lm83 driver
    
    The following patch fixes lm83 failing to compile if DEBUG is set.

commit c5de19fcb6cf5a76e7f1ed970c8346a6aeccef53
Author: Jean Delvare <khali@linux-fr.org>
Date:   Tue Jan 13 19:27:58 2004 -0800

    [PATCH] I2C: Fix w83781d temp
    
    This patch fixes the temperature handling in the w83781d driver:
    1* Fix bad magnitude.
    2* Use MMH's lm75.h.
    3* Allow negative temperatures.

commit 1c607b3900a3d57b6cd9201b0236458ad30df1cd
Author: Jean Delvare <khali@linux-fr.org>
Date:   Tue Jan 13 19:27:32 2004 -0800

    [PATCH] I2C: New chip driver: lm90
    
    This is my LM90/ADM1032 i2c chip driver ported to Linux 2.6

commit c1e95d8b664b167d9f74b4fa2570941cf90cf32f
Author: Jes Sorensen <jes@trained-monkey.org>
Date:   Tue Jan 13 19:26:25 2004 -0800

    [PATCH] ia64: quiet down SMP boot messages
    
    This patch gets rid of some superfluous printk's which get tedious on
    machines with insane number of CPUs.  The virtual/physical address bit
    info is already available via /proc/pal, so there is no need to print
    it at boot- time.

commit e4de84054c6e8c8126bbdb0ab262828c190a05af
Author: Jean Delvare <khali@linux-fr.org>
Date:   Tue Jan 13 19:23:34 2004 -0800

    [PATCH] I2C: New parport bus drivers
    
    These are replacements for the i2c-philips-par, i2c-elv and i2c-velleman
    drivers, as well as for the i2c-old i2c-parport driver as found under
    drivers/media/video in linux 2.4. My reason for writing them, as already
    discussed on the sensors and linux-kernel mailing-lists, is that all
    these drivers basically do the same thing, so I thought it would be
    easier to maintain a single driver instead of four. As Simon Vogl
    pointed out that using a direct I/O access (as done in i2c-elv and
    i2c-velleman) could be prefered over clean parport access (as done in
    i2c-philips-par) on embedded devices, I finally wrote two drivers
    instead of one. But both drivers support all devices, it's just a matter
    of how they are accessed (and wether the driver depends on the parport
    driver).
    
    I made it so that the definition of the adapters (i.e. how to set and
    get SDA and SCL, basically) is completely separated from the code
    itself. Thus, adding support for a new adapter is simply adding a new
    set of data to the definition table, describing how the adapter works,
    in a single file.
    
    This means that all simple parallel port adapters are virtually
    supported. The i2c-pport driver we have in i2c CVS isn't supported yet
    because it works a bit differently, but I believe that extending the
    current driver(s) to support it should be possible (although it can be
    discussed wether it's worth it).
    
    You'll have to pass the type parameter that is correct for your board:
     0 = Philips
     2 = Velleman
     3 = ELV
     4 = ADM evaluation board
    
    I could only test with my ADM eval board, and it worked OK with
    both drivers. If they are confirmed to work, we could get rid of all
    other parallel port i2c drivers in 2.6.
    ***
    
    I think we should mark the i2c-philips-par, i2c-elv and i2c-velleman drivers as "deprecated" in i2c/busses/Kconfig. Is there a standard way to do so (like there is "&& EXPERIMENTAL" for new drivers)?
    
    Thanks.

commit 7aea5de435cfa233a9e02dc7206d6756e96a5ed8
Author: Jean Delvare <khali@linux-fr.org>
Date:   Tue Jan 13 19:19:29 2004 -0800

    [PATCH] I2C: i2c-rpx.c doesn't need ioports.h nor parport.h
    
    One more simple patch... These headers are useless as far as I can see.

commit 6f48ec0f5d534645e362aaad2a4c43c43520f3ed
Author: Jean Delvare <khali@linux-fr.org>
Date:   Tue Jan 13 19:19:14 2004 -0800

    [PATCH] I2C: Typo in i2c/busses/Kconfig
    
    Another simple patch for your collection. BTW I don't think that i2c-rpx
    can be used in 2.6 since it relies on an algorithm that hasn't been
    ported yet.

commit 7ba0358c14c5d0264140c29120f215823216def0
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Tue Jan 13 19:18:29 2004 -0800

    [PATCH] ia64: move HCDP under serial console #ifdef
    
    Currently you can select HCDP independent of serial console.  This
    doesn't seem very useful, and makes the setup_serial_hcdp() reference
    unresolved if the serial driver is built as a module.
    
    CONFIG_SERIAL_8250_CONSOLE is only selectable if the serial core is
    built in (SERIAL_8250=y), so this patch makes sure we don't try to
    call setup_serial_hcdp() unless it is actually built in to the kernel.
    
    (I think we should also make HCDP selection dependent on
    SERIAL_8250_CONSOLE=y in Kconfig; I'll send a separate patch
    for that since it's not ia64-specific.)

commit 547a3e6de56b338db9cf3f0adbbcf2c992c2400c
Author: Jean Delvare <khali@linux-fr.org>
Date:   Tue Jan 13 19:13:34 2004 -0800

    [PATCH] I2C: saa7146.h doesn't need i2c.h

commit e1dfc0be0f6ba935ac6f19628e6e54886ce89467
Author: Eugene Surovegin <ebs@ebshome.net>
Date:   Tue Jan 13 19:12:07 2004 -0800

    [PATCH] I2C: IBM IIC compile fix
    
    please apply this trivial one-liner. It fixes compilation of IBM IIC
    driver.

commit 32d2c4f89e1a3b4e800022e02eae097c6c060ee5
Author: Mark M. Hoffman <mhoffman@lightlink.com>
Date:   Tue Jan 13 19:11:06 2004 -0800

    [PATCH] I2C: link asb100 in the proper order
    
    * Jean Delvare <khali@linux-fr.org> [2004-01-09 22:58:58 +0100]:
    
    > Shouldn't the asb100 be listed first, the same way the w83781d is, since
    > it has subclients? I would even put asb100 before w83781d, since for now
    > the w83781d driver will try to handle ASB100 chips too, thus preventing
    > the asb100 driver from being used if both drivers are built-in.
    
    You're right, thanks
    
    * * * * *
    
    This patch fixes the link order for asb100 sensors chip driver.

commit dd7f69c7a130cc6a7bfd4e9458aaf19bbad8d965
Author: Mark M. Hoffman <mhoffman@lightlink.com>
Date:   Tue Jan 13 19:10:53 2004 -0800

    [PATCH] I2C: Add ported sensor chip driver: asb100
    
    This patch adds support for the ASB100 Bach sensor chip, which
    is found on some Asus mainboards.  The port corresponds to
    lm_sensors CVS revision 1.5.  The patch applies to and was tested
    against 2.6.1-rc1.

commit cf6921d5f208cf71363572c56c23b3117c291fb5
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Tue Jan 13 19:09:46 2004 -0800

    ia64: Patch by Bjorn Helgaas: acpi_register_irq() must be exported to enable
          modular ACPI device drivers.

commit 1e272f7f4be9f650f6d908ae93d7fa108c7d729f
Author: Jean Delvare <khali@linux-fr.org>
Date:   Tue Jan 13 19:09:15 2004 -0800

    [PATCH] I2C: documentation update
    
    > > They should be converted.  From module.h:
    > > 	/* DEPRECATED: Do not use. */
    > > 	#define MODULE_PARM(var,type) 	\
    > > 	...
    >
    > Note that realistically, it's not going away in 2.6, so mass migration
    > doesn't really win anything.  However, I never implemented mixing old
    > and new style in the same module, so if you're adding a parameter, it
    > makes sense to convert them all.
    
    OK, I don't have much time for a mass conversion anyway. Greg, could you
    please apply the following patch to the "porting-clients" document so
    that at least the new drivers don't need to be converted afterwards?

commit b85bec130c3c27a0da3431cd9aa3979ef8663bf0
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Tue Jan 13 19:08:59 2004 -0800

    [PATCH] I2C: module_parm fixes for i2c-piix4.c

commit eeee3e543f14c227a012504a9067d3e0ac042304
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Tue Jan 13 19:02:45 2004 -0800

    [PATCH] ia64: system type Kconfig cleanup
    
    Fix system type selection to workaround menuconfig bug (select "HP",
    get "HP-simulator").

commit d5f18b8e57267141a4b91b78a9af817d744e3a83
Author: Jes Sorensen <jes@wildopensource.com>
Date:   Tue Jan 13 18:56:03 2004 -0800

    [PATCH] ia64: header cleanup
    
    I fixed the code to compile with CONFIG_ACPI_NUMA and
    !CONFIG_DISCONTIG since it's actually possible to compile that
    configuration as well as cleaned up the #include usage a litte.

commit 16ffbb7bde77c3f5aeb45ffb0b1a04a9e203d9a4
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Wed Jan 14 02:34:23 2004 +0100

    [Bluetooth] Fix reference counting for incoming connections
    
    The L2CAP reference counting must be increased by the RFCOMM module if an
    incoming connection is accepted. If this is not done, it will be decreased
    one time to often if the connection is terminated.

commit aa0d8c971aec23f84a2845a8a22b0216ece44c2c
Author: Krishna Kumar <krkumar@us.ibm.com>
Date:   Tue Jan 13 07:30:48 2004 -0800

    [XFRM]: In xfrm_lookup(), schedule() before retrying template resolution.

commit 83b793786971b92824c27cf3e374c8725158b0bf
Author: Krishna Kumar <krkumar@us.ibm.com>
Date:   Tue Jan 13 07:28:33 2004 -0800

    [XFRM_USER]: xfrm_state_construct() needs to set x->km.state to XFRM_STATE_DEAD.
    
    Otherwise this can lead to the BUG_TRAP in __xfrm_state_destroy when
    xfrm_state_put() finds this is the last reference.

commit 6b00fc1c0b223995891da1bbbfe5ea3e82f258db
Author: Krishna Kumar <krkumar@us.ibm.com>
Date:   Tue Jan 13 07:26:01 2004 -0800

    [XFRM]: Fix two bugs in xfrm_lookup()
    
    - the found or allocated xfrm_states are not passed correctly to
      xfrm_bundle_create (and to the subsequent frees in case of create
      failing) if the first xfrm_tmpl_resolve failed and the second one
      succeeded.
    - error handling is wrong.

commit 17375fcbf60838d11c1c484189539dfbb2f2b83b
Author: Krishna Kumar <krkumar@us.ibm.com>
Date:   Tue Jan 13 07:24:40 2004 -0800

    [AF_KEY]: In pfkey_get(), do not dereference xfrm_state after it is put.

commit 81187eb81e7f03125c30451d681ec44171f74cd5
Author: Krishna Kumar <krkumar@us.ibm.com>
Date:   Tue Jan 13 07:23:17 2004 -0800

    [IPCOMP]: Set x->km.state to XFRM_STATE_DEAD in ipcomp_tunnel_create().
    
    Otherwise we can trigger the BUG trap in __xfrm_state_destroy() when
    xfrm_state_put() finds this is the last reference.

commit 8d26a9f24d56b85189a0ced1462fd890912cba77
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 13 00:38:53 2004 -0800

    [LAPBETHER]: Remove pre-existing device discovery loop
    
    Remove duplicate/conflicting code
    now that netdev_register_notifier replays the device registration events.

commit 67870f0ea8a3f141dddf511e693c3208b307d170
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 13 00:38:13 2004 -0800

    [BPQETHER]: Remove pre-existing device discovery loop
    
    Remove duplicate/conflicting code now that netdev_register_notifier replays the
    device registration events. Reorder initialization to avoid having to simplify error unwind
    if /proc creation failed.

commit 0fefa04768f5bbb39650c7b1deac1220c1257b7f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 13 00:37:26 2004 -0800

    [X25]: Remove pre-existing device discovery loop
    
    Remove duplicate/conflicting code
    now that netdev_register_notifier replays the device registration events.

commit 251c42ccf529c550d11d3390099fb672ed89a531
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 13 00:36:35 2004 -0800

    [IPV6]: Notifier replay changes
    
    Change IPV6 to handle the new case where netdev events are replayed on registration:
    * change code ordering so address configuration is ready before registration
      (this was actually a bug in existing code)
    * take out code that capture's existing devices, this is now done in the replay
    * make notifier code local to addrconf.c so it can be have smaller scope

commit 75bfe33f6f2ac6a7c415f633e1ab198b7ad8a675
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 13 00:33:15 2004 -0800

    [NET]: When registering a new notifier, rebroadcast REGISTER and UP events.

commit f8df510e573d270cfed37c7ceae8887b77236c6b
Author: Chas Williams <chas@cmf.nrl.navy.mil>
Date:   Tue Jan 13 00:28:21 2004 -0800

    [ATM]: [nicstar] convert to new style pci module (by "Jorge Boncompte [DTI2]" <jorge@dti2.net>)

commit 8bc49a7e360b3b76215deeaf8331a488e8607884
Author: Harald Welte <laforge@netfilter.org>
Date:   Tue Jan 13 00:26:26 2004 -0800

    [NETFILTER]: Add config help texts for IP_NF_ARP{TABLES,FILTER}

commit a937e1e40c8791903f975751e275b299b1e632ea
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 13 00:24:09 2004 -0800

    [NET]: Add SIOCSIGNAME wildcarding and name validation, with help from Jean Tourrilhes.

commit 424e8db5ee0313e8cfdcebde171c20cc2593f377
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 13 00:23:04 2004 -0800

    [NET]: Convert /proc/net/dev_mcast to seq_file.

commit 53f02ec2ec17c907208619b211cb9a84d5e53b25
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 13 00:22:10 2004 -0800

    [BRIDGE]: Use dev_base_lock while traversing netdev list.

commit ab627fcf02aba4b0711f635bf9656c3be4665d9f
Author: David Stevens <dlstevens@us.ibm.com>
Date:   Tue Jan 13 00:18:05 2004 -0800

    [IPV4/IPV6]: In MLD, add new filter first, then delete old one.

commit ccb41007cc36a542a7f5e913cd35edfac6b8cb68
Author: Raj <obelix123@toughguy.net>
Date:   Tue Jan 13 00:06:25 2004 -0800

    [IPV4]: Check for netdev alloc failure in ipmr.c

commit 7aeea3693303e63c8196f17c81bb1e974b911390
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Mon Jan 12 23:46:26 2004 -0800

    [COMPAT]: Support wireless ioctls, with help from Clint Adams.

commit 892d6187fc9fff86524adef180726b7139211c3e
Author: Andi Kleen <ak@muc.de>
Date:   Mon Jan 12 23:04:43 2004 -0800

    [COMPAT]: Mark SIOCSIFNAME as compatible ioctl.

commit b9b86c666df179f6bffa37b17df3654c2271d5be
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Mon Jan 12 22:51:17 2004 -0800

    [SPARC64]: Disable PCI ROM address OBP sanity check for now.

commit 71f644c0dec2b329e7ee9e0580d56d9da7bb53a0
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Tue Jan 13 06:17:12 2004 +0100

    [Bluetooth] Set disconnect timer for incoming ACL links
    
    In general a Bluetooth stack that creates an ACL link should also take
    care of its termination, but some Bluetooth devices think otherwise. The
    problem is that the Bluetooth specification don't defines an ownership
    of an ACL link and if nobody cares about it, two devices stay connected
    even if there is no need. To avoid leftover ACL links the disconnect
    timer must also be used for incoming connections, but it is set twice
    the default disconnect timeout so the other side get enough time to
    clean everything by itself.

commit d2d54085a53160a802edd42febc44c60393ae4c9
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Tue Jan 13 05:53:10 2004 +0100

    [Bluetooth] Use R2 for default value of pscan_rep_mode
    
    The only possible default value for pscan_rep_mode, if there is no entry
    in the inquiry cache, can be R2.

commit 58c0cfa3ced9ad74b8b6a105dce4978fb9be1435
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Tue Jan 13 05:39:42 2004 +0100

    [Bluetooth] Fix CMTP reference counting
    
    This patch fixes the module reference counting which was done wrong while
    porting this driver to the 2.6 kernel series.

commit 2b65a560f4258d436933b0725ca2a9346c79e449
Author: Andi Kleen <ak@muc.de>
Date:   Mon Jan 12 09:41:02 2004 -0500

    [PATCH] variable number of dummy devices
    
    Uses the new module_params that nobody else uses now.

commit 4547e81c1f3e35dc47c4bfbfd3444cb0401c2b0b
Author: Linus Torvalds <torvalds@evo.osdl.org>
Date:   Mon Jan 12 01:13:40 2004 -0800

    Dosemu actually wants to do a zero-sized source mremap
    to generate the duplicate area at 0x0000 and 0x100000.
    
    There's no downside to it, so allow it even though it's
    a tad strange.

commit 5041a1bbd51e8f6313dc817e6c6cbfeb6f4ee7d5
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Mon Jan 12 01:13:09 2004 -0800

    ia64: Fix bad patch breakage: move generic-defconfig to where it belongs.

commit 0aefd447e5b0b1dfd20974baac02a78f06a1812f
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Mon Jan 12 00:31:20 2004 -0800

    ia64: Avoid use of cast expressions as lvalues.  They're ugly and may be
    	dropped from GCC at some point in the future.

commit aebaa20d372bc8aca672ec9123afaa9ee35c2213
Author: Alex Williamson <alex.williamson@hp.com>
Date:   Mon Jan 12 00:04:10 2004 -0800

    [PATCH] ia64: sba_iommu update
    
    This patch does a couple things:
          * Allows iommu page size different than PAGE_SIZE.  This was
            largely done by Bjorn.  The motivation for this is that sx1000
            hardware officially only supports use of the iommu with a 4k
            page size.  Thus the default is now 4k for sx1000 and PAGE_SIZE
            for zx1.
          * Cleanup the runtime statistics gathering such that we can turn
            it on for some info w/o impacting runtime performance.

commit 58860a304cc316349682ac8990a4a5772f784183
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Sun Jan 11 23:20:28 2004 -0800

    ia64: Turn on CONFIG_EFI unconditionaly (even for HP Ski simulator).

commit 119b3d38892ce035e4d6f188f26ab0a044292673
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Sun Jan 11 22:31:06 2004 -0800

    ia64: Minor fix for get_order() so it works even for insanely large
    	arguments.

commit 208c7d01bce808d38990d60485035f2fb5c9d6f8
Author: Andreas Schwab <schwab@suse.de>
Date:   Sun Jan 11 20:10:14 2004 -0800

    [PATCH] ia64: __ia64_memcpy_fromio() may be missing from kernel
    
    When building a highly modular, non-generic kernel it can happen that
    arch/ia64/lib/io.o is not included in the image because nothing built-in
    needs __ia64_memcpy_fromio, etc., yet it may be called from a module.  We
    should force it to be linked in.

commit 721e8c913a7e31ceea229b28aba94df0d49b1df4
Author: Jesse Barnes <jbarnes@sgi.com>
Date:   Sun Jan 11 20:07:59 2004 -0800

    [PATCH] ia64: sn2 defconfig update
    
    Just a quick update for the sn2_defconfig file now that some more config
    options have been added.

commit faafb240316a2b8b5252652bd3b1cfcf85f7d8f5
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Sun Jan 11 19:24:44 2004 -0800

    [PATCH] ia64: HP IOTLB startup msg
    
    This patch adds a little noise on the console.  I like to see this
    info because it matches up with the AGPGART aperture info later on.

commit 4087f7645b27d66d26f2d921d9654e491f9399b7
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Sun Jan 11 19:20:44 2004 -0800

    ia64: add generic defconfig file
    
    	Here's a generic_defconfig that works on all the ia64
    	platforms I'm aware of, and we can always update it if it's
    	missing a driver or two.  Compile tested 'make compressed' and
    	'make modules', and boot tested on sn2, and I think Alex boot
    	tested on an HP machine.

commit 76d3406bff0661d8741e43420488f8997a12fa06
Merge: 79d434c... e10e81f...
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Sun Jan 11 19:10:46 2004 -0800

    Merge us.ibm.com:/home/sridhar/BK/linux-2.6.1
    into us.ibm.com:/home/sridhar/BK/lksctp-2.6.1

commit a1dda51a92472a5be68a0ff90f673fe91ecb76e7
Author: Bjorn Helgaas <bjorn.helgaas@com.rmk.(none)>
Date:   Sun Jan 11 23:28:38 2004 +0000

    [SERIAL] request resources for ACPI & HCDP ports
    
    Patch from: Bjorn Helgaas
    
    This patch against 2.6.1-rc3 sets UPF_RESOURCES so the
    appropriate ranges will show up in /proc/ioports and /proc/iomem.

commit 8a0817d5d1737da4a9e4fb3e34c69f1b79ae1733
Author: Adrian Bunk <bunk@fs.tum.de>
Date:   Sat Jan 10 22:48:04 2004 -0500

    [PATCH] qla1280.c doesn't compile
    
    On Wed, Jan 07, 2004 at 11:28:31PM -0800, Andrew Morton wrote:
    >...
    > Changes since 2.6.1-rc1-mm2:
    >...
    > -qla1280-update.patch
    > +qla1280-update-2.patch
    >
    >  Updated qlogic patch
    >...
    
    I got the following compile error when trying to compile this driver
    statically into a kernel with hotplug enabled:
    
    
    <--  snip  -->
    
    ...
    drivers/scsi/qla1280.c:4849: error: `qla1280_remove_one' undeclared here
    (not in a function)
    drivers/scsi/qla1280.c:4849: error: initializer element is not constant
    drivers/scsi/qla1280.c:4849: error: (near initialization for
    `qla1280_pci_driver.remove')
    make[2]: *** [drivers/scsi/qla1280.o] Error 1
    
    <--  snip  -->
    
    
    Since I don't see a good reason why qla1280_remove_one is #ifdef'ed out
    in the non-modular case the patch below fixes this problem by removing
    two #ifdef's.

commit 7152b580fb0ad68cf58881173e40860d071fa4fd
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 15:09:34 2004 -0500

    [netdrvr forcedeth] kfree -> free_netdev

commit 838f7f95323b8d4f1284c1d0882ece3f3ef52473
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 15:08:18 2004 -0500

    [NET] fix leak in sch_teql
    
    Also note the fact that we're calling functions that may block,
    while holding a local spinlock.

commit 5fc87357d47bc573d4b172cc007054c20b15f93a
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Sat Jan 10 11:20:44 2004 -0500

    [BK] add two helper scripts to Documentation/BK-usage
    
    cpcset: copy changset from one repository to another
    gcapatch: Generate GNU diff of local changes, versus latest upstream
    	(well, GCA...)

commit c5dd257a185089aa9b6009348e64452b32ad53c4
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 10 11:19:15 2004 -0500

    NCR53C9x SCSI: Kill bogus inline
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>

commit 01d7cc52e63808ff44b22866edf4a9abd90802ad
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 10 11:18:26 2004 -0500

    Amiga NCR53c710: Coalesce all configuration options into one
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Amiga NCR53c710: Coalesce all Amiga NCR53c710 SCSI host adapter configuration
    options into one config option, as suggested by Matthew Wilcox.

commit 62d9fcff22f1c92764352652a8f3d79b0714c736
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 10 11:16:48 2004 -0500

    BVME6000 SCSI: Fix typos
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>

commit f463a17eaef3284268430e452e4c40b3bee586f1
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 10 11:15:53 2004 -0500

    ncr53c7xx: Cleanup prototypes
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    ncr53c7xx: Cleanup prototypes for ncr53c7xx_init()

commit 67f9951937315268505823909a824a55e267a62f
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 10 11:14:57 2004 -0500

    Mac SCSI fixes (from Matthias Urlichs)
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Mac SCSI fixes (from Matthias Urlichs):
      - Inline functions need to be defined before being used.
      - out_8() takes an address and a value, not the other way round.

commit 48469908d5df327a52f0391394568c0bb1b6d02c
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 10 11:13:45 2004 -0500

    Update Mac ESP SCSI
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Mac ESP SCSI: Update argument parsing (from Matthias Urlichs)

commit 82f7c84899af24b43784e83437427240cdcb836e
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 10 11:11:58 2004 -0500

    Fix sym2 Ultra160 mode
    
    From: Anton Blanchard <anton@samba.org>

commit 498222688f59b17c73bd4abb72481f9b4f4858f1
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 10 11:09:04 2004 -0500

    sym2 speed selection fix
    
    From: Alex Tomas <alex@clusterfs.com>
    
    without following patch I couldn't get 160MB from my disk.  removed line
    restores previous clocking value (0 in my case).  so, driver thinks disk
    isn't DT-capable ...

commit e445a944793dc0cb5316f8795665eb1c3a85274f
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Sat Jan 10 10:40:30 2004 -0500

    [tokenring olympic] use memset_io to fix certain platforms
    
    Prefer a single memset_io() to buggy writel/writew/writeb loops.
    
    Bug found and fixed by IBM.

commit 76781ca677b4ea326cea4564ad2a5c9ba57b6c11
Author: Andi Kleen <ak@muc.de>
Date:   Sat Jan 10 10:15:34 2004 -0500

    [PATCH] Mark IBM TR driver as not 64 bit clean
    
    This driver doesn't seem to be 64bit clean judging from the warnings
    on x86-64. Mark it as !64BIT.
    
    -Andi

commit 435417ab6ab4ca8af4dc370e71d0950a8f2f313e
Author: Simon Kelley <simon@thekelleys.org.uk>
Date:   Sat Jan 10 09:59:37 2004 -0500

    [wireless atmel] various updates
    
    Below is a patch against 2.6.1-rc1 which has that fix and
    quite a few other components. viz:
    
    * Bumped version to 0.9
    
    * Dmitry Torokhov's skb-leak and netif_carrier patches.
    
    * Added a couple of fields to /proc/driver/atmel
    
    * Fixed failure to call unregister_netdev in a couple of error-unwind
      paths. I think this fixes the
      unregister_netdevice: waiting for eth1 to become free.
      bugs, but I don't have definative proof.
    
    * Remove floating-point constants just in case the compiler doesn't.
    
    * Fixed bug in scanning.
    
    * Added firmware versioning, driver will search through different
      available versions of firmware 'till it finds an available one.
    
    * Changed firmware URL in configure help to a directory rather than a
      file, so I can release new named versions.
    
    * Added support for later releases of the firmware, which are WPA aware.
      Firmware verion is automatically detected, so users who upgrade their
      kernel but not their firmware won't have problems.
    
    
    The PCI support and possible WPA support will have to wait for another day.

commit 08068d2c8e36738780288ab9d0549d3a4e886e8f
Author: Manfred Spraul <manfred@colorfullife.com>
Date:   Sat Jan 10 09:50:12 2004 -0500

    [netdrvr forcedeth] alloc fixes

commit 058e60b5b9b1563e389b13737e0d341d952afd6b
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 10 09:26:29 2004 -0500

    another aic7xxx_old proc fix
    
    from 2.6.1-mm2

commit 4e8bbe7a514996822c6e7fa58c7247b0f841566b
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 10 09:24:33 2004 -0500

    repair oops in aic7xxx_old proc_info
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>

commit 0c80a5b23f36a08298968c4c6021e688bee5a9bf
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 10 09:21:41 2004 -0500

    aacraid warning fix
    
    From: Christoph Hellwig <hch@lst.de>
    
    Fix:
    
    drivers/scsi/aacraid/aachba.c:1409: warning: `flag' might be used uninitialized in this function

commit e5297dd3ff47c818b884f7f70229690484e7cdd1
Author: David Brownell <david-b@net.rmk.(none)>
Date:   Sat Jan 10 12:53:30 2004 +0000

    [ARM PATCH] 1710/1: pxa2xx_udc (2/5) mach-pxa/idp.c uses INIT_MACHINE
    
    Patch from David Brownell
    
    This just makes the IDP initialization code use this initcall, so
    that it won't run unless it's actually on IDP hardware.
    
    Depends on the INIT_MACHINE patch (#1 this series).

commit f64009a772e509cea27ed57752486c1f9b7a0ec9
Author: David Brownell <david-b@net.rmk.(none)>
Date:   Sat Jan 10 12:45:04 2004 +0000

    [ARM PATCH] 1712/1: pxa2xx_udc (1/5) add INIT_MACHINE
    
    Patch from David Brownell
    
    This adds a mechanism for a per-machine initcall, one that's
    guaranteed to run only to initialize a kernel running on that
    specific hardware.  It's not strictly necessary, but it does
    eliminate the need for certain boilerplate in machine-specific
    support, to ensure it's only running on the right hardware:
    
          /* in arch/arm/mach-xxx/MYMACHINE.c */
          ...
          static int __init init_MYMACHINE(void)
          {
               if (!mach_is_MYMACHINE())       // often forgotten!!
                    return -EINVAL;
               ... declare and customize platform devices
               ...
               return 0;
          }
          arch_initcall(init_MYMACHINE);
    
    An init_MYMACHINE() call still exists, but it'd be declared
    as part of the machine definition.

commit 6ed79b63e05b27ba73c638c621db182bb262a0fa
Merge: 9f28b41... f1f4d2f...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Sat Jan 10 07:10:45 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/natsemi
    into redhat.com:/spare/repo/netdev-2.6/misc

commit dc3c0c8c24aa271a9f0789daf33fc741457ee5ed
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Jan 10 06:44:57 2004 -0500

    [SPARC]: Wrap some includes with __KERNEL__ check in asm-sparc/elf.h.

commit f1f4d2f639a12ced976197316c35f1cc1e5e4b64
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Sat Jan 10 06:25:54 2004 -0500

    [netdrvr starfire] remove dup include

commit 3b4f5fc06d5a4c39a0e5f3e8c3573a7ae29d35bf
Author: Evan N. McNabb <emcnabb@cs.byu.edu>
Date:   Sat Jan 10 06:25:41 2004 -0500

    [wireless orinoco_pci] add Vaio PCI id

commit 6c191c7d98113e78ea55d3f4d341b6fbe665781d
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Sat Jan 10 06:23:46 2004 -0500

    Cset exclude: shemminger@osdl.org|ChangeSet|20040110194048|37013
    
    Revert skfp_probe patch... better patch coming.

commit 1c03a4794766a2041e4a4c78d44be04628e03e8d
Author: Mirko Lindner <mlindner@syskonnect.de>
Date:   Sat Jan 10 06:18:15 2004 -0500

    [PATCH] sk98lin-2.6: Kconfig Update to Driver Version v6.21
    
    Patch 3/4 (Update to version 6.21)
    * Add: Update of the Vendors list

commit d0d6d52aab7c0f2a2ac51de05ecbf579332944e0
Author: Mirko Lindner <mlindner@syskonnect.de>
Date:   Sat Jan 10 06:18:06 2004 -0500

    [PATCH] sk98lin-2.6: Readme Update to Driver Version v6.21
    
    Patch 2/4 (Update to version 6.21)
    * Fix: Readme changes

commit e06cf18fd90ff5b399ae7bdcbaa9360aa34932ae
Author: Mirko Lindner <mlindner@syskonnect.de>
Date:   Sat Jan 10 06:17:56 2004 -0500

    [PATCH] sk98lin-2.6: Kernel Update to Driver Version v6.21
    
    Patch 1/4 (Update to version 6.21)
    * Add: Common module update
    * Add: New function for PCI initialization (SkGeInitPCI)
    * Add: Yukon Plus changes (ChipID, PCI...)
    * Add: Code for DIAG tool
    * Fix: Problems while unloading the linux driver
    * Fix: PrefPort=B not allowed on single NICs
    * Fix: Fixed Linux System crash when using vlans
    * Fix: Remove useless register_netdev
    * Fix: Initalize Board before network configuration
    * Fix: Modifications regarding try_module_get() and capable()

commit d87dfbc1c6b8426a8394bf5e8df13efebf913796
Author: Krzysztof Halasa <khc@pm.waw.pl>
Date:   Sat Jan 10 06:15:29 2004 -0500

    [wan] add new pc200syn driver

commit a338e5adc167c3f843c37d707f2d95bc49722cfe
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Sat Jan 10 06:11:25 2004 -0500

    [PATCH] pc300 - get rid of MOD_INC/MOD_DEC
    
    Remove old style mod inc/dec from this WAN driver.

commit fdd40ef3dac8851c08577eb597edee840e6aacc5
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Sat Jan 10 06:11:14 2004 -0500

    [PATCH] get rid of MOD INC/DEC for farsync
    
    Get rid of leftover MOD INC/DEC in this driver.  Ref counting now done
    by network core.
    
    Jeff, please apply to net-drivers-2.5-exp

commit 335fcc78759715a028cdc9ac281c2ed7c682a1d6
Author: Javier Achirica <achirica@telefonica.net>
Date:   Sat Jan 10 06:05:15 2004 -0500

    [wireless airo] Fix PCI registration

commit 2e316887d7ce25f746c919496cb8d18d90130a99
Author: Manfred Spraul <manfred@colorfullife.com>
Date:   Sat Jan 10 06:00:04 2004 -0500

    [netdrvr] add "forcedeth" driver for nVidia nForce NICs

commit 6806fd261a728a94a0d27d9059b16585df43211f
Author: Xose Vazquez Perez <xose@wanadoo.es>
Date:   Sat Jan 10 05:38:36 2004 -0500

    [PATCH] more ne2k-pci clone boards

commit 0eeaad0ca98b06896934cb473e73035001a59894
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 10 05:37:47 2004 -0500

    SCSI sg,st block layer TCQ fix
    
    Usually, the mid layer ends the block tag (if one was in use)
    early to release the resources.  However, things like sg and st
    don't go through the code path that does the release, so put a
    fallback release in __scsi_release_request() for them.

commit 449e7d2278978c3bcf275e56027c45676a1f1c51
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Sat Jan 10 05:33:34 2004 -0500

    [netdrvr 3c527] applied missing pieces of Richard Proctor's 3c527 SMP update
    
    Minor stuff... remove unused constants, and mark non-experimental
    and non-broken in Kconfig.

commit 6cdd37f0480332022db1b878b5c726ca39a1c11c
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Sat Jan 10 05:14:55 2004 -0500

    [netdrvr] Remove never-referenced 68360enet.c

commit 8bfaecf00e9baa9740e97f9a82ad8d5334a3ceb2
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Sat Jan 10 04:40:48 2004 -0500

    [PATCH] trivial -- skfp_probe should be static
    
    skfp_probe used to be called from Space.c but isn't any more.
    Therefore it no longer needs to be global.  All the calls to insert_device()
    pass skfp_probe as a second arg, so just use it directly.
    
    Jeff, this also is janitor type stuff, so just put it in net-2.5-exp

commit 349a102596e6bd8757e0fbd0ff1d4d8d06a82d66
Author: Richard Procter <rnp@paradise.net.nz>
Date:   Sat Jan 10 04:39:02 2004 -0500

    [netdrvr 3c527] fix race

commit b33c70251f63f8aff276667c338255a5f1f8e7bd
Author: Richard Procter <rnp@paradise.net.nz>
Date:   Sat Jan 10 04:37:45 2004 -0500

    [netdrvr 3c527] whitespace changes (sync up with maintainer)

commit 6ff26020196853c093159e0fe964eec49cde39d0
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Sat Jan 10 04:30:19 2004 -0500

    [PATCH] smctr - get rid of MOD_INC/DEC
    
    Get rid of warning now that module refcounting now done by network code not drivers.
    
    Not tested on real hardware.

commit 9f28b416ce2e90c9c1a44758a1a5385eca5fe137
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Sat Jan 10 04:26:03 2004 -0500

    [netdrvr natsemi] janitor: insert missing iounmap(), add error handling
    
    From: Leann Ogasawara <ogasawara@osdl.org>
    
    Patch inserts a missing iounmap().  Implements a cleanup path
    for error handling as well.

commit e958d4a0b3488081b7a7b5710a87603eee6deb7f
Author: Felipe Damasio <felipewd@terra.com.br>
Date:   Sat Jan 10 04:16:36 2004 -0500

    [netdrvr 3c527] remove cli/sti
    
    
        Richard Procter and I worked to remove cli/sti to add proper SMP support (I did the original stuff and Richard did the actual current code :)).
    
        Besides that, Richard did a great jog improving the perfomance of the driver quite a bit:
    
        - Improve mc32_command by 770% (438% non-inlined) over the semaphore version (at a cost of 1 sem + 2 completions per driver).
    
        - Removed mutex covering mc32_send_packet (hard_start_xmit). This lets the interrupt handler operate concurrently and removes unnecessary locking. It makes the code only slightly more brittle
    
        Original post:
    
    http://marc.theaimsgroup.com/?l=linux-netdev&m=106438449315202&w=2
    
        Since it didn't apply cleanly against 2.6.0-test6, I forward ported it. Patch attached.
    
        Jeff, please consider applying,
    
        Thanks.

commit 509f7e2b14df7f2f808b2591c3bf3725d02fcb1d
Author: Jürgen E. Fischer <fischer@linux-buechse.de>
Date:   Sat Jan 10 04:05:59 2004 -0500

    [PATCH] Kernel oops in 2.6.1 when loading aha152x_cs.ko
    
    Attached patch removed the references to the legacy stuff from the
    driver.
    
    I'm not sure if that is all that needs to be done though, and I could
    only test it for the non-pcmcia case, but that works here.

commit d567aa421b075cf70a49323f1ac20983de5cbd27
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 10 04:05:15 2004 -0500

    SCSI: atp870u update
    
    From: 	Zwane Mwaikambo <zwane@arm.linux.org.uk>

commit 7f3999c875ae12124294dacf1d3f04b51b57a09d
Author: Patrick Mansfield <patmans@ibm.com>
Date:   Sat Jan 10 04:04:50 2004 -0500

    [PATCH] Re: 2.6.1-rc1: SCSI: `TIMEOUT' redefined
    
    On Tue, Jan 06, 2004 at 07:33:25PM +0100, Adrian Bunk wrote:
    > On Wed, Dec 31, 2003 at 12:36:49AM -0800, Linus Torvalds wrote:
    > >...
    > > Summary of changes from v2.6.0 to v2.6.1-rc1
    > > ============================================
    > >...
    > > Patrick Mansfield:
    > >   o consolidate and log scsi command on send and completion
    > >...
    >
    > This adds a #define TIMEOUT to scsi.h conflicting with a different
    > TIMEOUT #define in drivers/scsi/eata_generic.h:
    
    Sorry Adrian, here is a patch renaming TIMEOUT to TIMEOUT_ERROR.  Still
    not a good name for the usage in SCSI core, but it does not conflict, and
    matches the other names for the IO completion results (SUCCESS, FAILED,
    etc., they and others should really be prefixed with at least SCSI).
    
    eata does not use the TIMEOUT it defines, but there are enough defines of
    TIMEOUT that it could be a problem in other drivers.
    
    Only compile tested for eata driver.

commit 23a6b56351bef4781ce5264c1961e8586997a4f4
Author: Martin Hicks <mort@wildopensource.com>
Date:   Sat Jan 10 01:55:07 2004 -0500

    [PATCH] Call slave_destroy in scsi_alloc_sdev error path
    
    This patch fixes a potential memory leak in scsi_alloc_sdev.
    
    If slave_alloc kmallocs memory and the get_device() (around line 245)
    fails then we goto the error path.  The error path never calls
    slave_destroy.

commit db0fff7487d266764279cb0dbb8a93aefe2bcf8d
Author: Arjan van de Ven <arjanv@redhat.com>
Date:   Sat Jan 10 01:51:34 2004 -0500

    [PATCH] fix a few missing return value checks in scsi
    
    The attached patch adds a few error checks for the pci dma_mask setting
    routines, which after all can fail and thus need their return code
    checked.

commit cf255f2fbc04a6d4e7f8e44baee9f32184b35667
Author: Jes Sorensen <jes@trained-monkey.org>
Date:   Sat Jan 10 01:47:47 2004 -0500

    [PATCH] qla1280
    
    I am attaching the latest version of the qla1280 driver for inclusion in
    the next 2.6.x release. It is mostly based on Christoph's cleanup work
    and a couple of changes of my own. I don't know if it is too late for
    2.6.1, but otherwise it would be nice to get it into 2.6.2.
    
    I have built and tested this using 2.6.0-test11 on an ia64, but I don't
    think there were any major SCSI changes since then.

commit 9528a458852f7771e39836491e17903252303c24
Merge: 4576b4f... b6034f3...
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 10 01:28:59 2004 -0500

    Merge mulgrave.(none):/home/jejb/BK/linux-2.5
    into mulgrave.(none):/home/jejb/BK/scsi-misc-2.7

commit 0dae858089f740ecab2d465844ab667aa2813b31
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 15:20:29 2004 +1100

    [XFS] Trivial and whitespace changes to sync trees.  Remove no-longer-used headers.

commit 68d4dffab853986ebe7c5179ff77c6392b5ef90d
Author: Wesley Smith <wessmith@sgi.com>
Date:   Sat Jan 10 15:03:07 2004 +1100

    [XFS] Work around gcc 2.96 bug in _lsn_cmp.
    
    SGI Modid: 2.5.x-xfs:slinx:156280a

commit 5125c15b41b905662401964578fbdb6754a8dc01
Author: Russell Cattelan <cattelan@sgi.com>
Date:   Sat Jan 10 15:00:17 2004 +1100

    [XFS] Fix one more fsid_t type.
    
    SGI Modid: 2.5.x-xfs:slinx:155873a

commit 230442945866b253b2e21b379ee7936020d2fee3
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 14:57:17 2004 +1100

    [XFS] Fix some inconsistent types
    
    SGI Modid: 2.5.x-xfs:slinx:155637a

commit 663be8dbf8921e85ed943ec884abf05f48ed279a
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 09:07:24 2004 +1100

    [XFS] Rework some extended attributes code to make it more easily extended.
    
    SGI Modid: 2.5.x-xfs:slinx:163383a

commit 6bda7ecb1e934142f0299834990289928563eade
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 09:03:47 2004 +1100

    [XFS] Cleanup bdevname conditional code in xfs_buf headers.
    
    SGI Modid: 2.5.x-xfs:slinx:163365a

commit 21df119327b4aafa093fe433670f517aa1a315bc
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 08:54:39 2004 +1100

    [XFS] Fix an XFS release_page case where unwritten extents may cause I/O incorrectly.
    
    SGI Modid: 2.5.x-xfs:slinx:163128a

commit 957fb7ef9b372857c84135b6c3b4365c7fe8767c
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 08:52:05 2004 +1100

    [XFS] Fix a small pagebuf memory leak and keep track of slab pages ourselves.
    
    SGI Modid: 2.5.x-xfs:slinx:163124a

commit 52f8327575d4b7d892702c158b84e9c8bd48bed1
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 08:36:24 2004 +1100

    [XFS] Fix async pagebuf I/O tracing at the bottom of pagebuf_get.
    
    SGI Modid: 2.5.x-xfs:slinx:163118a

commit 903facfa2acab2c1f8ba647cb7594cd8aa49d486
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 08:27:20 2004 +1100

    [XFS] Remove some spurious double semi-colons.
    
    SGI Modid: 2.5.x-xfs:slinx:163116a

commit a0232262100c636b0a52d4e4ad9188bbbce7e537
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 08:18:25 2004 +1100

    [XFS] No need to initialise struct xfs_trans field to null after a zalloc.
    
    SGI Modid: 2.5.x-xfs:slinx:163115a

commit 09f1c56c89e95bc384d24768fabf12d58ea01dcf
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Sat Jan 10 08:16:00 2004 +1100

    [XFS] Update xfs_showargs to reflect all current mount options
    
    SGI Modid: 2.5.x-xfs:slinx:163102a

commit 26ffe53e7480e8293c861911db1ebde74232ae5e
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 08:10:10 2004 +1100

    [XFS] Use vnode timespec modifiers for atime/mtime/ctime, keeps last code hunk in sync.
    
    SGI Modid: 2.5.x-xfs:slinx:162783a

commit 0d39ce1f6e4bbb62792aa94d356c07142a11ce57
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 07:45:55 2004 +1100

    [XFS] Prevent log ktrace code from sleeping in an invalid context.
    
    SGI Modid: 2.5.x-xfs:slinx:162768a

commit 5e6ff38fc603428ca10806bb160e2074edac71d6
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 07:42:44 2004 +1100

    [XFS] Fix comment in xfs_rename.c
    
    SGI Modid: 2.5.x-xfs:slinx:162760a

commit 828cfcb36d395ad724a4e42e556495611e364d6f
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 07:26:54 2004 +1100

    [XFS] Make kmem shaking interface consistent between kernel versions.  No code change here, mainly symbol names.
    
    SGI Modid: 2.5.x-xfs:slinx:162379a

commit ea7de3cfc125b4ba6a03decce21a816aacbe6dc5
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 07:24:21 2004 +1100

    [XFS] Fix some incorrect debug code after buftarg changes.
    
    SGI Modid: 2.5.x-xfs:slinx:162334a

commit 44612123a862480ed4924de6c5fca1077353df0c
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Jan 10 07:21:11 2004 +1100

    [XFS] Use xfs_statfs type to statfs operation, to support multiple kernels more easily.
    
    SGI Modid: 2.5.x-xfs:slinx:162331a

commit df93c431b3d784e8da935aadbbe92879c63ec6b8
Author: Michal Ludvig <michal@logix.cz>
Date:   Fri Jan 9 04:55:59 2004 -0800

    [XFRM]: SHA2-256 should be truncated to 96 bits, not 128.

commit 1507a5b378b9ffe6907e87e2e2cb6fccec60616c
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Fri Jan 9 00:53:28 2004 -0800

    [PATCH] USB: add new usb led driver.

commit 7dd3d2d74ff3786955cca4e6f2e961b2288ab591
Merge: a8e317c... dc66891...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Jan 9 01:37:10 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/libata-2.5

commit 3f4e11da06f8b215715484e359c08a71b1a37f31
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 15:09:57 2004 +1100

    [XFS] Abstract sendfile operation out, supporting multiple kernels more easily.
    
    SGI Modid: 2.5.x-xfs:slinx:162329a

commit 26d0eaef7f362e53fa852b89a5d4ebd994e286a1
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 15:06:00 2004 +1100

    [XFS] Use iomap abstraction consistently.
    
    SGI Modid: 2.5.x-xfs:slinx:162327a

commit acc0e94edb2b043b25684e284909342c02232246
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 14:58:35 2004 +1100

    [XFS] Move the stack trace wrapper into a kernel-version-specific location.
    
    SGI Modid: 2.5.x-xfs:slinx:162317a

commit 0f2140be2cbc4848b1849435053ca07f4b5bcd0b
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Fri Jan 9 14:52:49 2004 +1100

    [XFS] Fix sysctl handlers to expect ints
    
    SGI Modid: 2.5.x-xfs:slinx:162288a

commit e8b65083c44a804a14e51eb9adada6ede036e097
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 14:39:55 2004 +1100

    [XFS] Remove assertion that we do not hold a lock - no lock ownership state available.
    
    SGI Modid: 2.5.x-xfs:slinx:162250a

commit 6c39f81d4345018744f66e9dc626b93edd8d0bf8
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 14:37:17 2004 +1100

    [XFS] Set proper device for realtime files in linvfs_get_block_core
    
    SGI Modid: 2.5.x-xfs:slinx:143006a

commit 4497e330d29e08feab7adb3b839a9db85553bd7d
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 14:32:17 2004 +1100

    [XFS] Trivial/whitespace changes to sync up different trees a bit.
    
    SGI Modid: 2.5.x-xfs:slinx:162245a

commit 5301b18c982389f55d73be412c1229755c1a8855
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 14:29:30 2004 +1100

    [XFS] Seperate the NFS reference cache code out from xfs_rw.c to simplify management of different kernel versions.
    
    SGI Modid: 2.5.x-xfs:slinx:162241a

commit 63b82469b40e317a0570f8a5528e3b247f3790e5
Merge: 72637f5... 4576b4f...
Author: Dave Kleikamp <jfs.adm@hostme.bitkeeper.com>
Date:   Thu Jan 8 19:25:47 2004 -0800

    Merge bk://linux.bkbits.net/linux-2.5
    into hostme.bitkeeper.com:/repos/j/jfs/linux-2.5

commit e3f777343d8ca1559dde4a21e2c4544518c26610
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 14:24:33 2004 +1100

    [XFS] Change pagebuf to use the same ktrace implementation as XFS, instead of reinventing that wheel.
    
    SGI Modid: 2.5.x-xfs:slinx:162159a

commit 272a8d2ccace06953a5abf3fa531c5e7ffc3658f
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 14:13:51 2004 +1100

    [XFS] Switch to using the BSD qsort implementation.
    
    SGI Modid: 2.5.x-xfs:slinx:162158a

commit ab5d6be1e95cc6c06b88d30e1b1510949e9538b5
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 14:10:46 2004 +1100

    [XFS] Merge page_buf_locking routines in with the rest of page_buf.
    
    SGI Modid: 2.5.x-xfs:slinx:162155a

commit 4576b4fa6948c61818252abc141758967d2447c9
Merge: a8e317c... e036671...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Thu Jan 8 19:07:39 2004 -0800

    Merge bk://linux-dj.bkbits.net/agpgart
    into home.osdl.org:/home/torvalds/v2.5/linux

commit e0366718d27b150f33e5f8727848bd8e3e11b43f
Author: Dave Jones <davej@redhat.com>
Date:   Fri Jan 9 17:43:29 2004 +0000

    [AGPGART] The RadeonIGP 345M device ID is 0xcbb2, not 0xcbb
    Spotted by Matteo Croce

commit 8a5d8dd853512ff6b118cdb247796118db2b85ea
Author: Russell Cattelan <cattelan@sgi.com>
Date:   Fri Jan 9 13:46:25 2004 +1100

    [XFS] move the iomap data structures out of pagebuf
    
    SGI Modid: 2.5.x-xfs:slinx:162048a

commit db46361eead24a6b98161d659bdc5ced9d130fae
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 13:23:16 2004 +1100

    [XFS] Cleanup the page buffers loop in writepage (no goto, like 2.4 variant).
    
    SGI Modid: 2.5.x-xfs:slinx:161999a

commit cd6bc28a07a55996780c9bf2ffa39a77b09d3617
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 13:20:53 2004 +1100

    [XFS] Enable pagebuf lock tracking with debug config option.
    
    SGI Modid: 2.5.x-xfs:slinx:161903a

commit 0fb91f05d3a802ae5184bbcc5c370c60a7f652d3
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 13:14:43 2004 +1100

    [XFS] Fix error code sign on forced shutdown in iomap; sync iomap code up between 2.4 and 2.6 versions.
    
    SGI Modid: 2.5.x-xfs:slinx:161902a

commit 73cf732174aeb8d8381bebfd69448559dcda20ef
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 13:11:16 2004 +1100

    [XFS] Fix an infinite writepage loop under a combination of low free space, and racing write/unlink calls to the same file.
    
    SGI Modid: 2.5.x-xfs:slinx:161773a

commit 61c82a369eb1a9973f8a4ccd27d91e5e8fccc8c6
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Fri Jan 9 13:07:54 2004 +1100

    [XFS] Fix test for large sector_t when finding max file offset
    
    SGI Modid: 2.5.x-xfs:slinx:160900a

commit 4d51e7a0675806ad1f3c0c071f21f7490533d49f
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Fri Jan 9 13:05:40 2004 +1100

    [XFS] Add a stack trace to _xfs_force_shutdown.
    
    SGI Modid: 2.5.x-xfs:slinx:160899a

commit b1850eed0cd53f7fae6db8423d12a8c47cb7ac0b
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 13:03:18 2004 +1100

    [XFS] Fix warnings when tracing enabled on 64 bit platforms
    
    SGI Modid: 2.5.x-xfs:slinx:160622a

commit 1a9c5fc19d5359cc9b561c25a29a18ecffe75f36
Author: Dean Roehrich <roehrich@sgi.com>
Date:   Fri Jan 9 12:56:00 2004 +1100

    [XFS] Remove duplicate FILP_DELAY_FLAG macro
    
    SGI Modid: 2.5.x-xfs:slinx:160504a

commit fcb6227aca761ebb9f65e9374d3c13638ef75e97
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 12:46:29 2004 +1100

    [XFS] Fix compiler warning due to mismatched types.
    
    SGI Modid: 2.5.x-xfs:slinx:160445a

commit 383d2444e443525092b4a2b26fd9bb3189f161c9
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 12:24:32 2004 +1100

    [XFS] Dont build objects which are not linked into the kernel ever.
    
    SGI Modid: 2.5.x-xfs:slinx:160314a

commit db15c97a4f07d00860239ad82e2e6896f35b451c
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 12:16:34 2004 +1100

    [XFS] Enable the tracing options in XFS Makefiles.
    
    SGI Modid: 2.5.x-xfs:slinx:160246a

commit bfaa1ea43feebce41c632e4daf41f4de7078cfdc
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 12:13:01 2004 +1100

    [XFS] Fix build with tracing enabled, couple of portability macros, move externs into headers.
    
    SGI Modid: 2.5.x-xfs:slinx:160245a

commit 1e31c07bcb88f3da801c3ab76fe84a3924e1edb7
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 12:08:45 2004 +1100

    [XFS] When tracing extended attribute calls, only access the buffer when it exists.
    
    SGI Modid: 2.5.x-xfs:slinx:160244a

commit 739d17f20d0cdcfd881eddcc88830f41001def02
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 12:06:20 2004 +1100

    [XFS] Fix exports for tracing symbol access in idbg code.
    
    SGI Modid: 2.5.x-xfs:slinx:160243a

commit a270f1d01ab046bc27ac368685d4ec458e924f41
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 12:02:45 2004 +1100

    [XFS] Enable tracing in the quota code if requested
    
    SGI Modid: 2.5.x-xfs:slinx:160242a

commit bafd00696b7216ba0e85176ac9a7c4fe3b071cb2
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 12:00:03 2004 +1100

    [XFS] Rename the vnode tracing macro to be consistent with the other trace code
    
    SGI Modid: 2.5.x-xfs:slinx:160241a

commit 20eb2a8cd8c973b0c146ad440fe817e93227481b
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 11:57:22 2004 +1100

    [XFS] Fix build fallout from reordering xfsidbg headers for tracing fixes.
    
    SGI Modid: 2.5.x-xfs:slinx:160225a

commit 828f3b0dbe0df1468f1215290cc70af2006dd3ea
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 11:54:47 2004 +1100

    [XFS] Fix log tracing code so it is independent of DEBUG like other traces.
    
    SGI Modid: 2.5.x-xfs:slinx:160178a

commit 61e41fb1e5d1059e803254dd0fcdf4d113214db2
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 11:52:04 2004 +1100

    [XFS] Fix ktrace code - dont build unilaterally, and do earlier init for pagebuf use.
    
    SGI Modid: 2.5.x-xfs:slinx:160172a

commit 00d9eb9929f69083353e4e1b4c28382bd21c7ad9
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 11:48:07 2004 +1100

    [XFS] Add some IO path tracing, move inval_cached_pages to a better home to help.
    
    SGI Modid: 2.5.x-xfs:slinx:160171a

commit d01cc5ebb537a8f320c03a0c3baa4da0503f3166
Author: Dean Roehrich <roehrich@sgi.com>
Date:   Fri Jan 9 11:44:55 2004 +1100

    [XFS] Implement dm_get_bulkall
    
    SGI Modid: 2.5.x-xfs:slinx:159760a

commit c61fb8c303f7bdefcc7c66a5707671619f1460d9
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 11:37:57 2004 +1100

    [XFS] Fix compiler warning after change to xfs_ioctl interface.
    
    SGI Modid: 2.5.x-xfs:slinx:159720a

commit a5edc5c57638dc496b1d19ec169ead728dbe5368
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 11:29:25 2004 +1100

    [XFS] Rename pagebuf debug option (ie. pagebuf tracing) into a generic XFS tracing option for the other XFS trace code to use too (once fixed).
    
    SGI Modid: 2.5.x-xfs:slinx:159717a

commit b0e608b68082287b5902fe05a023cb02f10f5389
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 11:26:13 2004 +1100

    [XFS] Remove debug source file from kernel tree; useless without kdb and
    dropping it cuts down on merge noise.  Simplifies the Makefile too.

commit a8e317c46fa557c30da520a0cce1ec432880c6da
Merge: ae06217... f4e3767...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Thu Jan 8 16:06:30 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 74c84715fbbfb0cdeef296320bd791592bba7d6e
Merge: 11afe46... 79d434c...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Jan 8 17:31:13 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.0
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.1

commit f1c7d668a46c8a1154c80dc3272792e1f18d0f14
Merge: 3434a16... 8fe3d8c...
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Jan 9 09:18:24 2004 +1100

    Merge sgi.com:/source2/linux-2.6 into sgi.com:/source2/xfs-linux-2.6

commit ae06217517a8cc64561ed6bc47dda7364a4b1211
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Thu Jan 8 10:14:55 2004 -0800

    [SPARC64]: Update defconfig.

commit bbd1dca4ab0680eba295217bd54221a44f507d52
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Jan 8 10:14:10 2004 -0800

    [SPARC64]: Add option to define default command line to kernel, ala PPC.

commit f4e376709546ba654c8e090ecae8700b6a99c041
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Thu Jan 8 10:11:04 2004 -0800

    [IRDA]: Fix compiler warning in af_irda.c

commit d80fb43e882f07022c18df1c5a173044c6b73e2c
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Thu Jan 8 10:10:24 2004 -0800

    [IRDA]: Add module alias for IrCOMM pseudo serial device.
    
    From Martin Diehl.

commit fca373c2272777e4132c1bd6100d411c0cce92d9
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Thu Jan 8 10:09:57 2004 -0800

    [IRDA]: Fix sir-dev 'raw' mode for sir dongles that need it.
    
    From Martin Diehl.

commit 2aa824e5ceb5310e5f1e69011d9c20a8704078ce
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Thu Jan 8 10:09:23 2004 -0800

    [IRDA]: Fix a potential dealock in sir-dev state machine.
    
    Also, make sir-dev locking compatible with irport.
    From Martin Diehl.

commit 03c2aba96d318232ae91f44bfec588129f2ea949
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Thu Jan 8 10:08:39 2004 -0800

    [IRDA]: Proper calculation for F-timer. Improve interoperability.

commit 62b4d8eee19242f2c7a9c60c499cdf47c363c255
Author: Kurt Garloff <garloff@suse.de>
Date:   Thu Jan 8 10:05:27 2004 -0800

    [NETFILTER]: Align nulldevname properly in ip_tables.

commit 72c15bba84015ab38fe86c9b2fff6419f3da7e9e
Author: Chas Williams <chas@cmf.nrl.navy.mil>
Date:   Thu Jan 8 10:00:14 2004 -0800

    [ATM]: br2684 incorrectly handles frames recvd with FCS (by Alex Zeffertt <ajz@cambridgebroadband.com>)

commit c2852cc413802ee873c6cdb8f62c442cd7b9a6f8
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:57:33 2004 -0800

    [X25]: Use size_t for size in {send,recv}msg.

commit 7153ce0efe3506f647ced918c27cbdf38d8803ca
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:57:13 2004 -0800

    [UNIX]: Use size_t for size in {send,recv}msg.

commit 2bc9c2cc8801bda01f8bc6931d0e87d1afc70c3a
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:56:50 2004 -0800

    [ROSE]: Use size_t for size in {send,recv}msg.

commit b992639f3fc19ffa55ab2b3d480a89b86d71127f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:56:19 2004 -0800

    [NETROM]: Use size_t for size in {send,recv}msg.

commit d5231ae9e64b1bbee1e58453cd90f84ca2fb5cab
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:55:54 2004 -0800

    [LLC]: Use size_t for size in {send,recv}msg.

commit b6c65c624b940ec844ab0d26e96524e286461479
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:55:30 2004 -0800

    [IRDA]: Use size_t for size in {send,recv}msg.

commit 8b80624e70833d4f72805419b203643f4ee9cd8b
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:55:00 2004 -0800

    [ECONET]: Use size_t for size in {send,recv}msg.

commit 4c0abe61d0738c17f82602b08459cf667dbec207
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:54:37 2004 -0800

    [NETLINK]: Use size_t for size in {send,recv}msg.

commit 322d620f5076f2c02ce75d06d23cc59b4ab26838
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:54:10 2004 -0800

    [DECNET]: Use size_t for size in {send,recv}msg.

commit 5831945d3ee2eb6d6bc153fe29fda610589d3d10
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:53:49 2004 -0800

    [IPX]: Use size_t for size in {send,recv}msg.

commit 89aebaffff7545d7a2947e2f8f5fdee70f841c14
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:53:15 2004 -0800

    [AX25]: Use size_t for size in {send,recv}msg.

commit df5b6439fa78b3090958052d52bd0e238f407eb5
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:52:52 2004 -0800

    [ATM]: Use size_t for size in {send,recv}msg.

commit af817e91d0f08922dec3460991cc9952d1703692
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:52:21 2004 -0800

    [APPLETALK DDP]: Use size_t for size in {send,recv}msg.

commit e9e1bef30ea45846e0fb1989030f55bf1383e0d1
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:51:57 2004 -0800

    [PPPOE]: Use size_t for size in {send,recv}msg.

commit 39ae691d31c87d626f8f6eb949408ef9e8ba5dcb
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:51:28 2004 -0800

    [BLUETOOTH]: Use size_t for size in {send,recv}msg.

commit c97ddec1bb1c78c2105b8a88e5c123cd15ab54bc
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:50:34 2004 -0800

    [IPV4/IPV6]: Use size_t for size in {send,recv}msg.

commit a7984945cbe59d2ca7ce2800a73e2d67b3444cac
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 8 09:49:00 2004 -0800

    [NET]: Use size_t for size argument in {send,recv}msg callchain.

commit 92bb655022b180b0678d0e3b6cd6cbc5105da0b9
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Thu Jan 8 09:41:04 2004 -0800

    [SPARC]: Use spinlock to protect IRQ action management.

commit 28922d1e809c094efe78a86b6906340897f47260
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Thu Jan 8 09:39:49 2004 -0800

    [SPARC]: Fix PMD masking in SRMMU code.

commit ccc259f421959450a1822ff1e24a7736d377103b
Author: David S. Miller <davem@nuts.ninka.net>
Date:   Thu Jan 8 09:36:40 2004 -0800

    [SPARC64]: In early bootup, BUG() if cannot find TLB entry for remapping.

commit a7675fbbef98c7787bcaf40802cbec3912cc216e
Merge: 79d434c... 24ecbc8...
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Thu Jan 8 08:20:27 2004 -0800

    Merge tiger.hpl.hp.com:/data1/bk/vanilla/linux-2.5
    into tiger.hpl.hp.com:/data1/bk/lia64/to-linus-2.5

commit 72637f57e4ca666ee826bdcf3c454bdc90ff73a1
Author: Dave Kleikamp <shaggy@shaggy.austin.ibm.com>
Date:   Wed Jan 7 22:26:06 2004 -0600

    [JFS] allow resize option with no parameter
    
    The resize option is valid both with and without a parameter.  When cleaning
    up the parsing code to use match_token(), the ability to specify resize
    without a parameter was lost.

commit 8fe3d8c3dc59598a64c6018672615f46aa40dda4
Merge: 67215df... 260d14a...
Author: Nathan Scott <nathans@sgi.com>
Date:   Thu Jan 8 12:38:24 2004 +1100

    Merge sgi.com:/source2/linux-2.6 into sgi.com:/source2/xfs-linux-2.6

commit 683fb58076a7549784d74eace06c37d6cae92172
Merge: 89d1701... 67f1f0f...
Author: Dave Kleikamp <shaggy@shaggy.austin.ibm.com>
Date:   Wed Jan 7 02:02:39 2004 -0600

    Merge jfs@jfs.bkbits.net:linux-2.5
    into shaggy.austin.ibm.com:/home/shaggy/bk/jfs-2.5

commit 67f1f0f27eebc8ad4b6a38864e433dc551e01b5b
Merge: d5f09dc... 3434a16...
Author: Dave Kleikamp <jfs.adm@hostme.bitkeeper.com>
Date:   Tue Jan 6 19:47:46 2004 -0800

    Merge bk://linux.bkbits.net/linux-2.5
    into hostme.bitkeeper.com:/repos/j/jfs/linux-2.5

commit 8d8ac0fe3a0366479421b3c8a8ada20b09d951c7
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 5 22:28:19 2004 -0800

    USB: add gadget serial driver from Al Borchers

commit 9ab83212a7277774d9522139e4f056d09ed4e141
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 5 22:20:03 2004 -0800

    [PATCH] USB: add test for B4000000 to ir-usb driver to fix build issue on some archs

commit cbf76102a3336f292b9852076ee09f449bbc0fd5
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 5 22:19:45 2004 -0800

    [PATCH] USB: fix bug in bMaxPower sysfs file, it should be * 2
    
    Also cleaned up the string files.
    Thanks to Mark Smith for pointing this out.

commit 8aaedfaae166be681934dc064a0d0b8cd56128c4
Author: David Brownell <david-b@pacbell.net>
Date:   Mon Jan 5 22:19:28 2004 -0800

    [PATCH] USB: fix kfree in usb-skeleton.c
    
    >>	if (dev->bulk_in_buffer != NULL)
    >>		kfree (dev->bulk_in_buffer);
    >
    >
    > Yes that one check can go away.  Care to send me a patch?
    
    Actually all those checks should go away ...

commit 8f39a4c6e11b25c4a5587798ad482af5899e44e5
Author: David Brownell <david-b@pacbell.net>
Date:   Mon Jan 5 22:19:09 2004 -0800

    [PATCH] USB: add goku_udc driver (Toshiba TC86C001 USB device)
    
    This patch implements the "USB Gadget" API using the
    "Goku-S" (TC86C001) full speed usb device controller.
    
    It's passed testing with Gadget Zero, g_ether (full
    CDC Ethernet support), gadgetfs, and most interestingly
    Alan Stern's "File Storage Gadget" (FSG, talking to
    Linux or Windows as a usb-storage device) to give the
    halt processing a good workout.  Control-OUT works.
    Tested mostly on x86, with reported success on MIPS.
    
    As well as being directly useful with that hardware,
    I think this is small and simple enough to be useful
    as an example of how to write a USB controller driver.
    (There will be many more controller drivers than gadget
    drivers, I suspect ...)
    
    Please merge this to the next 2.6 release that takes
    new drivers.  Corresponding updates for kbuild and the
    various gadget drivers will be coming (not in a flood).

commit 84739eca26e6bd1de3a312075b393b974b87c450
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 5 22:18:50 2004 -0800

    [PATCH] USB: add a new pl2303 device id.
    
    Thanks to Stefan Verkoyen <stefan.verkoyen@quesd.com> for the information.

commit bd2e261c6bb2e53bb07dc816cce9e3cb4684f8f3
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Jan 5 21:55:44 2004 -0800

    USB: add legotower driver to main usb makefile

commit dc66891af1c871351b1f7dc47351504355dfb24f
Author: Mickael Marchand <marchand@kde.org>
Date:   Mon Jan 5 18:26:01 2004 -0500

    [libata sata_sil] add support for adaptec 1210sa, 4-port sii 3114

commit a64cab23149fcc53325773074f3f203c2ed0eda0
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Jan 5 18:22:09 2004 -0500

    [libata sata_svr] fix DRV_NAME to reflect actual driver filename

commit 30cbd07c4c8c5bc1943017947d0d49e0cb5ee2d5
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 6 00:13:20 2004 +0100

    [WATCHDOG] 2.6.0-rc1 amd7xx_tco.c-nowayout.patch
    
    Fix compile error in amd7xx_tco.c after latest nowayout change

commit a25d40f1c07a649b49566ff0fa2af61341657c99
Merge: f73e9f0... 45ca6c0...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Jan 5 17:57:58 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/libata-2.5

commit b6034f306b581a70b2edf679095f7f989cfdb45d
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Mon Jan 5 10:12:21 2004 -0600

    64 bit updates for Workbit NinjaSCSI driver
    
    From: 	GOTO Masanori <gotom@debian.or.jp>
    
    Thanks for your report.  I compiled and exactly I saw some warnings on
    amd64 machine.  I checked all warnings, and these warnings are
    trivial, they can be easily fixed.  I attached the patch to fix
    warnings.  Nsp32 is PCI device driver, so it should also work on amd64
    architecture.

commit 55132073f496410da38bce24135400c4a7270a46
Author: Mike Christie <mikenc@us.ibm.com>
Date:   Mon Jan 5 10:08:51 2004 -0600

    [PATCH] Initio 9100u
    
    The attached patch adds the cpu_to_le32 calls just in case. It was built
    against my previous patch.

commit 488bade3b01a27316fa5e6197e73f75d54b4ade6
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 5 10:03:53 2004 -0600

    [PATCH] fix inia100 driver
    
    John W Fort helped me debugging the brown paperbag bugs, the patch below
    makes it work.

commit 24ecbc8474206aa5ed368bd7347f47143be8a0a1
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Sun Jan 4 21:09:39 2004 -0800

    Many files:
      ia64: Cleanup EXPORT_SYMBOL usage
    
    	This cleans up the use of EXPORT_SYMBOL in ia64_ksyms.c by
    	moving most of them to the place where the symbol is defined.
    	Ideally, only symbols defined in assembler sources should
    	remain here, but there are some cases where an EXPORT_SYMBOL
    	is missing outside the arch/ia64 tree.  I did not change them
    	for now.  Also, EXPORT_SYMBOL_NOVERS is obsolete.

commit 251d96a73949be5f91aa52d68e7906ed5fca9605
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Sun Jan 4 19:16:25 2004 -0800

    ia64: Skip zero-length resources in PCI root bridge _CRS.  This fixes
    some ugly messages that used to show up on Tiger and other Intel
    boxes:
    
            alloc 0xffffffff-0x0 from PCI mem for PCI Bus 0000:02 failed
            alloc 0xffffffff-0x0 from PCI mem for PCI Bus 0000:08 failed
            alloc 0xffffffff-0x0 from PCI mem for PCI Bus 0000:08 failed
            alloc 0xffffffff-0x0 from PCI mem for PCI Bus 0000:08 failed
            alloc 0xffff-0x0 from PCI IO for PCI Bus 0000:08 failed
            alloc 0xffffffff-0x0 from PCI mem for PCI Bus 0000:09 failed
            alloc 0xffffffff-0x0 from PCI mem for PCI Bus 0000:0f failed

commit f05feef00a7fab0ce74460f071e4400a7e315bfc
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sat Jan 3 14:59:02 2004 +0100

    [WATCHDOG] 2.6.0-rc1 spelling-fixes-whether.patch
    
    Spelling fixes - whether

commit 6cb263df51a17285bfbfad8f563c08ce284ab887
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sat Jan 3 01:46:51 2004 +0100

    [WATCHDOG] 2.6.0-rc1 amd7xx_tco.module_param.patch
    
    Made nowayout a module_parameter

commit 792d0cea8c2703f7840f988baffa3bb9a8fd2ca7
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sat Jan 3 01:35:30 2004 +0100

    [WATCHDOG] 2.6.0-rc1 ib700wdt-version-comment.patch
    
    remove "for Linux 2.4.x" in the ib700wdt.c driver

commit cb1d92f6e8f730b770d1ed6e4e20043fe58d1d89
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sat Jan 3 01:31:52 2004 +0100

    [WATCHDOG] 2.6.0-rc1 -ENOIOCTLCMD.patch
    
    Make the default return value for the ioctl commands that don't exist = -ENOIOCTLCMD

commit c09b0a365c8a80cd0e9fb2b8149cf36da071c858
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sat Jan 3 01:10:24 2004 +0100

    [WATCHDOG] 2.6.0-rc1 cleanup-spaces-tabs.patch
    
    Cleanup of trailing spaces, tabs, ...

commit 8c30fef8814eb5784fd659d33dfb0c1df3bfebaa
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sat Jan 3 00:06:45 2004 +0100

    [WATCHDOG] 2.6.0-rc1 _is_open.patch
    
    Make _is_open code consistent for all watchdog-drivers

commit a74c51c3c2fb5e3e43bdd85b34b402a9b7431a26
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Fri Jan 2 23:52:53 2004 +0100

    [WATCHDOG] 2.6.0-rc1 i810-tco.c.nowayout.patch
    
    Fix nowayout handling to the way all other watchdog-drivers do it

commit df21fd50cf41cab7b5f367d6d0557f16fda7f9a8
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Fri Jan 2 23:44:57 2004 +0100

    [WATCHDOG] 2.6.0-rc1 expect_close.patch
    
    Made the behaviour and syntax of expect_close the same for all watchdog-drivers

commit 35cc1fac53bbc514ec48e503af94d277b26150e3
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Fri Jan 2 23:08:45 2004 +0100

    [WATCHDOG] 2.6.0-rc1 - iminor(inode).patch
    
    get rid of unnecessary iminor(inode) code in watchdog's open and close functions.

commit 1537e569b756c246aa59c44cef4f28f1b5aebf9e
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Thu Jan 1 22:33:24 2004 -0800

    ia64: fix potential deadlocks due to printk()
    
    	Remove all debug printk() for routines which are called with a
    	runqueue lock held, since those could trigger a deadlock.

commit 3e101acb3c152e2fdb96468af050731d8962e7c5
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Thu Jan 1 19:26:20 2004 +0100

    [Bluetooth] Convert interrupt handlers to use irqreturn_t
    
    This patch changes the interrupt routines to make use of the
    irqreturn_t return values.

commit 3eb0ce2459509c2f3611039051be1bff5146475c
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Dec 31 00:12:43 2003 -0500

    [VIDEO]: kbuildify the promcons_tbl and logo source files

commit 45ca6c0f2ec39ad2e0b194fc79c50c52c4b6c8f5
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Dec 30 09:46:09 2003 -0500

    [libata sata_sil] unmask interrupts during initialization
    
    Prudent in general, and needed for Adaptec BIOSes.

commit e89502bf9d0ac11d3b1fe982375316e63740f022
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Sun Dec 28 17:08:07 2003 +0100

    [Bluetooth] Support for Broadcom Blutonium
    
    This adds a driver for the the Broadcom Blutonium USB devices. The devices
    with Broadcom chips need a firmware loading sequence before they can work
    like any other Bluetooth H:2 USB device.

commit 2c72497dab5c04a1a981b046804118e37b5379e2
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Sat Dec 27 21:54:39 2003 +0100

    [Bluetooth] Improve blacklist handling
    
    This patch uses the default ID list to ignore the Broadcom BCM2033 devices
    without firmware. If it not handles a device or a interface it now returns
    ENODEV to not fill the kernel log with unneeded errors.

commit 25da7c2645587dabb8d1d1e7e4973a781cee2979
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Mon Dec 22 23:18:01 2003 +0100

    [Bluetooth] Add missing maintainer entries for the Bluetooth subsystem
    
    This patch adds the missing maintainer entries for the CAPI message
    transport protocol and the BlueFRITZ! USB drivers.

commit b8bb8407e957527bf6a8a33ca47b5c1e51dae342
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Mon Dec 22 23:11:06 2003 +0100

    [Bluetooth] Add CAPI message transport protocol support
    
    This adds support for the CAPI message transport protocol (CMTP)
    to the Bluetooth subsystem.

commit bd6576ac3496b409ad42c59f61d79303b8653c25
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Sun Dec 21 21:28:19 2003 +0100

    [Bluetooth] Update the Kconfig entry for the BlueFRITZ! USB driver
    
    The BlueFRITZ! USB driver must use "select" to enable the firmware
    loader, because the option "enable" is deprecated.

commit ab29fa8ce76c12f57f1b42c83831fceb58c6eb7b
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Fri Dec 19 21:47:56 2003 +0100

    [Bluetooth] Add module aliases for the Bluetooth protocols
    
    This patch adds the missing module alias definitions for the various
    Bluetooth protocols.

commit e9bcb525f0b1855139c63f343ce8d1b460460730
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Fri Dec 19 21:36:46 2003 +0100

    [Bluetooth] Correct the module alias for the network family
    
    The module alias for PF_BLUETOOTH was placed in the BNEP module, but it
    has to be in the Bluetooth core module.

commit 953fea0a25b55900cd677076b411d29d31651816
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Fri Dec 19 21:34:22 2003 +0100

    [Bluetooth] Support for AVM BlueFRITZ! USB
    
    This adds a driver for the AVM BlueFRITZ! USB devices. The devices
    from AVM do not follow the Bluetooth specification part H:2 and thus
    they need their own driver.

commit b71e5b7844cd7335cd5069b231b928d12e0d360e
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Thu Dec 18 15:10:39 2003 +0100

    [Bluetooth] Remove USB zero packet option
    
    This patch removes the USB zero packet option from the HCI USB
    Bluetooth driver, because it is useless. It also corrects the
    config name of the SCO audio support.

commit e6348be63b0bdc990e17c2652fdd70e3ac8ee26b
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Thu Dec 18 14:50:39 2003 +0100

    [Bluetooth] Support inquiry results with RSSI
    
    The Bluetooth 1.2 specification defines a new event for returning
    inquiry results. This patch converts this event into the standard
    event and add its information to the inquiry cache.

commit 8a0de5ab7f7fa82b6b72a379e635a55de5ccdd38
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Thu Dec 18 14:30:45 2003 +0100

    [Bluetooth] Update HCI security filter
    
    This patch is a very big update to the HCI security filter. It consists
    of every forgotten commands/events from Bluetooth 1.1 and also the new
    parts from the Bluetooth 1.2 specification.

commit 70f5bd04617bbf3e9367f885e027293e6f007117
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Thu Dec 18 14:24:55 2003 +0100

    [Bluetooth] Add support for an old ALPS module
    
    This patch adds the specific vendor and product id's for an old
    ALPS module which don't uses the USB Bluetooth class id.

commit 39381f7015cd6959fb0375db8cfbe5b3bbe17a99
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Thu Dec 18 14:23:10 2003 +0100

    [Bluetooth] Add support for the Digianswer USB devices
    
    The Digianswer USB Bluetooth devices uses a bRequestType of 0x40
    for HCI commands, but the Bluetooth specification says that the
    correct value is 0x20. This patch sets the needed value according
    to the vendor and product id's of the Bluetooth device.

commit 3e398d353785463d377e01817a6fa4fa6cb6b98e
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Thu Dec 18 14:17:08 2003 +0100

    [Bluetooth] Always use two ISOC URB's
    
    This patch modifies the USB Bluetooth driver to use two ISOC URB's
    per RX and TX transfer paths. This is needed for in time transfer
    of SCO audio packets over HCI.

commit 1b206f444adac8219ea0c5b000249b1bcdb38e0a
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Thu Dec 18 14:08:00 2003 +0100

    [Bluetooth] Disable credit based flow control by default
    
    The credit based flow control must be disabled by default for compatibility
    with Bluetooth 1.0b devices. This patch makes CFC a session attribute,
    introduces CFC states and cleans up the CFC logic.

commit 89d1701495a592b40c8e2f173c3cebfa78582d02
Merge: d66e0a0... d5f09dc...
Author: Dave Kleikamp <shaggy@shaggy.austin.ibm.com>
Date:   Wed Dec 17 20:12:10 2003 -0600

    Merge jfs@jfs.bkbits.net:linux-2.5
    into shaggy.austin.ibm.com:/home/shaggy/bk/jfs-2.5

commit 11afe463de78e8231ef20c1774f8d41defcab683
Merge: 5f48038... 4f59603...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Dec 17 17:42:27 2003 -0500

    Merge intel.com:/home/lenb/bk/linux-acpi-test-2.6.0
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.0

commit 4f5960343e708af682bd9e6b7cea4965fc87d331
Merge: 7af0f30... 67e9bb6...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Dec 17 17:38:44 2003 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.0
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.0

commit d5f09dc51a3111954b9a3cd9e9afdfd8a6340fb3
Merge: 87b60bd... 67e9bb6...
Author: Dave Kleikamp <jfs.adm@hostme.bitkeeper.com>
Date:   Wed Dec 17 13:24:02 2003 -0800

    Merge bk://linux.bkbits.net/linux-2.5
    into hostme.bitkeeper.com:/repos/j/jfs/linux-2.5

commit 5f480388e7c5a5ce489f0833e3941a9ddffddf8b
Merge: 7af0f30... 67e9bb6...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Dec 17 14:23:14 2003 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.0
    into intel.com:/home/lenb/bk/linux-acpi-test-2.6.0

commit 7af0f30f680ad417cbc7475bd842e0f1fd511d8b
Author: Len Brown <len.brown@intel.com>
Date:   Mon Dec 15 16:56:38 2003 -0500

    [ACPI] set acpi_disabled=1 on failure for clean /proc
      http://bugzilla.kernel.org/show_bug.cgi?id=991

commit 434b274f11d882dc1ae2e7e29a30f5f608243056
Author: Len Brown <len.brown@intel.com>
Date:   Mon Dec 15 15:38:44 2003 -0500

    [ACPI] /proc/acpi files appear in /proc if acpi=off (Shaohua David Li)

commit 1589887aed3981903230c6036df8f7eae62a9423
Author: Len Brown <len.brown@intel.com>
Date:   Mon Dec 15 09:47:09 2003 -0500

    [ACPI] delete old _TRA code formerly used just by IA64. (Bjorn Helgaas)
    The current approach is to walk the _CRS in pcibios_scan_root()
    using acpi_walk_resources().

commit b29ea22d22097adf1de906d8bddae051cae880ae
Author: Len Brown <len.brown@intel.com>
Date:   Thu Dec 11 13:15:27 2003 -0500

    [ACPI] Update Linux to ACPICA 20031203 (Bob Moore)
    
    Changed the initialization of Operation Regions during subsystem init to
    perform two entire walks of the ACPI namespace; The first to initialize
    the regions themselves, the second to execute the _REG methods.  This
    fixed some interdependencies across _REG methods found on some machines.
    
    Fixed a problem where a Store(Local0, Local1) could simply update the
    object reference count, and not create a new copy of the object if the
    Local1 is uninitialized.
    
    Implemented support for the _SST reserved method during sleep
    transitions.
    
    Implemented support to clear the SLP_TYP and SLP_EN bits when waking up,
    this is apparently required by some machines.
    
    When sleeping, clear the wake status only if SleepState is not S5.
    
    Fixed a problem in AcpiRsExtendedIrqResource() where an incorrect
    pointer arithmetic advanced a string pointer too far.
    
    Fixed a problem in AcpiTbGetTablePtr() where a garbage pointer could be
    returned if the requested table has not been loaded.
    
    Within the support for IRQ resources, restructured the handling of the
    active and edge/level bits.
    
    Fixed a few problems in AcpiPsxExecute() where memory could be leaked
    under certain error conditions.
    
    Improved error messages for the cases where the ACPI mode could not be
    entered.

commit ea9c6d74d6b020549af96b3829f531cc365fcc9d
Author: Len Brown <len.brown@intel.com>
Date:   Thu Dec 11 12:48:32 2003 -0500

    [ACPI] update Linux to ACPICA 20031029 (Bob Moore)
    
    Fixed a problem where a level-triggered GPE with an associated _Lxx
    control method was incorrectly cleared twice.
    
    Fixed a problem with the Field support code where an access can occur
    beyond the end-of-region if the field is non-aligned but extends to the
    very end of the parent region (resulted in an AE_AML_REGION_LIMIT
    exception.)
    
    Fixed a problem with ACPI Fixed Events where an RT Clock handler would
    not get invoked on an RTC event.  The RTC event bitmasks for the PM1
    registers were not being initialized properly.
    
    Implemented support for executing _STA and _INI methods for Processor
    objects.  Although this is currently not part of the ACPI specification,
    there is existing ASL code that depends on the init-time execution of
    these methods.
    
    Implemented and deployed a GetDescriptorName function to decode the
    various types of internal descriptors.  Guards against null descriptors
    during debug output also.
    
    Implemented and deployed a GetNodeName function to extract the
    4-character namespace node name.  This function simplifies the debug and
    error output, as well as guarding against null pointers during output.
    
    Implemented and deployed the ACPI_FORMAT_UINT64 helper macro to simplify
    the debug and error output of 64-bit integers.  This macro replaces the
    HIDWORD and LODWORD macros for dumping these integers.
    
    Updated the implementation of the Stall() operator to only call
    AcpiOsStall(), and also return an error if the operand is larger than
    255.  This preserves the required behavior of not relinquishing the
    processor, as would happen if AcpiOsSleep() was called for "long
    stalls".
    
    Constructs of the form "Store(LocalX,LocalX)" where LocalX is not
    initialized are now treated as NOOPs.
    
    Cleaned up a handful of warnings during 64-bit generation.
    
    Fixed a reported error where and incorrect GPE number was passed to the
    GPE dispatch handler.  This value is only used for error output,
    however.  Used this opportunity to clean up and streamline the GPE
    dispatch code.

commit 0513b8acd9f230a11abe7b1752cac0b1892ce9df
Author: Len Brown <len.brown@intel.com>
Date:   Thu Dec 11 12:44:03 2003 -0500

    [ACPI] revert two fixes in preparation for ACPICA merge

commit a07bfd00e5d942a7c4312016c19b4af14edccc75
Author: Len Brown <len.brown@intel.com>
Date:   Thu Dec 11 11:19:52 2003 -0500

    [ACPI] replace multiple flags with acpi_noirq -- ala 2.4

commit 1c26786485fbe12c30ab3abf9a162130b9d31a00
Merge: fa934cc... 8cc86c0...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Dec 10 16:06:07 2003 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.0
    into intel.com:/home/lenb/bk/linux-acpi-test-2.6.0

commit fa934cc94c61165a8c29a24c6d8ada8e29c58102
Author: Len Brown <len.brown@intel.com>
Date:   Wed Dec 10 13:49:41 2003 -0500

    [ACPI] set APIC ACPI SCI OVR default to level/low
      http://bugzilla.kernel.org/show_bug.cgi?id=1351

commit d66e0a0b7d870afdc6a5350a5049eb73c315d838
Merge: 5beaf8d... 87b60bd...
Author: Dave Kleikamp <shaggy@shaggy.austin.ibm.com>
Date:   Wed Dec 10 05:42:51 2003 -0600

    Merge jfs@jfs.bkbits.net:linux-2.5
    into shaggy.austin.ibm.com:/home/shaggy/bk/jfs-2.5

commit 87b60bd291ef83530ecd057d4aff37d36ab5eba9
Merge: 85119d3... 8cc86c0...
Author: Dave Kleikamp <jfs.adm@hostme.bitkeeper.com>
Date:   Tue Dec 9 23:30:52 2003 -0800

    Merge bk://linux.bkbits.net/linux-2.5
    into hostme.bitkeeper.com:/repos/j/jfs/linux-2.5

commit 5beaf8df770d4c604a89d317e639cb7ed2345120
Author: Dave Kleikamp <shaggy@shaggy.austin.ibm.com>
Date:   Mon Dec 8 22:14:23 2003 -0600

    JFS: Fix broken return code checking in ACL code

commit 85119d3366bdd6358e592b66f9407de5e6f93927
Merge: 9415ebf... 6f781f0...
Author: Dave Kleikamp <jfs.adm@hostme.bitkeeper.com>
Date:   Sun Dec 7 19:41:46 2003 -0800

    Merge bk://linux.bkbits.net/linux-2.5
    into hostme.bitkeeper.com:/repos/j/jfs/linux-2.5

commit f2e90a1e6c89913e626f1e54710b78ae2c380b0f
Author: Len Brown <len.brown@intel.com>
Date:   Tue Dec 2 11:25:24 2003 -0500

    [ACPI] add warning to thermal shutdown (Pavel Machek)

commit 9415ebfa59089676b4ce825bb0731614f73da20a
Merge: 0f2c31e... e689bf5...
Author: Dave Kleikamp <shaggy@shaggy.austin.ibm.com>
Date:   Mon Dec 1 21:19:45 2003 -0600

    manual merge

commit febc94c59ebe2ea3c13620a3b3dd719af590dfee
Author: Len Brown <len.brown@intel.com>
Date:   Sat Nov 29 17:19:35 2003 -0500

    [ACPI] sync with 2.4.23
    Re-enable IRQ balacning if IOAPIC mode
    http://bugzilla.kernel.org/show_bug.cgi?id=1440
    
    Also allow IRQ balancing in PIC mode if "acpi_irq_balance"
    http://bugzilla.kernel.org/show_bug.cgi?id=1391

commit 46313e34890f278f628619f5f35faec21afeb778
Merge: 1c886c6... e689bf5...
Author: Len Brown <len.brown@intel.com>
Date:   Fri Nov 28 11:44:50 2003 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.0
    into intel.com:/home/lenb/bk/linux-acpi-test-2.6.0

commit 0f2c31e8b1e762ba44c2d7860daa88be8da806ac
Merge: 6aa1161... a9f1ac6...
Author: Dave Kleikamp <shaggy@shaggy.austin.ibm.com>
Date:   Mon Nov 24 23:00:52 2003 -0600

    Merge shaggy.austin.ibm.com:/home/shaggy/bk/linus-2.5
    into shaggy.austin.ibm.com:/home/shaggy/bk/jfs-2.5

commit a9f1ac69757175bbfdbaa08ab10161968ce369db
Author: Dave Kleikamp <shaggy@shaggy.austin.ibm.com>
Date:   Mon Nov 24 22:56:08 2003 -0600

    JFS: Avoid segfault when dirty inodes are written on readonly mount
    
    Writes to a device may cause a ->write_inode to be called during a read-only
    mount.  JFS needs to check for NULL log in jfs_flush_journal.

commit e10e81fb50e000d8e57752407c7bf0d97abc0002
Merge: a3d93eb... b896b82...
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Sun Nov 23 18:29:26 2003 -0800

    Merge us.ibm.com:/home/sridhar/BK/lksctp-2.5.work
    into us.ibm.com:/home/sridhar/BK/lksctp-2.6.0-test10

commit 6aa1161d12eb97295567ffd954f337f5c821491a
Merge: 9b81ae7... a3d93eb...
Author: Dave Kleikamp <jfs.adm@hostme.bitkeeper.com>
Date:   Sun Nov 23 13:13:59 2003 -0800

    Merge bk://linux.bkbits.net/linux-2.5
    into hostme.bitkeeper.com:/repos/j/jfs/linux-2.5

commit b896b82be4ae40edc91f6ad8b8d63a995f3c9771
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Thu Nov 20 19:36:48 2003 -0800

    [SCTP] ADDIP: Support for processing incoming ASCONF_ACK chunks.

commit 1c886c6dd6cfd505e93ac2abe2d847d4e4ab0af4
Author: Len Brown <len.brown@intel.com>
Date:   Thu Nov 20 15:43:17 2003 -0500

    [ACPI] prevent ES7000 tweak from breaking i386 IOAPIC (Andrew de Quincey)

commit bbdbb8410a4db3d0e6b2a7a458aed1e0a0bafe59
Author: Len Brown <len.brown@intel.com>
Date:   Wed Nov 19 19:49:51 2003 -0500

    [ACPI] fix compiler warning (Andrew Morton)

commit 9bd1324473a8b70aebaf62d81a9f92f0d558d7e1
Merge: 44cb023... 7ceef5c...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Nov 19 01:33:08 2003 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.0
    into intel.com:/home/lenb/bk/linux-acpi-test-2.6.0

commit 9b81ae7b6dc88e4385b8fb2eb5650be7f5f1eef4
Merge: 44cb023... 310df83...
Author: Dave Kleikamp <jfs.adm@hostme.bitkeeper.com>
Date:   Tue Nov 18 20:08:13 2003 -0800

    Merge bk://linux.bkbits.net/linux-2.5
    into hostme.bitkeeper.com:/repos/j/jfs/linux-2.5

commit 7ceef5c3fb1bd91e37f6f70a046324f6b46cb64a
Author: Len Brown <len.brown@intel.com>
Date:   Mon Nov 17 17:51:16 2003 -0500

    [ACPI] "acpi_pic_sci=edge" in case platform requires Edge Triggered SCI
    http://bugzilla.kernel.org/show_bug.cgi?id=1390

commit bc54efaea7fb05c700a514d48cced2c1beb31026
Author: Len Brown <len.brown@intel.com>
Date:   Mon Nov 17 15:17:48 2003 -0500

    [ACPI] print_IO_APIC() only after it is programmed
    http://bugzilla.kernel.org/show_bug.cgi?id=1177

commit f7991d03b428e89e6494900c68552ec9bc7c3232
Merge: f2b4a98... e10971b...
Author: Len Brown <len.brown@intel.com>
Date:   Mon Nov 17 12:01:11 2003 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.0
    into intel.com:/home/lenb/bk/linux-acpi-test-2.6.0

commit c4fdf856b13b1f130851eaaffaa2108e1e7300aa
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Thu Nov 13 19:25:42 2003 -0800

    [SCTP] Fix overflow in the macros JIFFIES_TO_MSECS/MSECS_TO_JIFFIES
           when used with large values.

commit 310df831a5036602bc50c0ef406148a9be53b91c
Merge: ec004d5... 7c81727...
Author: Dave Kleikamp <jfs.adm@hostme.bitkeeper.com>
Date:   Mon Nov 10 15:16:20 2003 -0800

    Merge bk://linux.bkbits.net/linux-2.5
    into hostme.bitkeeper.com:/repos/j/jfs/linux-2.5

commit e10971b8ec8187cffb4e360030b5eb247ecf886d
Merge: ec004d5... 5e562ca...
Author: Len Brown <len.brown@intel.com>
Date:   Mon Nov 10 12:41:42 2003 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.0
    into intel.com:/home/lenb/bk/linux-acpi-test-2.6.0

commit ce0369a4b1ce29dddf3aaa553489bded08697bb5
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Sun Nov 9 19:47:43 2003 -0800

    [SCTP] Fix the duplicate increment of checksum error counter and
           counting bad packet errors as checksum errors.

commit 5bad7e07adb3cd1dd06eea15bcd31eb62a0e0837
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Sun Nov 9 19:35:49 2003 -0800

    [SCTP] Fix to free associations in the accept queue of a one-to-one
           style listening socket that is closed.

commit 5e562ca4e072f38030fb504cb95303bb9051be01
Author: Len Brown <len.brown@intel.com>
Date:   Fri Nov 7 08:21:48 2003 -0500

    [ACPI] In ACPI mode, delay print_IO_APIC() to make its output valid.
    http://bugzilla.kernel.org/show_bug.cgi?id=1177

commit bae885e8096948476aa47093d7097312211b5e04
Author: Len Brown <len.brown@intel.com>
Date:   Fri Nov 7 07:50:18 2003 -0500

    [ACPI] If ACPI is disabled by DMI BIOS date, then
    turn it off completely, including table parsing for HT.
    This avoids a crash due to ancient garbled tables.
    acpi=force is available to over-ride this default.
    http://bugzilla.kernel.org/show_bug.cgi?id=1434

commit 7c81727b9b5e767d50fd72edaa53187b096a1647
Merge: 3f5ae09... 2d208e7...
Author: Dave Kleikamp <jfs.adm@hostme.bitkeeper.com>
Date:   Sun Nov 2 15:33:03 2003 -0800

    Merge bk://linux.bkbits.net/linux-2.5
    into hostme.bitkeeper.com:/repos/j/jfs/linux-2.5

commit 2d208e74a169606812626b4d9107e0fded8519d4
Merge: a8f9759... 37a734c...
Author: Dave Kleikamp <jfs.adm@hostme.bitkeeper.com>
Date:   Wed Oct 29 16:32:29 2003 -0800

    Merge bk://linux.bkbits.net/linux-2.5
    into hostme.bitkeeper.com:/repos/j/jfs/linux-2.5

commit 592e6a4dd7001ab0fd3b1641b827a49f52eb1aab
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Tue Oct 28 01:19:26 2003 -0800

    [SCTP] ADDIP: Add sysctl parameter to enable/disable addip.

commit 12517084679d63be659b2b52f860506a2fce3a92
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Tue Oct 28 00:15:12 2003 -0800

    [SCTP] Remove the extra semicolon in sctp_cacc_skip_3_1().

commit 1967937f84af220e81165d05a32f63f358e043d6
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Tue Oct 28 00:12:52 2003 -0800

    [SCTP] ADDIP: Support for processing ASCONF chunks and respond with
           ASCONF_ACK chunks.
