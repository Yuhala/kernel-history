commit 0a912921292ec744448f9462e46c31928f422f01
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 10 02:52:41 2004 -0800

    Linux 2.6.4

commit a1ee5595749a7ab726666aaa975595b059cc80d8
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Mar 10 02:07:03 2004 -0800

    [PATCH] Fix lockup accessing config space on G5
    
    This patch fixes the code that workaround lockups when accessing
    the config space of devices on K2 when they are shut down. The
    code was there but in the wrong place ;) And a typo prevented the
    ohci1394 version of it from working.

commit 4838bc638e3f132a240616e7d6f63e1b0b994769
Merge: ac464b3... d57064b...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 10 01:57:59 2004 -0800

    Merge bk://gkernel.bkbits.net/net-drivers-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit d57064b7d71712145beff4f697683b043579d7ee
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Wed Mar 10 10:32:25 2004 -0500

    [PATCH] pcnet32.c oops
    
    When adding an additional device, a variable which has been removed
    is accessed.  Adding the first device or a 4-port card works.
    Adding a second device was not done in PCI hot plug testing.  Now
    tested on IA32.

commit ac464b3f42c4fdce012f5f53c39be2448be56469
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 10 01:11:46 2004 -0800

    Make bad_page() print out the page address.
    
    The bug turned out to be memory corruption by DMA, and
    the corrupted address made it that much more obvious.

commit 6c5446e40ff3f07bb88bb612921aa8a0abee14ee
Author: David Brownell <david-b@pacbell.net>
Date:   Wed Mar 10 00:42:49 2004 -0800

    [PATCH] Proper OHCI unlink fix.
    
    Getting some blood sugar made the real fix for that become
    obvious! This replaces the preceding TEMPORARY hack.
    
    Only unlink EDs that aren't already being unlinked!
    
    Duh.

commit b468eef03e7140e011eea19506e53aa68bcf4554
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Mar 9 23:31:03 2004 -0800

    [PATCH] USB: fix OHCI list corruption
    
    Fix some OHCI TD list corruption issues:
    
        - Don't rewrite HC registers holding ED pointers until the HC
          had a good chance to finish using them.
    
        - Don't ever modify ed->hwTailP
    
    Adds text describing the different ED states.
    
    Adds TEMPORARY hack that may make a "rm_list becomes circular" bug
    continuable.

commit 87a5b745c67aae71ce5594f698a88f947bb17508
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 9 23:12:33 2004 -0800

    Revert 8259 timer ack workaround
    
    This patch was trying to work around buggy SMM bios but causes problems
    by not deasserting NMI irq line (reported by Thomas Schlicht) for some
    integrated local apic.
    
    This patch was written originally as an optimization (with the side
    effect to fix those bugged bios) but was never applied to 2.4 tree.
    
    The rational was: fix your bios instead.
    
    Cset exclude: akpm@osdl.org|ChangeSet|20040219045328|16041

commit 4eedca382c529d7956c9ae9a06fb5042de080502
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 9 18:15:22 2004 -0800

    [PATCH] tty oops fix
    
    From: William Lee Irwin III <wli@holomorphy.com>
    
    Remember to invalidate the task->tty of threads, otherwise prod_pid_stat()
    later stumbles over the dangling pointers and crashes.

commit 3a1bf819d6e70640757841c976b797d601c5c075
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 9 17:32:40 2004 -0800

    Make bad_page() print out information about who triggered it.
    
    The condition still seems to happen on ppc64.

commit e55b73a3f78c12322ca30c0617771c1267532423
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 9 16:45:53 2004 -0800

    Remove 'const' from min/max, to avoid gcc warning about double usage.

commit d4aecd1a8f2bf7bb4c5f57ff5e8f80e6654a1f14
Author: Petr Vandrovec <vandrove@vc.cvut.cz>
Date:   Tue Mar 9 15:58:42 2004 -0800

    [PATCH] ncpfs fails to correctly retry requests on timeout
    
    sock_sendmsg() modifies iovec passed to it - it sets all length members of
    iovec array to zero on success transmission (and even on failed if it
    fails after iovec copy, but...) and advances pointers to point at the end
    of buffers used. This has an unfortunate effect that ncpfs's retry on
    failure does not work for IPX/UDP connections - kernel refused to do anything
    because length from iovec was 0 while length passed to sock_sendmsg() was
    correct.
    
    This simple fix gets rid of a problem by creating temporary iovec copy, which can
    sock_sendmsg destroy if it has such wish.

commit 88593e9d22a5f91ef216fa30e2851ece22b7ade0
Author: Gerd Knorr <kraxel@bytesex.org>
Date:   Tue Mar 9 15:58:32 2004 -0800

    [PATCH] bttv input update
    
    This adds infrared remote support for a few more bt878-based TV cards.

commit c50469347289c21017cf62241b28d8d74b02123c
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Mar 9 15:58:22 2004 -0800

    [PATCH] set request fastfail bit correctly
    
    From Mike Christie <michaelc@cs.wisc.edu>
    
    The first three bio and request flags are no longer identical.  The bio
    barrier and rw flags are getting set in __make_request and get_request
    respectively, and failfast is getting left out.
    
    This sets the request's failfast flag in __make_request when the bio's
    flag is set.

commit c5e296f532afb411051444f64016755a07cdcd4b
Author: Anton Blanchard <anton@samba.org>
Date:   Tue Mar 9 15:58:13 2004 -0800

    [PATCH] ppc64 POWER3 segment table fix
    
    The ppc64 fix last week (enforcing permissions on the kernel when
    accessing userspace pages) uncovered a bug on POWER3/RS64. We werent
    zeroing the segment table entry before overwriting it and it was possible
    for the ks bit to be set on a kernel segment.
    
    The VSID mask was also changed to match reality (we only use 13 bits).

commit 0b5403cfd5e43f23b79d6a5fc0c1817b9813ed1a
Merge: a3c454e... bb60cd0...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 9 15:44:05 2004 -0800

    Merge bk://are.twiddle.net/axp-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit bb60cd0766426f857a73deb79fc971c809628caa
Author: Richard Henderson <rth@kanga.twiddle.home>
Date:   Tue Mar 9 05:05:04 2004 -0800

    [ALPHA] Add stat64 syscalls.

commit a3c454e1fa1c14183980ef2f96d439890df8221b
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Mar 9 04:14:48 2004 -0800

    [PATCH] ppc64: Let OF initialize all displays in the system
    
    This patch reworks the early boot calls to OF to initialize displays.
    
    All present displays are now initialized in reverse order so the
    OF console stays on the first one. Initializing them all is necessary
    for dual head configurations as we need OF driver to properly setup
    the secondary TMDS of the video card, XFree isn't able to do that
    currently

commit 8661a5ff71c9da30f9b89c10424a5b2a5828bc3f
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Mar 9 04:14:38 2004 -0800

    [PATCH] ppc64: Fix occasional crash at boot in OF interface
    
    The assembly code used to callback into Open Firmware client
    interface in 32 bits mode used to backup the stack pointer in
    the SPRG2 register.
    
    That upsets Apple's implementation of Open Firmware significantly
    and maybe others, causing them to crash in _some_ operations,
    apparently the trigger is to cause a segment or hash table
    fault, typically happens when letting that code initialize the
    second display.
    
    This patch fixes it, along with other cleanups of that asm code,
    it did unnecessary register restores and backing up the stack
    pointer is actually useless anyway.

commit 6fb338db2dc71dc0666e2726fce1d2d9d620bcf3
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Mar 9 02:55:34 2004 -0800

    [PATCH] Fix PCI<->OF matching on G5 AGP bus
    
    Strangely, I though I fixed that a long time ago, but it was still
    broken in the current tree...
    
    Drivers like radeonfb fail to find the OF device matching a given PCI
    device on the G5 AGP bus because of some bus renumbering tricks.  This
    patch fixes the problem by fixing the bus numbers in the OF node.  This
    corrects radeonfb and other drivers looking for EDID / PLL datas in the
    OF node.

commit 98b29a73ccf6775526ac24c2f885bb3112b0ab79
Merge: 6689319... dd6e1c3...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 9 01:03:55 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 6689319ea01e54c1bd2c9461dcc439a9701944dc
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 9 01:03:28 2004 -0800

    Make sure to include syscalls.h to get proper prototypes.
    
    Especially with REGPARM these things actually matter.

commit 98d2702214c70434ab76ac68e34d511fe0a3bb53
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 8 23:55:49 2004 -0800

    Linux 2.6.4-rc3

commit 9e9d9f693c7def3900725c04c6b64311655eea51
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 8 23:47:33 2004 -0800

    [PATCH] pmac_zilog 2/2 : Fix various bugs
    
    This fixes possible lockups in pmac_zilog when beeing flooded with
    incoming data (not that other serial drivers share the same race, I told
    Russel about it already).  It also fixes some SCC initialization
    problems, add some PM callback, and fix the irda setup code.

commit 2881a889fa1962e12d052c10abb2fdc63cabd31a
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 8 23:47:23 2004 -0800

    [PATCH] pmac_zillog 1/2 : Cosmetic only, change "up" to "uap" to avoid collision
    
    This does cosmetic changes the pmac_zilog, changing the use of "up" as
    an identifier in favor "uap" to avoid collision with semaphores, use
    proper debug macros, and a few other cosmetic bits.

commit ad81c27c8bc73e39e3431fd6d85ec17c13f013ae
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 8 23:47:12 2004 -0800

    [PATCH] Print function names during do_initcall debugging
    
    From Jan-Benedict Glaw <jbglaw@lug-owl.de>

commit dd6e1c3dc686ef87475a5d14eb54a9068f9b8819
Author: Olaf Kirch <okir@suse.de>
Date:   Mon Mar 8 23:26:52 2004 -0800

    [IPV6]: Do not report {multi,any}cast in inet6_dump_ifaddr().

commit 345d410399350a11bb7ffde3dfb4abd192808983
Author: Krishna Kumar <krkumar@us.ibm.com>
Date:   Mon Mar 8 23:24:55 2004 -0800

    [IPV4/IPV6]: Add missing kmalloc failure checks.

commit 6e602e591a38a263c2d724e9cb48b179bf1dda66
Author: Jean Tourrilhes <jt@hpl.hp.com>
Date:   Mon Mar 8 21:40:15 2004 -0800

    [IRDA]: Move last of irsyms.c to irmod.c
    
    Original patch from Stephen Hemminger
    
    Move last bits of code out of irsyms and onto irmod.c where
    initialization happens.
    
    Move irda_debug parameter out of irsyms.c into irmod.c
    and make it a new style module parameter.

commit 5f085d75d29b5c6b1e5c12bad3b73078182c17fd
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Mar 8 21:37:29 2004 -0800

    [IRDA]: Move irda_param related exports out of irsyms.

commit 7c43e2a0e34c2498c68059f86a4ccf9a8015752b
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Mar 8 21:36:57 2004 -0800

    [IRDA]: Move qos related exports out of irsyms.

commit 520220ec6e8c00d48b2a06ba4a422e47f4e18d03
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Mar 8 21:36:28 2004 -0800

    [IRDA]: Make irda_get_mtt et al. inline and not defines for better type checking.
    
    irda_device_setup can now be static, only called from alloc_irdadev.

commit 1bf3d880daa8fe8503ef6a0a7f1dc3867f39b9a4
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Mar 8 21:35:32 2004 -0800

    [IRDA]: More irlap exports out of irsyms.

commit 180c0aec701a00ffdd226552a4cde0790447bf8c
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Mar 8 21:35:04 2004 -0800

    [IRDA]: Make irda_start_timer inline rather than exporting.

commit 18111d02f9959ca03d225fc811250e63a91e8ac2
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Mar 8 21:34:28 2004 -0800

    [IRDA]: Move crc16 exports out of irsyms.
    
    Also, make type __u16 rather than unsigned short to
    match input parameter.

commit dcd53e6bf245baa0a43169dc48291407afe0317e
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Mar 8 21:33:26 2004 -0800

    [IRDA]: Move async_wrap function exports out of irsyms.

commit e9183702893bc6944a9daa92c9b8fb23905939ea
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Mar 8 21:32:46 2004 -0800

    [IRDA]: Move irlmp routines out of irsyms.
    
    Also, make get_{saddr,daddr} inline and rename
    lmp_reasons to irlmp_reasons.

commit 94adaf93ec02d472384dee28f81707a8cc61c04d
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Mar 8 21:32:00 2004 -0800

    [IRDA]: Move iriap routines out of irsyms, rename missing to irias_missing.

commit c91f9a41650a0be350ceeff6488238b40694224e
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Mar 8 21:31:15 2004 -0800

    [IRDA]: Move irttp exports out of irsyms.

commit 2ab878cf44e4d496b3453222d4487724b871665b
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Mar 8 21:30:46 2004 -0800

    [IRDA]: Move hashbin exports out of irsyms and into irqueue.

commit 604df7527082638da9fb43dcbad6ce1b51c1b194
Author: Jean Tourrilhes <jt@hpl.hp.com>
Date:   Mon Mar 8 21:30:09 2004 -0800

    [IRDA]: Flush irtty symbols that were exported but never used.

commit a73d4b2f1c05d7aad6e1cec3e13d0112735d869f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Mar 8 21:25:54 2004 -0800

    [IRDA]: Move proc_irda export out of irsyms.c into irproc.c

commit e88141bdbb23973093918f973299ef932b0fe964
Author: Dave Jones <davej@redhat.com>
Date:   Mon Mar 8 17:09:21 2004 -0800

    [PATCH] R128 DRI limits checking.
    
    This got fixed in 2.4, but somehow got missed in 2.6.

commit 4ab286525453ede61663d591e7fbd2a65fba3f2b
Merge: 370d708... 2cb965e...
Author: Richard Henderson <rth@kanga.twiddle.home>
Date:   Mon Mar 8 08:23:58 2004 -0800

    Merge.

commit c5d9af3e1dfc190bda3f1179845172d096bc0b39
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Mon Mar 8 06:49:26 2004 -0800

    [PATCH] Clean up hotplug slab some more
    
    This is a cleaner fix for the previous bogon fix.

commit 3d32d5d04362d08d57b612c24e9475d0f6822bcb
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 8 06:20:06 2004 -0800

    Fix bogon in slab hotplug cleanup from Rusty.

commit bd7c5d213bd9ce4fe616e01616f5d1a8eadffba6
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Mon Mar 8 06:06:22 2004 -0800

    [PATCH] minor slab cleanups for hotplug CPUs
    
    - Move free_block prototype, and ac_entry and ac_data functions up in file.
    
    - Use list_for_each_entry in cpuup_callback.
    
    - Remove unneccessary g_cpucache_up in cpuup_callback.
    
    - Make reap_timer_func take CPU number as data, and check if that is
      offline before rescheduing (noop without CONFIG_HOTPLUG_CPU).

commit 9f989ac807b7ab57b48b0dbf3ddf0274261d52de
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Mon Mar 8 06:06:12 2004 -0800

    [PATCH] remove sparc64's num_possible_cpus()
    
    Levent Serinol <levent.serinol@mynet.com> found that the hotplug cpu
    patch broke Sparc64.  I introduced a num_possible_cpus(), which
    Sparc64 already has.  Remove the Sparc64 one.
    
    I also removed Sparc64's cpu_online() macro: it's in linux/cpumask.h
    already.

commit a59d2e4e6977e7b94e003c96a41f07e96cddc340
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Mon Mar 8 06:06:03 2004 -0800

    [PATCH] minor cleanups for hotplug CPUs
    
    Note that without CONFIG_HOTPLUG_CPU, online cpus == possible cpus, so
    substitutions are a noop.
    
    - Changes show_stat to print out stats for every possible cpu, not
      just online CPUs.
    
    - Allocate mem in stat_open on possible, not online_cpus.
    
    - Add conventient macros to cpu.h: especially cpu_is_offline() for
      testing if a cpu is still online.
    
    - Add a num_possible_cpus() similar to num_online_cpus(), and define
      cpu_possible_mask for UP.
    
    - Allow printk on down cpus once system is running.
    
    - Mask cpumask with possible, not online cpus, for sys_getaffinity().

commit 33a7ddaa6883444f328f1aac78b3612c7c9cfe0b
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Mon Mar 8 06:05:53 2004 -0800

    [PATCH] introduce __drain_pages() to take a CPU number
    
    Extracts core of drain_pages() for hotcpu use.  Trivial.
    
    Hotplug CPU needs to drain pages on a downed CPU (usually it's the
    current cpu).  Introduce "__drain_pages", make the CPU an argument,
    and expose it if CONFIG_HOTPLUG_CPU as well as CONFIG_PM.

commit 409f3569afde11868025c4e5dcf9fee1d39e5d36
Merge: 0628cff... 6cc556b...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 8 05:26:26 2004 -0800

    Merge bk://kernel.bkbits.net/jgarzik/via-crypto-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 0628cffcf56be268cf656a43ed00bc673e728772
Merge: 1af452e... f9bde19...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Mar 8 13:52:07 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/via-crypto-2.5

commit 6cc556b683b627a4c1af85ca0e67679cb5445e03
Merge: 0b2bfc7... 4cb629d...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 8 05:25:45 2004 -0800

    Merge bk://gkernel.bkbits.net/libata-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 4cb629ddcb98c4fa9054d6d2cd97ce7d63440a0d
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Mar 8 12:33:25 2004 -0500

    [libata sata_promise] provide proper SCSI completion function
    
    Promise driver uses a custom error handling function, so we need
    the fix that was applied to the libata core:  the SCSI error
    handling thread requires that we complete commands using a special
    completion function, since the normal one doesn't work inside
    the error handling thread.

commit 2dd844133041a78729cc124a2e00854863a59989
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Mar 8 12:23:20 2004 -0500

    [libata ata_piix] Make sure annoying BIOSen don't disable our interrupts

commit e37388caff6a42258ae8006202adb1ac47ebae6a
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Mar 8 12:06:54 2004 -0500

    [libata] Include linux/suspend.h

commit fde09706c9c9f2a1c145d0b9e3ee4269d5075973
Author: Arjan van de Ven <arjanv@redhat.com>
Date:   Mon Mar 8 11:56:57 2004 -0500

    [PATCH] sata vs suspend-to-ram
    
    The following patch is a very crude one to at least not make sata block
    suspend-to-ram entirely. Probably you want more powermanagement handling as
    well... but it's a start

commit 0b2bfc7da6a654c9e01d6ccf0e42cb4010bcd589
Merge: 1af452e... febd4f2...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 8 05:25:02 2004 -0800

    Merge bk://gkernel.bkbits.net/net-drivers-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit febd4f294ad82b31b56e62d6a3a2550137532ad6
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Mon Mar 8 11:23:53 2004 -0500

    [PATCH] pcnet32 transmit hang fix
    
    The pcnet32 driver will hang after a few frames (<30) with the 79C971
    (and probably the 79C972 though I don't have the hardware to prove it).
    By interrupting slightly more frequently the hang will not occur.

commit d6258fcdba580cbb228c156085aa01695d0c241d
Author: Marc Zyngier <mzyngier@freesurf.fr>
Date:   Mon Mar 8 11:23:45 2004 -0500

    [PATCH] Fix hp100 EISA probing
    
    >>>>> "Pawel" == Pawel Sokolowski <falcon@muflon.linux.pl> writes:
    
    Pawel> This machine has RAM BIOS booted from floppy. I ran it and EISA
    Pawel> configure utility to check this once more. Card is enabled and not
    Pawel> locked. I added eisa_bus.enable_dev=2 parameter but it didn't help much.
    Pawel> I'm getting:
    
    Pawel> EISA: Probing bus 0 at eisa0
    Pawel> EISA: Mainboard HWPC061 detected.
    Pawel> EISA: slot 2 : HWP1940 detected (forced enabled).
    Pawel> EISA: Detected 1 card.
    
    Pawel> I added this final entry you mailed but nothing changed. Still - module
    Pawel> loads and unloads cleanly and without any warnings on 2.6.4-rc1. But
    Pawel> does nothing - not a single line in logs/dmesg after it's loaded. Card
    Pawel> does not work after modprobe, I can't get interface up.
    
    Ok, found it.
    
    It really looks like the new EISA probing code in hp100 never got
    tested, since a precious offset has disappeared during the rewriting
    process.
    
    Please note that you still need to enable the device by hand, since
    your BIOS (or maybe the EISA CFG file, since I'm seeing the exact same
    problem on a Compaq machine here) doesn't properly enable the card.
    
    Here is what I'm getting on my test system :
    
    EISA: Probing bus 0 at 0000:00:0f.0
    EISA: Mainboard CPQ0541 detected.
    EISA: slot 1 : DEC4250 detected.
    EISA: slot 2 : UNB0048 detected.
    EISA: slot 3 : HWP1940 detected (forced enabled).
    hp100: Using (slow) programmed i/o mode.
    hp100: at 0x3c38, IRQ 3, EISA bus, 128k SRAM (rx/tx 75%).
    hp100: Adapter is attached to 10Mb/s network (10baseT).
    EISA: slot 4 : NVL0701 detected.

commit 1af452e4a4cb8ddc83cb3cee6f2bd8cc5b69cb86
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Mon Mar 8 01:12:54 2004 -0800

    [PATCH] make module code use stop_machine.c
    
    Now we've moved the bogolock code out to stop_machine.c and
    generalized it a little, use it in module.c and delete the duplicate
    code there.

commit 80037662455b250aa5bd6369d6ad164c3ac97615
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Mon Mar 8 01:12:45 2004 -0800

    [PATCH] stop_machine_run: Move Bogolock Code Out of module.c
    
    The "bogolock" code was introduced in module.c, as a way of freezing
    the machine when we wanted to remove a module.  This patch moves it
    out to stop_machine.c and stop_machine.h.
    
    Since the code changes affinity and proirity, it's impolite to hijack
    the current context, so we use a kthread.  This means we have to pass
    the function rather than implement "stop_machine()" and
    "restart_machine()".

commit 23d54a89e847b1992c90a15be5f997079a4a2005
Merge: 64994fe... 5f3ac18...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 8 00:07:55 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 5f3ac18254b2a6d1186c88e72bdede4bea6423bd
Merge: 05beebb... dd12d6d...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Mar 7 23:49:20 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 64994febd756a22af02fc74b4427e9b9bdf25dc0
Merge: 7208d2c... fe0353f...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Sun Mar 7 23:41:45 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/sparc-2.6
    into kernel.bkbits.net:/home/davem/sparc-2.6

commit 05beebbe155da04c2d356cb7957488ca6f17ed54
Merge: fe0353f... 8d7d991...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Mar 7 23:29:40 2004 -0800

    Merge http://jfs.bkbits.net/linux-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 8d7d9915c0652d71544f1d56dc179099604ada80
Merge: d456c64... 16ecfdb...
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Mon Mar 8 04:54:41 2004 -0600

    Merge jfs@jfs.bkbits.net:linux-2.5
    into austin.ibm.com:/shaggy/bk/jfs-2.5

commit 16ecfdb968df2869731841fe1bdd10feb5dba57d
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Mon Mar 8 03:55:54 2004 -0600

    JFS: Add lots of missing statics and remove dead code
    
    Submitted by Christoph Hellwig

commit 64194c240466500ab7e1c36ac6df402e46c682de
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Mon Mar 8 02:40:34 2004 -0600

    JFS: Avoid incrementing i_count on file create
    
    Committing a transaction creating a file required insuring that the
    inode stayed in cache until the journal was written to.  i_count was
    being incremented until the transaction was complete.
    
    However, incrementing i_count caused fcntl(S_SETLEASE) to fail.  I
    reworked the transaction code so that the inode does not have to
    stay in-memory while the transaction is being committed.
    
    Thanks to Steve French for figuring out why setlease was failing.

commit e2423dc0995d1d73895f210b23a54cbee65d01dc
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Mon Mar 8 01:24:03 2004 -0600

    JFS: warn users of inaccessible file names
    
    When no iocharset is specified, the default action is to trivially
    map each byte into the low order of the 16-bit unicode character.
    If an existing name exists that has a non-zero high order byte, the
    file will be inaccessible without remounting with iocharset set to
    a charset that supports the character.
    
    This patch will cause a warning to be issued to the syslog (no more
    than five times) suggesting that the volume be mounted with
    iocharset=utf8 in order to access the file.

commit 370d7089b57d855e8a7a2a2eb902bcb5aef683b4
Author: Richard Henderson <rth@kanga.twiddle.home>
Date:   Sun Mar 7 22:58:28 2004 -0800

    [ALPHA] Fix gcc 3.4 build problems.

commit fe0353f0d69388421b0ee4334836481716f80206
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 7 22:42:46 2004 -0800

    [PATCH] gcc-3.5 io_apic.c build fix
    
    From: Valdis.Kletnieks@vt.edu
    
    The send_IPI_self() in smp.c was fixed but the one in io_apic.c was not.

commit bc3d0059577fa9c59b2188e649e2a109b3fdde95
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 7 22:42:37 2004 -0800

    [PATCH] vma corruption fix
    
    From: Hugh Dickins <hugh@veritas.com>
    
    Fixes bugzilla #2219
    
    fork's dup_mmap leaves child mm_rb as copied from parent mm while doing all
    the copy_page_ranges, and then calls build_mmap_rb without holding
    page_table_lock.
    
    try_to_unmap_one's find_vma (holding page_table_lock not mmap_sem) coming
    on another cpu may cause mm mayhem.  It may leave the child's mmap_cache
    pointing to a vma of the parent mm.
    
    When the parent exits and the child faults, quite what happens rather
    depends on what junk then inhabits vm_page_prot, which gets set in the page
    table, with page_add_rmap adding the ptep, but junk pte likely to fail the
    tests for page_remove_rmap.
    
    Eventually the child exits, the page table is freed and try_to_unmap_one
    oopses on null ptep_to_mm (but in a kernel with rss limiting, usually
    page_referenced hits the null ptep_to_mm first).
    
    This took me days and days to unravel!  Big thanks to Matthieu for
    reporting it with a good test case.

commit ecad96d53e6056d1bc2c1badec28b4ac68503fe9
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 7 22:42:27 2004 -0800

    [PATCH] update filemap_flush() comments
    
    It provides a best-effort, minimum-latency "get all the writeout
    underway" function.

commit 06e89f5ef8db4436d76fb4c3f69134ea2c3d7b77
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Mon Mar 8 00:37:12 2004 -0600

    JFS: setting xattr should update ctime

commit 47f766a2c0228a4d98b11b515ba58f417de2de54
Author: Richard Henderson <rth@kanga.twiddle.home>
Date:   Sun Mar 7 21:23:07 2004 -0800

    [ALPHA] Fix compressed bootp.
    From Jay.Estabrook@hp.com.
    
    The bootstrap decompressor uses some libraries built for the kernel,
    which include lib/lib.a and thus vsprintf.o, whose "vsnprintf"
    contains an unresolved reference to "printk".
    
    This is caused by Linus' changes to "vsnprintf" which will now issue a
    (printk) warning message under certain conditions.

commit d456c644d1088c314cb057822c779610dc0d8992
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Mar 7 20:59:06 2004 -0800

    Add missing QUEUE_FLAG_REENTER bit from Jens'
    blk_start_queue() fix.

commit d0c639ead53a63a2bf3a6ca362a296925651c4bd
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sun Mar 7 20:49:53 2004 -0800

    [PATCH] fix CONFIG_PDC202XX_FORCE/BURST for modular pdc202xx new/old drivers
    
    From: Jakub Bogusz <qboosh@pld-linux.org>

commit 1c3fb21e250b7c88b13aab255e48625fc308e112
Merge: 91bcca2... f6dca9a...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Mar 7 20:48:00 2004 -0800

    Merge bk://kernel.bkbits.net/davem/tg3-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit dd12d6d526e721b2c072a5a55e30860012f3d66c
Merge: 52d820c... b46f30e...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 7 20:32:25 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/network-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit 91bcca24b48daf7b62ed21ad4b267203245c040d
Author: Chris Wright <chrisw@osdl.org>
Date:   Sun Mar 7 20:29:33 2004 -0800

    [PATCH] proper error cleanup on security_acct hook
    
    Noted by Stephen Smalley: sys_acct does not properly clean up the open
    file when the security_acct hook returns an error.
    
    Fixed thus.

commit c1b1d258d6fd9610a72c9ea2d7d3ceb0424fb986
Author: Jens Axboe <axboe@suse.de>
Date:   Sun Mar 7 20:29:23 2004 -0800

    [PATCH] fix blk_start_queue()
    
    Here's the second attempt at fixing blk_start_queue().  The only change
    since last version is using proper atomic bitops.  If we moved the
    read/write full to a different variable, we could rely on the queue lock
    for plugging and stop/start of queue (by far the most used bit
    operations there) and skip the atomic bitops.

commit b46f30e25f93439eaf6d20882a7b9d19d754e413
Author: David Stevens <dlstevens@us.ibm.com>
Date:   Sun Mar 7 20:15:15 2004 -0800

    [IPV4/IPV6]: Add sysctl limits for mcast src filters.

commit f93fe4da6fe8a241b8c22538415b915ed5d1978d
Author: Wensong Zhang <wensong@linux-vs.org>
Date:   Sun Mar 7 20:01:40 2004 -0800

    [IPVS]: Code tidy up.
    
    Patch from Horms <horms@vergenet.net>
    
    1. The trailing '\n' was missing, it has been added
    2. The protocol is already in host byte order,
       the ntohl() call has been removed

commit f69f3450a3c9fb95654e775fecfade4fc1ef9b83
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sun Mar 7 19:55:42 2004 -0800

    [NETFILTER]: In ip_route_me_harder, don't forget to set fl.proto

commit f6dca9a679e2054135c7f1c98f45c291adcad4dc
Merge: 52d820c... 796c06e...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 7 19:32:00 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/tg3work-2.6
    into nuts.davemloft.net:/disk1/BK/tg3-2.6

commit 796c06ef5b4bd05c9a2ed446cff4475d602abade
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 7 19:25:39 2004 -0800

    [TIGON3]: Update driver version and reldate.

commit 9756c5a3be635300f4bcc9f48568e10a955d39de
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 7 19:24:08 2004 -0800

    [TIGON3]: Always force PHY reset after major hw config changes.

commit cf07135a8c1d26a83db673f50451640259179393
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 7 19:08:13 2004 -0800

    [TIGON3]: Allow MAC address changing even when iface is up.

commit 524225b77d525f3051271656d560fc95b2b08bea
Author: Jens Axboe <axboe@suse.de>
Date:   Sun Mar 7 16:03:34 2004 -0800

    [PATCH] blk_insert_request() buglet
    
    blk_insert_request() unconditionally calls q->request_fn(q) regardless
    of the plug state of the queue. This means that we could invoke
    request_fn with a plugged queue, which is an invalid state.
    
    Also fix a Jamesism style in there.

commit e5e91f8605f860f0c6995f73742735131e0e182f
Author: Nathan Scott <nathans@sgi.com>
Date:   Sun Mar 7 16:03:25 2004 -0800

    [PATCH] xfs: filemap_flush() unresolved
    
    filemap_flush() needs exporting for modular XFS builds.

commit 249087e686eb39e44d796d823e72f36ece35c2e7
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Sun Mar 7 16:03:15 2004 -0800

    [PATCH] small iSeries cleanup
    
    This got missed in my cleanup if iSeries_vio_dev.

commit 52d820cbbe839f0dcf111c17d4017fcb1f65bb93
Author: Krzysztof Halasa <khc@pm.waw.pl>
Date:   Sun Mar 7 09:28:25 2004 -0500

    [PATCH] 2.6.x wanXL driver update
    
    The attached patch updates wanXL card driver. Please apply to Linux 2.6.
    Thanks.
    
    Changes:
    * fixed initialization kernel panic, introduced with recent alloc_netdev()
      wan patch,
    * wanxl_rx_intr() port# now checked before accessing port structure,
    * cleanups etc.
    --
    Krzysztof Halasa, B*FH

commit 01c1053d929db530e7ca526325ac7e1d7422041d
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Sun Mar 7 09:28:18 2004 -0500

    [PATCH] missing setup for National DP83840 PHY rev b/c
    
    * Add National DP83840 PHY rev b/c setup.  Only rev a was being setup.

commit 772d610c7b71c71e8826b730c4958f93501c3a61
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 7 09:28:10 2004 -0500

    [PATCH] tulip printk cleanup
    
    From: Joe Perches <joe@perches.com>
    
    Use %08llx for a dma_addr_t, not the recently-added %llx.

commit bde7da44bae5b3ae40ed02e4d484e18220b06c71
Author: Jens Axboe <axboe@suse.de>
Date:   Sat Mar 6 16:02:56 2004 -0800

    [PATCH] add blk_queue_stopped() helper function
    
    The carmel driver will want to use this rather
    than muck around in queue internals directly.

commit 68076a0e0e2aef1b34af5fe5c4261899ea924ac4
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 16:02:47 2004 -0800

    [PATCH] arc4.c compile fix for older gcc's
    
    Declarations come before statements, please.
    
    Current gcc warns about this too, bless them:
    
    crypto/arc4.c: In function `arc4_crypt':
    crypto/arc4.c:65: warning: ISO C90 forbids mixed declarations and code

commit bdfe6862e9f72f25e5640b4fc26902cd1f80fc13
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:52:03 2004 -0800

    [PATCH] floppy oops fix
    
    From: Zwane Mwaikambo <zwane@linuxpower.ca>
    
    It looks like a block request snuck through before we had initialised the
    motor_off_timer timers.  So I pushed the timer init earlier.

commit 1ec55db596f47cf19179143f82a7d125d7f22aae
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:51:53 2004 -0800

    [PATCH] OSS Sound Driver Forte needs ac97_codec
    
    From: Marc-Christian Petersen <m.c.p@wolk-project.de>
    
    OSS Sound Driver Forte needs ac97_codec.

commit b2ea9dcbea241b8cfa32b0988bd5ce01b91f88a7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:51:43 2004 -0800

    [PATCH] fix i2c compile warnings
    
    drivers/i2c/busses/i2c-elv.c: In function `i2c_bitelv_init':
    
    drivers/i2c/busses/i2c-elv.c:155: warning: unsigned int format, long int arg (arg 2)
    drivers/i2c/busses/i2c-elv.c:155: warning: unsigned int format, long int arg (arg 2)
    drivers/i2c/busses/i2c-velleman.c: In function `i2c_bitvelle_init':
    drivers/i2c/busses/i2c-velleman.c:141: warning: unsigned int format, long int arg (arg 2)
    drivers/i2c/busses/i2c-velleman.c:141: warning: unsigned int format, long int arg (arg 2)

commit 2cc53dd5018ea203e5c93610c4f76864ce06dcfb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:51:32 2004 -0800

    [PATCH] Documentation/cdrom/ide-cd fix
    
    From: David Joerg <davidjoerg@web.de>
    
    Fix the description of the IO ports for the IDE primary and secondary
    interfaces.

commit 01d633461612476615b392b11909a3d89f9b2825
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:51:22 2004 -0800

    [PATCH] alpha ptrace race fix
    
    From: Aneesh Kumar KV <aneesh.kumar@digital.com>
    
    We need to set the tasks's exit code prior to waking it, not afterwards.
    
    Acked by rth.

commit b12088bf8bc61c1871fb42c70a99886d8ba659d8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:51:13 2004 -0800

    [PATCH] Fix nobh_prepare_write() race
    
    Dave Kleikamp <shaggy@austin.ibm.com> points out a race between
    nobh_prepare_write() and end_buffer_read_sync().  end_buffer_read_sync()
    calls unlock_buffer(), waking the nobh_prepare_write() thread, which
    immediately frees the buffer_head.  end_buffer_read_sync() then calls
    put_bh() which decrements b_count for the already freed structure.  The
    SLAB_DEBUG code detects the slab corruption.
    
    We fix this by giving nobh_prepare_write() a private buffer_head end_o
    handler which doesn't touch the buffer's contents after unlocking it.

commit d67c0fd5d3fb182288cb29bbba6913eedd9a7dc6
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:51:03 2004 -0800

    [PATCH] CONFIG_LBD fixes
    
    From: Eric Sandeen <sandeen@sgi.com>
    
    Several functions in buffer.c are using unsigned long where they should be
    using sector_t.
    
    Also, use pgoff_t in several places so it is easier to tell what is beingused
    as a pagecache index, what is being used as a disk index and what is being
    used as an offset-into-page.

commit 1cd4dae0fe148d0b213fea27c8db98eeb84878a1
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:50:53 2004 -0800

    [PATCH] fix oops in emu10k1_wavein_open() error recovery
    
    If a large pci_alloc_consistent() GFP_ATOMIC allocation fails this driver's
    recovery code will call emu10k1_wavein_close() far earlier than it should: it
    goes splat in emu10k1_timer_uninstall().
    
    Fix it by simply removing that call: we haven't allocated any resources yet
    anyway.
    
    Note that one of the callers of emu10k1_wavein_open(), emu10k1_audio_read()
    will sit there stupidly retrying the open.  But it has a sleep in there so
    something might eventually give way.

commit 50d89de71f02f932d7cf998a0ef1aa2823139d72
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:50:43 2004 -0800

    [PATCH] i2o subsystem minor bugfixes
    
    From: Markus Lidel <Markus.Lidel@shadowconnect.com>
    
    drivers/message/i2o/i2o_block.c:
    
     - corrected the initialization sequence of the request queues.
    
     - added initialization to queue spinlocks.
    
     - release device in i2o_scan because else the device could not be queried.
    
     - i2o_block event threads wait on signal KILL but signal TERM was sent.
    
    drivers/message/i2o/i2o_core.c:
    
     - set the HRT length to 0 at initialization, to avoid calling free on
       unallocated memory.
    
     - i2o_core event threads wait on signal KILL but signal TERM was sent.
    
     - added a limit of 3 tries to get the HRT from the controller.
    
     - removed the dpt parameter, which was used to force DPT controllers get
       handled by the i2o driver.  Now all available i2o controllers will be
       handled by this driver.
    
    drivers/message/i2o/i2o_scsi.c:
    
     - beautifying of printk calls.
    
     - added scsi_unregister to properly clean up on module unload.
    
    drivers/message/i2o/Kconfig:
    
     - added help for i2o_block and i2o_scsi to describe the differences between
       the two drivers.
    
    include/linux/i2o-dev.h:
    
     - cleaned typo "tate" into "state".
    
    include/linux/i2o.h:
    
     - removed defines from i2o_block and insert it here.
    
    (Acked by Alan)

commit 84e0e179e6097bca3f8fb11375fdd02c9c87537c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:50:34 2004 -0800

    [PATCH] v4l1 compatibility module fix.
    
    From: Gerd Knorr <kraxel@bytesex.org>
    
    This patch fixes a bug in the v4l1-compat module and makes it pass the
    correct buffer type to the v4l2 driver on VIDIOC_STREAM(ON|OFF) ioctls.

commit 18e0d45e0fab1c2f7b8b16fcd6ebcfd955fe30a8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:50:22 2004 -0800

    [PATCH] add missing MODULE_LICENSEs
    
    From: Arjan van de Ven <arjanv@redhat.com>

commit 5e9087ad3928c9d80cc62b583c3034f864b6d315
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:50:11 2004 -0800

    [PATCH] ext2/ext3 -ENOSPC bug
    
    From: Chris Mason <mason@suse.com>
    
    find_group_other looks buggy for ext2 and ext3 in 2.6, it can cause -ENOSPC
    errors when the fs has plenty of free room.
    
    To hit the bug, you need a filesystem where:
    
    parent_group has no free blocks (but might have free inodes) Every other
    group with free inodes has no free blocks.
    
    That gets you down to the final linear search in find_group_other.  The
    linear search has two bugs:
    
    group = parent_group + 1; means we start searching at parent_group + 2
    because the loop increments group before using it.
    
    for(i = 2 ; i < ngroups ; i++) means we don't search through all the
    groups.
    
    The end result is that parent_group and parent_group + 1 are not checked
    for free inodes in the final linear search.  ext3 has the same problem.

commit f8abc670b18eed2b1f8203f82d59f62379395ba1
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:50:01 2004 -0800

    [PATCH] sb16 sample size fix
    
    From: Andreas Kies <andikies@t-online.de>
    
    Fix improperly handled 16 bit sample size.  If you use an odd number of
    bytes in 16 bit mode the driver fails to work.

commit 9352726c59dafa4018d6398c499550f707a82379
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:49:52 2004 -0800

    [PATCH] serial_core.h needs sched.h
    
    In file included from drivers/misc/ibmasm/uart.c:27:
    include/linux/serial_core.h: In function `uart_handle_dcd_change':
    include/linux/serial_core.h:407: `TASK_INTERRUPTIBLE' undeclared (first use in this function)

commit 03970c32a066d41b9fbe651edf501715b6187b9c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:49:42 2004 -0800

    [PATCH] kill a dead function in lockd
    
    From: Christoph Hellwig <hch@lst.de>
    
    sleep_on hurts my eyes and this offender is compltely unused, so..

commit 61a318bf383a641a5429cc56b3027cbef17393a4
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:49:31 2004 -0800

    [PATCH] c99 initializers for cs46xx_wrapper
    
    From: Arnd Bergmann <arnd@arndb.de>
    
    This use of deprecated struct initializers was hidden behind macro magic
    and has appearantly not been noticed before.

commit 57d5b52e322b293ec56d00ef120de00c38f419b8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:49:21 2004 -0800

    [PATCH] Fix initrd Kconfig dependencies
    
    From: "Jim Gifford" <maillist@jg555.com>
    
    Prevent initrd from being built if ram device is built as a module.

commit 8f048a2669bf03264b1d4da99875ad8fcbe50b12
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:49:11 2004 -0800

    [PATCH] char/rio/rioctrl: fix ioctl return values
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    From: Tony Breeds <tony@bakeyournoodle.com>
    
    It fixes 3 places where the ioctl returns positives instead of negatives.
    I've gotten feedback from the maintainer (Rogier Wolff (sp?) and he has no
    objections.

commit e729d83fe68fd388352dcb26cfc6fcdb8147b1f3
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:49:01 2004 -0800

    [PATCH] fix put_compat_timespec prototype
    
    From: Arnd Bergmann <arnd@arndb.de>
    
    The wrong argument in put_compat_timespec is marked const, causing
    unnecessary compiler warnings.

commit 5b9c017de3fc96695bb606c191acce716f6d08fb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:48:52 2004 -0800

    [PATCH] ppc64: Convert mm_context_t to a struct
    
    From: David Gibson <david@gibson.dropbear.id.au>
    
    Converts the mm_context_t on ppc64 to be a struct.  This lets us separate
    the low_hpages flag into a separate field rather than folding it into the
    actual context id.  That makes things neater, since the flag is
    conceptually separate and has, for example, should be propogate across a
    fork whereas the context ID obviously isn't.  The mm_context_id is the only
    place to put arch-specific information in the mm_struct.
    
    This patch will also make some interesting extensions to the hugepage
    support much easier, such as allowing dynamic resizing of the hugepage
    address space, or using special pagetables for hugepages.

commit 99e7e863ffe3d5d3d24b09096b424cb72cc17974
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:48:42 2004 -0800

    [PATCH] ppc64: iSeries virtual cdrom driver
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    This patch adds the virtual cdrom driver for PPC64 iSeries.

commit 300c99e292c374b17eb126eb23255f1f1b942255
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:48:32 2004 -0800

    [PATCH] ppc64: iSeries_vio_dev cleanup
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    This patch declares iSeries_vio_dev in an include file and includes it where
    necessary.  It also fixes arch/ppc64/kernel/mf.c to use the generic dma API
    with iSeries_vio_dev.

commit 5af2c1312ca8b25800632cfff48896e405244066
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:48:23 2004 -0800

    [PATCH] ppc64: Make xmon survive exit after soft reset
    
    From: Olof Johansson <olof@austin.ibm.com>
    
    Below patch makes xmon survive a softreset invokation (and quite likely
    invocations because of other traps as well).

commit 20e39386f528478e1da126050db7ec739d760c1b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:48:11 2004 -0800

    [PATCH] fastcall / regparm fixes
    
    From: Gerd Knorr <kraxel@suse.de>
    
    Current gcc's error out if a function's declaration and definition disagree
    about the register passing convention.
    
    The patch adds a new `fastcall' declatation primitive, and uses that in all
    the FASTCALL functions which we could find.  A number of inconsistencies were
    fixed up along the way.

commit 38ace63203dddd7a039c530c4f34e4591168ed0f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:47:59 2004 -0800

    [PATCH] drivers/sbus/char/vfc_dev.c needs mm.h
    
    From: Jakub Bogusz <qboosh@pld-linux.org>
    
    drivers/sbus/char/vfc_dev.c: In function `vfc_mmap':
    drivers/sbus/char/vfc_dev.c:623: error: dereferencing pointer to incomplete type

commit 175af69061009ff2ec4b4599e4b01ca350b0331f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:47:49 2004 -0800

    [PATCH] dm: remove v1 ioctl interface
    
    From: Joe Thornber <thornber@redhat.com>
    
    Remove the version-1 ioctl interface.

commit 6089e858b5e767c1e15cca4d2eb34b0decdd4ebf
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 6 08:47:39 2004 -0800

    [PATCH] svcauth_gss oops fix
    
    From: "J. Bruce Fields" <bfields@fieldses.org>
    
    I've done some testing with 2.6.4-rc1.  It looks fine, except that one
    critical patch got dropped somewhere along the way, without which
    rpcsec_gss will oops.
    
    We've changed gss_get_mic to write mic in place instead of kmalloc'ing new
    memory for it; change must also be reflected in server side code.

commit 7208d2ce99b36accdf31fb316c3d3b66594eaaa0
Merge: 89bae96... 6e3eae3...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sat Mar 6 00:44:52 2004 -0800

    Merge bk://kernel.bkbits.net/wesolows/sparc32-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit 643ac501208ef4d6cd19a6323e96f8b383b8cdfd
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 6 00:11:47 2004 -0800

    [PATCH] Fix knfsd filehandles...
    
    Here's a fix for an obvious typo in changeset
    neilb@cse.unsw.edu.au|ChangeSet|20040305155724|31191
    that was causing ESTALE errors galore on my NFS testrig.

commit 89bae9666cab2ac2d22a0c79c6cf38198be93a2a
Merge: 31893c6... ff9fc79...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Fri Mar 5 20:19:57 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/sparcwork-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit ff9fc7909883f217ba592a6b6486d1bfb732d0a4
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Fri Mar 5 17:40:18 2004 -0800

    [PATCH] hfsplus: symlink initialization fix
    
    This fixes a problem with creating symlinks, a few fields in the
    inode/dentry were left uninitialized.

commit 6e3eae382c2a4889a4a4a1146f827a09df556d08
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Fri Mar 5 17:39:29 2004 -0800

    [SPARC32]: Avoid an oops if thread_info allocation fails

commit 439f0cc9dde436c8d4cd148c29349b2e798a4a0e
Merge: 18107b5... 9609c7e...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Mar 5 16:19:13 2004 -0800

    Merge bk://linux-acpi.bkbits.net/linux-acpi-release-2.6.4
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 18107b5b4415bbff958be9ba29970e4f78a0f0ff
Merge: 0242b38... 964cfbf...
Author: Nathan Scott <nathans@sgi.com>
Date:   Sun Mar 7 12:51:25 2004 +1100

    Merge sgi.com:/source2/linux-2.6 into sgi.com:/source2/xfs-linux-2.6

commit 964cfbf901d1941aa7bdbcc409a8b936e4e50757
Author: Nathan Scott <nathans@sgi.com>
Date:   Sun Mar 7 12:47:10 2004 +1100

    [XFS] Fix out-of-space deadlock when flushing delalloc data with pages locked under write.
    
    SGI Modid: xfs-linux:xfs-kern:167948a

commit 042287dee895291ed7c1dff7e9735e8df817957c
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Sun Mar 7 12:21:39 2004 +1100

    [XFS] zero log buffer during initialization at mount time
    
    SGI Modid: xfs-linux:xfs-kern:167980a

commit 578fef428afc79794db8b95b96f9ed1815bffe22
Author: Patrick McHardy <kaber@trash.net>
Date:   Fri Mar 5 07:27:57 2004 -0800

    [PKT_SCHED]: Fix ipv6 ECN marking in RED scheduler.

commit 31893c62ef3442f290171305e02cde9bc8a7dfdc
Merge: a53bc75... 0242b38...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Fri Mar 5 06:51:39 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/sparcwork-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit 0242b38946411da5f339d02d00830b07413affd2
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 5 02:11:56 2004 -0800

    [PATCH] Add missing AFAVLAB P030 PCI ID

commit 2bb4efab2287feb8c139cf9cf6ba6e3d6da2635d
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Fri Mar 5 00:16:20 2004 -0800

    [PATCH] High BAT initialization wrong
    
    The code initializing the "high" BATs on CPUs like the 750FX got
    broken when copied over from 2.4. This cause random problems with
    machines using those CPUs (iBook 2s typically).

commit d75a1aa850ad175b115f1781597129fa94978d6f
Merge: daf52a2... 7fc97d5...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 4 23:25:48 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit daf52a2835a2939d95ecd218517740b94ac140df
Author: Dave Jones <davej@redhat.com>
Date:   Thu Mar 4 23:19:34 2004 -0800

    [PATCH] mismatched syscall protos.
    
    Sparse noticed a bunch of mismatched prototypes in the new syscalls.h file
    when compiling net/socket.c  Whilst most of them are just missing __user
    tags, the last argument of sys_socketpair was completely different.

commit 7fc97d5792cf6b5752a2c5e52ad4d579c20a721e
Merge: 8b27e49... dc2a380...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Thu Mar 4 23:15:00 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit 979faf85481efdda465f7b32993b1e914a2018d9
Merge: 2389341... 8b27e49...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 4 22:59:43 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit a53bc753b04327e0177f387fb8da8d26d4b88144
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 4 22:45:42 2004 -0800

    [SPARC]: Pass a real page into do_mount() a final arg.

commit 8b27e49fac5e50e0016cdd01bc063932f5d31a08
Merge: 1610726... f48c43e...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 4 22:28:34 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-serial
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit f48c43e5cf5b084b7a3c6c104bf2906fdfe1fa94
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Mar 5 21:35:39 2004 +0000

    [SERIAL] Correct Oxford Semiconductor 16PCI952 PCI type entry.
    
    WRT 2.4, Ed Vance put this fix into 2.4:
    
     According to the data sheet, the OX16PCI952 has port 0 in BAR0 and
     port 1 in BAR1. (unlike the OX16C954, BTW) The 921600 base baud value
     is your oscillator rate divided by the default oversample rate, 16.
    
    Since 2.6 PCI IDs have been updated to use the real device ID for
    this part, we really should include this fix as well.

commit 26ecadf884bede79b30e4360dba43ff1db777db2
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Mar 5 21:12:13 2004 +0000

    [SERIAL] Don't initialise port->mctrl before calling ->startup
    
    If a serial port is hung up using vhangup() with HUPCL cleared (so
    DTR isn't dropped), and then re-opened, we don't want to drop the
    DTR line.  This occurs during the login process, and dropping DTR
    would cause a modem to hang up.

commit d86ceb077ac5cd4baf992ed95bf183921fdb559e
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Mar 5 21:02:55 2004 +0000

    [SERIAL] Clear up comments concerning mapbase and membase.

commit d086fed4a1409c669521bb10da5e9a5342998bbf
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Mar 5 20:50:33 2004 +0000

    [SERIAL] Remove obsolete CLPS711x serial driver names.

commit 026fb1e3a267bbf528b1849ef7a38c012370bc58
Author: Harald Welte <laforge@org.rmk.(none)>
Date:   Fri Mar 5 20:41:31 2004 +0000

    [SERIAL] Fix supprot for AFAVLAB 8port boards in 2.6.x
    
    I didn't yet use one of my AFAVLAB boards with 2.6.x until now.  The
    upper 4 ports are not detected at all.  I suppose the bug was
    introduced while porting the driver from 2.4.x.
    
    Please consider applying the following patch.  It also adds support
    for a new 8 port board called P030.

commit 5d713dd563663cac8b824439883e1fbb0b0d3b36
Author: Bjorn Helgaas <bjorn.helgaas@com.rmk.(none)>
Date:   Fri Mar 5 20:16:43 2004 +0000

    [SERIAL] Make serial console work for any port (take 2)
    
    The current serial console code only works for ports that are either
    defined in SERIAL_PORT_DFNS (and set up by serial8250_isa_init_ports())
    or registered by early_serial_setup().
    
    On ia64, SERIAL_PORT_DFNS is empty because we discover everything
    via ACPI and PCI.  And we only use early_serial_setup() for one port
    described by the HCDP firmware table.
    
    This patch against 2.6.4-rc1 makes it work for any valid port.  If we
    don't know about the port early, we just return -ENODEV from the
    setup() function, which leaves the serial console disabled.  After the
    driver has found all the ports, we try to register the serial console
    again if it hasn't been enabled already.
    
    Keith Owens noticed that the first version of this patch broke some
    serial console setups because many early serial ports are registered
    with "type == PORT_UNKNOWN".  So this version tests "port->ops"
    instead, and Keith has confirmed that this works for him.

commit dc2a3808b049ff3847f81a1c8aba74372afcaa2c
Author: David Stevens <dlstevens@us.ibm.com>
Date:   Thu Mar 4 22:20:35 2004 -0800

    [IPV4]: Add sysctl for per-socket limit on number of mcast src filters.

commit 23893419595eea40090a31b1d54fe98e735c5eb2
Merge: 5e2e0e2... 6b71ca9...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 4 22:16:03 2004 -0800

    Merge bk://kernel.bkbits.net/wesolows/sparc32-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit 6b71ca94ed9f25fc0fec9f7875347a5233c8fa6a
Author: Igmar Palsenberg <i.palsenberg@jdirmedia.nl>
Date:   Thu Mar 4 22:15:11 2004 -0800

    [QLOGIC]: Mark mbox_param[] as static to avoid namespace pollution.

commit 416ecb640d77bc86b368f8c04c3f0c0f0920df80
Merge: b02a51d... fc8c3e4...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 4 22:06:40 2004 -0800

    Merge http://linux-mh.bkbits.net/bluetooth-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit fc8c3e4b69a91b1dd64000c30f2cf601fef47e0f
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Fri Mar 5 20:53:50 2004 +0100

    [Bluetooth] Dynamic allocation of the RFCOMM TTY devices
    
    Only allocate the RFCOMM TTY devices when they are really in use. This
    prevents the system from calling hotplug and udev 256 times to create or
    remove every device node. In fact this makes the loading and unloading
    of the RFCOMM module much faster.

commit d1c5ea978e9d7c9414b406b40632c9e045660e48
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Fri Mar 5 19:43:26 2004 +0100

    [Bluetooth] Add notify callback for host drivers
    
    This patch adds a notification callback to the hci_dev structure which
    is used by the HCI core to tell the driver about connection creation
    and clearing. It also notifies about changed voice setting.

commit 430e67b3c11621bb1b6d10677644b9bc91893ce1
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Fri Mar 5 19:27:52 2004 +0100

    [Bluetooth] Send HCI_Reset for some Broadcom dongles
    
    This patch introduces a quirk flag for sending the HCI_Reset command. In
    general the HCI_Reset is not needed, but some Broadcom dongles uses this
    reset command to switch from HID to HCI mode. And it is not safe to send
    the HCI_Reset to every Bluetooth device, because the CSR firmware prior
    HCI 12.x will reset the host transport and this is wrong according to the
    Bluetooth specification.

commit 1610726a58e3a6b0776c83868f6855c5ebba2e4b
Author: Neil Brown <neilb@cse.unsw.edu.au>
Date:   Thu Mar 4 15:57:24 2004 -0800

    [PATCH] kNFSd -  Tidy up new filehandle type.
    
    nfsd uses several different mechanisms for identifying the filesystem
    from the filehandle.
    
    This patch:
      Marks type 2 as deprecated - it wastes space, and space in the filehandle
         is not unlimited
      Adds type 3 which handles new, large device number in 32bits of space
      Tidies up the code for determining which type to use in a newly created
      filehandle - the addition of type 2 broke this code.

commit b02a51da5d13842971f9a8a0d6a8607a3211accb
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Thu Mar 4 07:05:03 2004 -0800

    [PATCH] PnP BIOS exception fixes
    
    This fixes two errors in fixup_exception() for PnP BIOS faults:
     - Check for the correct segments used for the BIOS
     - Fix asm constraints so that EIP and ESP are properly reloaded

commit 5e2e0e247c5471966e398293f8933ed85a150cc0
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Thu Mar 4 06:00:48 2004 -0800

    [SPARC]: Make parport_sunbpp compile again

commit ddde7f6803f526e8c2177c9329dcf30374cd4d6c
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Thu Mar 4 05:57:18 2004 -0800

    [SPARC]: Add stack usage instrumentation

commit c61660c3f4410d20dd0bf4cbd0e67cce97805237
Merge: ca21ef3... 17eef32...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Thu Mar 4 05:20:56 2004 -0800

    Merge foobazco.org:/sources/2.5-bk
    into foobazco.org:/sources/2.5-sparc-todave

commit 17eef325d267644836fe327106fbbe493674a68c
Merge: 3201b05... 7b8b760...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Thu Mar 4 04:40:39 2004 -0800

    Merge foobazco.org:/sources/2.5-bk
    into foobazco.org:/sources/2.5-sparc-todave

commit ca21ef31bb8daafc9cc5defa558e5359806349d1
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 4 04:31:35 2004 -0800

    [PATCH] another rd.c leak
    
    Free the request queues on the rd_init() error recovery path.

commit e8f3ccd74ba1723e0770c15140a1acd638583c2a
Merge: 5d53b9b... 9f1f4a5...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 4 04:30:09 2004 -0800

    Merge bk://gkernel.bkbits.net/misc-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 9f1f4a5759fff794569985494f907e4ae3def95b
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Mar 4 11:48:44 2004 -0500

    Fix ramdisk driver leak on module unload.
    
    Noticed by me, fixed by Jens.

commit 5d53b9bfbd8be667e87e61cd6c7c98f884793a2c
Merge: d77461d... 837fd58...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 4 04:29:23 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit d77461da1a87c115f06ee9bb15366579d87032df
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 4 02:22:43 2004 -0800

    [FFB]: Force-disable cursor in ffb_switch_from_graph().

commit 837fd58259e00152d0e55955801f419a429ac8ab
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Mar 3 23:57:35 2004 -0800

    [PATCH] Fix typo in radeonfb
    
    This fixes a typo in the list of PCI IDs in radeonfb, which in turn
    fixes detection of some mobility models.

commit 7798dc41705c19fca19115795e156577a6feddf2
Merge: 67ef9ee... dd860cb...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 3 23:34:54 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-rmk
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit dd860cb4de340abbc0a36de9a672d7c866588bfd
Author: Deepak Saxena <dsaxena@net.rmk.(none)>
Date:   Thu Mar 4 22:17:06 2004 +0000

    [ARM PATCH] 1757/1: Allow building of LE kernels with BE-default toolchain
    
    Patch from Deepak Saxena
    
    The ARM makefile currently assumes that the compiler being used
    defaults to little-endian builds unless the big-endian options
    are provided. This may not always be the case (my toolchains default
    to BE since that's what I mostly work with) so this patch forces
    endianess options to be passed to the toolchain. W/O this,
    building without CONFIG_CPU_BIG_ENDIAN on a big-endian toolchain
    will still result in a big-endian kernel.

commit b1590a30d77c7088d12b2e33e1004578c73d4682
Author: Ian Campbell <icampbell@com.rmk.(none)>
Date:   Thu Mar 4 22:13:54 2004 +0000

    [ARM PATCH] 1764/1: Export __arch_strncpy_from_user for modules
    
    Patch from Ian Campbell
    
    __arch_strncpy_from_user needs to be exported if you build the
    framebuffer console driver as a module.

commit 05c068004979f2357f4b03b82f440b1372c6e82b
Author: Deepak Saxena <dsaxena@net.rmk.(none)>
Date:   Thu Mar 4 22:13:37 2004 +0000

    [ARM PATCH] 1762/1: Fix typo in CONFIG_CPU_BIG_ENDIAN help text
    
    Patch from Deepak Saxena

commit 67ef9eeab74bfe574e5880308660797bfbc97680
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:23:44 2004 -0800

    [PATCH] d_alloc_root() fixes: hpfs
    
     - inode leak on d_alloc_root() failure

commit cee63f57e3b69fd1ec9f520c69bb160ad104094e
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:23:34 2004 -0800

    [PATCH] d_alloc_root() fixes: romfs
    
     - inode leak on d_alloc_root() failure
     - sanitized the cleanup logics

commit a828f4fd083ce2be04152fc4752292ff2bb89325
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:23:25 2004 -0800

    [PATCH] d_alloc_root() fixes: hfsplus
    
     - inode leak on d_alloc_root() failure

commit 75b7de562dc219d3600b77330450baf848e50a14
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:23:16 2004 -0800

    [PATCH] d_alloc_root() fixes: hfs
    
     - inode leak on d_alloc_root() failure

commit de659f420b447a31bf802996e7ad61e828b45d2c
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:23:06 2004 -0800

    [PATCH] d_alloc_root() fixes: freevxfs
    
     - inode leak on d_alloc_root() failure

commit faf085236eca1541a163cbf0c08402f97b66b0ef
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:22:57 2004 -0800

    [PATCH] d_alloc_root() fixes: ext3
    
     - inode leak on d_alloc_root() failure

commit c02d9d1f2b3ff7aedcd9ad3e2b1baed622de4415
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:22:48 2004 -0800

    [PATCH] d_alloc_root() fixes: ext2
    
     - inode leak on d_alloc_root() failure

commit d9ea8b286b861083957d98e0f0f1256e55cf5106
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:22:39 2004 -0800

    [PATCH] d_alloc_root() fixes: efs
    
     - inode leak on d_alloc_root() failure

commit 7573737d640eb2d2b8ec6a1057fe0696e37c96a2
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:22:29 2004 -0800

    [PATCH] d_alloc_root() fixes: cramfs
    
     - inode leak on d_alloc_root() failure
     - unchecked result of d_alloc_root() leading to oops in fs/super.c

commit bf30ba7434d81d3038999031e784745b20fb9c54
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:22:20 2004 -0800

    [PATCH] d_alloc_root() fixes: coda
    
     - unchecked result of d_alloc_root() leading to oops in fs/super.c

commit 6729d00a2db6c7ccee26fd3e95222575163c9a0c
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:22:11 2004 -0800

    [PATCH] d_alloc_root() fixes: befs
    
     - inode leak if d_alloc_root() fails.

commit aec225ad4aae6a1a7b50334ffa5123b642390516
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:22:02 2004 -0800

    [PATCH] d_alloc_root() fixes: autofs4
    
     - oops if inode allocation fails.

commit 02b90ad272695eca51dd6c41da286471ee50ff6c
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:21:52 2004 -0800

    [PATCH] d_alloc_root() fixes: afs
    
     - useless dput(NULL) on failure exit (would be a double-free if
       we ever got there with non-NULL dentry).

commit 1b56e3e58bffebbf525505a9ce0ec345c5d2fc38
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:21:43 2004 -0800

    [PATCH] d_alloc_root() fixes: adfs
    
     - leak of root inode if d_alloc_root() fails.

commit 5541952d090a573f49d5265fcfefb4e2455a20e4
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 3 21:21:34 2004 -0800

    [PATCH] d_alloc_root() fixes: gadgetfs
    
    gatgetfs fill_super:
     - double-free of inode on last two failure exits
     - leak on the last failure exit
     - touching addresses near 0 on last two failure exits

commit 3d635a5f000b5f8c7d0662c23acfbafe5c0a3232
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Wed Mar 3 21:07:54 2004 -0800

    [SPARC64]: Update defconfig.

commit 8f7155ad0a3e9f0a64441eb943e5dca5d959392d
Merge: dbbffa7... dd2514f...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 3 15:43:02 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit b4915da37d6b23614c7878a9e3a249967828d742
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Wed Mar 3 08:18:26 2004 -0800

    [TIGON3]: Consolidate MMIO write flushing using tg3_f() macro.

commit dd2514fea45ffc9242fcd1bb2b7a4cfc29cf01df
Author: Jon Oberheide <jon@focalhost.com>
Date:   Wed Mar 3 08:15:04 2004 -0800

    [CRYPTO]: Add ARC4 module.

commit 0db1f9e3b83304bb7e17872f737ae2d333ff8a2b
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Mar 3 08:13:04 2004 -0800

    [IRDA]: stir4200 update for 2.6.4-rc1
    
    New revision of the Sigmatel irda driver.  This version has much
    better performance and doesn't drop frames in FIR mode.
    Tested with both UHCI and EHCI/OHCI against nsc-ircc on laptop.
    Thanks to Martin for additional testing and feedback.
    
    * Receiver:
    	- changed from interrupt to bulk URB.  Queue's one bulk
    	  urb per USB tick (1ms).
    	- FIR unpack now uses get_unaligned and cpu32_le
    	  instead of explicit shifts
    	- FIR unpack copies small frames
    * Transmitter:
    	- pack data into io buffer.  Since irda is half duplex
    	  can use same buffer for transmit and receive.
    	- use xchange and wait_event for synchronization
    * Other:
    	- use USB format messages rather than IRDA (ugly)
    	- clean up USB startup
    	- reset device on network open to clear up stuck state
    	- handle FIFO errors
    	- disconnect cleanup (from viro)
    	- don't DMA onto stack when reading fifo status

commit dbbffa7ba20b30876f7916143f1f1248339bf716
Merge: 89fb030... fed6659...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Wed Mar 3 07:30:23 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/sparcwork-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit 89fb030dc397f63c027832ee7de14472b4296fd7
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 3 06:08:11 2004 -0800

    Linux 2.6.4-rc2

commit 3201b05b783773464e43f3742f541aab270eaa38
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 3 00:14:02 2004 -0800

    Fix typo in radeon pll update
    
    It was missing an "s" from "uses_dvo"

commit a64964915d694a8675ee3138c2f323d7b818f4b8
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Mar 3 00:10:01 2004 -0800

    [PATCH] /proc/cpuinfo fixes for G5
    
    This adds a "timbase" entry in /proc/cpuinfo like p/iSeries that
    provides the CPU timebase frequency.  It is using by a all sort of
    performance analysis tools we are hacking in house.
    
    It also remove a useless bit about the l2 cache that was copied over
    from ppc32.

commit fbd90331dfcf121f94fd695fac2fc2002b2bbfc5
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Mar 2 23:59:05 2004 -0800

    [PATCH] radeonfb: some more PLL problems
    
    I've had reports of flicker that appear with large (23") flat panels
    and radeonfb. From experiments, it appears that forbiding the "odd"
    PLL divider values fix it (like it fixes the blur problem on TMDS2).
    
    There should not be anything special with TMDS1 and "odd" PLL values
    though, so the problem may be subtly different (a bandwidth problem),
    but until I have proper bandwidth calculation and access to this
    monitor, the following patch is an acceptable workaround (Odd PLL values
    aren't that useful anyway)

commit 87a8254b4151e62ff1fab02f4123c0f1f53e2a87
Author: James Simmons <jsimmons@infradead.org>
Date:   Tue Mar 2 23:20:14 2004 -0800

    [PATCH] New Permedia2 framebuffer driver.
    
    This fixes the permedia2 framebuffer driver to the new API.
    
    [ Currently it doesn't even compile.  This only touches the current
      permedia driver.  ]

commit 95996ddfe1b11d596e4c5588a9dc49e4968ffbf4
Merge: b159a68... 215211d...
Author: Dave Kleikamp <jfs.adm@hostme.bitkeeper.com>
Date:   Tue Mar 2 22:11:41 2004 -0800

    Merge bk://linux.bkbits.net/linux-2.5
    into hostme.bitkeeper.com:/repos/j/jfs/linux-2.5

commit 215211de60001762142f7e0295c67b887eac776d
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Wed Mar 3 04:04:35 2004 -0600

    JFS: Support sharing of journal by multiple volumes

commit b159a68b968be971c1e7358084640ce0f060af4d
Author: Olof Johansson <olof@austin.ibm.com>
Date:   Tue Mar 2 21:30:05 2004 -0800

    [PATCH] ppc64: More IOMMU cleanups
    
    * Tidy up some of the arguments to iommu_*()
    * Comment cleanup
    * Don't bump the hint to the next block for large allocs, to avoid
      fragmentation.
    * Simplify vmerge logic during SG allocations
    * Move the memory barriers from the bus-specific parts into the common
      code.
    
    Some changes are mine, some are from Ben Herrenschmidt.

commit 8ccd6848a24dcfd40ece13bae79fcaee57d24178
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Tue Mar 2 21:14:20 2004 -0800

    [PATCH] update for pdc202xx_old driver
    
    - fix bug introduced by my recent fixes
      (do not try to disable 66MHz clock on PDC20246)
    - cleanup cable verification code a bit
    - remove unused macros (leftovers from driver split-up)
      and duplicated define from pdc202xx_old.h

commit a936e3de4d2a639b307c7303830e7e5fb265cd8d
Merge: cdf650f... 460070c...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 2 19:14:28 2004 -0800

    Merge bk://gkernel.bkbits.net/libata-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 460070ce93022dfa4a5f7f7790b6bc5669938781
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Tue Mar 2 19:07:59 2004 -0800

    [PATCH] parport: list cleanups
    
    	parport driver list turned into list.h one; parport/share.c code that
    works with that list got cleaned up.

commit 50f734efbce723e055aeef7faf6f08946fb46624
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Tue Mar 2 19:07:49 2004 -0800

    [PATCH] parport: get rid of parport_enumerate
    
    	parport_enumerate() is gone.  The last caller was under ifdef that
    never had been true.  Function itself is removed, port list handling
    cleaned up (now we can do that, since drivers don't mess with the list
    directly), tons of racy crap removed from parport/share.c

commit 9d247f297829952ac0e2c39bfad01a7462d66091
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Tue Mar 2 19:07:39 2004 -0800

    [PATCH] parport: keep track of parport_sunbpp ports
    
    	parport_sunbpp switched to keeping track of the ports it had
    created; in module_exit it uses the private list instead of messing
    with parport_enumerate().  Added check for sbus_ioremap() failure in
    port initialization.

commit 8a5f10d9408ac630fd11852e05d0c6cc52dd83fe
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Tue Mar 2 19:07:29 2004 -0800

    [PATCH] parport: keep track of parport_pc ports
    
    	parport_pc switched to keeping track of the ports it had
    created; in module_exit it uses the private list instead of messing
    with parport_enumerate().
    	Added compile fix for configs that have CONFIG_PARPORT_PC_FIFO turned
    off (from -mm).

commit e63fd9522afb251286193b794709c5f0fdabed25
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Tue Mar 2 19:07:20 2004 -0800

    [PATCH] parport: clean up parport_announce_port and friends
    
    	parport_announce_port() was always called right after
    parport_proc_register().  Call shifted into parport_announce_port().
    Similar for parport_remove_port() and parport_proc_unregister().

commit ae748b8aca5c32ab2a5c3240f815210c88658c8f
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Tue Mar 2 19:07:08 2004 -0800

    [PATCH] parport: fix parport_unregister_port
    
    	parport_unregister_port() is split; parport_remove_port() does
    what parport_unregister_port() used to do sans the final parport_put_port()
    call.
    	Callers updated; many of them needed only parport_put_port() (failure
    exit paths where we never had the port announced to drivers).
    	Fixed multiple races on port removal by shifting parport_remove_port()
    in front of the code that releases irq/io ports/etc.

commit b484a7488d6da96812fac351f9124c4fddb86e99
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Tue Mar 2 19:06:58 2004 -0800

    [PATCH] parport: slave port cleanups
    
    	references to slave ports of mux added to struct parport.
    parport_daisy_init() doesn't go through parport_announce_port() for mux
    slaves anymore; parport_annouce_port() deals with found ones itself.
    Error handling sanitized, races on unregistration fixed.

commit eda96df0bc2927eaf2fbe8f1db992c0da6ceaaf5
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Tue Mar 2 19:06:48 2004 -0800

    [PATCH] parport: fix probe leaks
    
    	parport_pc_probe_port() sanitized; leaks fixed.

commit 9beaf6281318890b31379dd1d4e61794cc04a252
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Tue Mar 2 19:06:39 2004 -0800

    [PATCH] parport: option parsing cleanup
    
    	parport_pc options parsing moved to parport_pc.c; parport/init.c is
    gone.
    	Warning fixes from -mm added.

commit 00c16378c52ba4034696c7ed13a4183727241d81
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Tue Mar 2 19:06:29 2004 -0800

    [PATCH] parport: sysctl registration
    
    	Registration of sysctls turned into module_init().

commit c17df7f9d76e141c976e3c0dd98ca8ff5c0e477c
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Tue Mar 2 19:06:19 2004 -0800

    [PATCH] parport: use module_init()
    
    	Init of low-level drivers (except parport_pc) turned into module_init().

commit 8b78f3bd4fc27a9afdff36ca02f517fc922749d2
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Tue Mar 2 19:06:09 2004 -0800

    [PATCH] parport: move exports to where they are defined
    
    	Exports moved from parport/init.c to files where functions are
    actually defined.

commit fed66598b66f26f5460f64aa0e08472e9d7b4a47
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Mar 2 18:28:27 2004 -0800

    [SPARC64]: Update defconfig.

commit 0c0cacdc205aa92913464a9e822b793ece2a7d67
Merge: b2d271d... 505fc14...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Mar 2 18:19:44 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/sparcwork-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit cdf650f27c0dc1f6c69c6eb6bb9d04ffd201387d
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Mar 2 16:34:45 2004 -0500

    [libata ata_piix] Add yet another Intel ICH6 PCI id

commit b2d271d97cf4f1ca83737058cd95921b59ac0dca
Merge: c29ed89... 17b2b36...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 2 06:53:03 2004 -0800

    Merge http://xfs.org:8090/xfs-linux-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 17b2b36ec535af8605945247fb069ad8891663a9
Author: Nathan Scott <nathans@sgi.com>
Date:   Thu Mar 4 13:53:18 2004 +1100

    [XFS] Sort out some minor differences between trees.

commit 9004fd8adf2e68ec7ba373a2a1bbe6d744fa2322
Merge: 961c380... 2a6d76e...
Author: Nathan Scott <nathans@sgi.com>
Date:   Thu Mar 4 08:50:26 2004 +1100

    Merge nathans@xfs.org:/export/hose/bkroot/xfs-linux-2.6
    into sgi.com:/source2/xfs-linux-2.6

commit 2a6d76e4f6467d0df85bac02f3824f79414c39ac
Author: Timothy Shimmin <tes@sgi.com>
Date:   Wed Mar 3 14:53:13 2004 +1100

    [XFS] fix up some debug log code for when XFS_LOUD_RECOVERY is turned on.
    
    SGI Modid: xfs-linux:xfs-kern:167581a

commit 540414f5c341e3063fb5215c45fbff5b5aa9bab8
Author: Timothy Shimmin <tes@sgi.com>
Date:   Wed Mar 3 14:42:33 2004 +1100

    [XFS] Version 2 log fixes - remove l_stripemask and add v2 log stripe
    padding to ic_roundoff to cater for pad in reservation cursor updates.
    
    SGI Modid: xfs-linux:xfs-kern:167580a

commit 73a61e86b71fb903f92b88766556252e3005ee3c
Author: Dean Roehrich <roehrich@sgi.com>
Date:   Wed Mar 3 14:35:48 2004 +1100

    [XFS] DMAPI deadlock prevention when interacting with the IO path.
    
    SGI Modid: xfs-linux:xfs-kern:167547a

commit efe3629c5de746ab84e12e6e76b103bbb6e6b275
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Mar 3 14:15:09 2004 +1100

    [XFS] Remove PBF_SYNC buffer flag, unused for some time now.
    
    SGI Modid: xfs-linux:xfs-kern:167442a

commit 434887a8d2c9c84facbfea6b627bcb82ce22af0a
Author: Dean Roehrich <roehrich@sgi.com>
Date:   Wed Mar 3 14:11:32 2004 +1100

    [XFS] release i_sem before going into dmapi queues
    
    SGI Modid: xfs-linux:xfs-kern:166619a

commit 1dee0d25421a824eb38d92611689be6a2eda94de
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Wed Mar 3 14:07:29 2004 +1100

    [XFS] Remove some dead debug code
    
    SGI Modid: xfs-linux:xfs-kern:167279a

commit 032a16c1166126cb44eba07767ea6bfe00630c50
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Mar 3 14:01:59 2004 +1100

    [XFS] kill some dead constants from pagebuf
    
    SGI Modid: xfs-linux:xfs-kern:167273a

commit d434869e021edff795414f87a7c15f98011eaf20
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Mar 3 13:58:06 2004 +1100

    [XFS] plug race in pagebuf freeing
    
    SGI Modid: xfs-linux:xfs-kern:167222a

commit c29ed89cc4a324c26fc442ad0d98413d8222d984
Merge: 345f194... 1e32c98...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 2 06:51:14 2004 -0800

    Merge bk://gkernel.bkbits.net/libata-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 345f19471a359496192aa2c16359c1e8da6e4dcf
Author: Go Taniguchi <go@turbolinux.co.jp>
Date:   Tue Mar 2 14:17:09 2004 -0500

    [libata ata_piix] Fix transposed ICH6 PCI id

commit 1e32c9886f8c494f692cd2adb2bcfd199845fd1f
Author: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
Date:   Tue Mar 2 06:45:53 2004 -0800

    [PATCH] Alpha: switch semaphores to PPC scheme
    
    Which is a lot simpler than the two-way counter implementation.

commit 006086094411ee250560d32a6f1791e9310bc10c
Merge: 10f44c0... 0752b74...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 2 04:41:03 2004 -0800

    Merge bk://kernel.bkbits.net/gregkh/linux/driver-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 505fc148ef1d2c34800b0aa400606065d69f82b6
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Mar 2 03:40:14 2004 -0800

    [SPARC]: Kill sys_ioperm decl from unistd.h

commit 10f44c023ef22c8c125d5ef15bed560d46c66af9
Merge: 5ad6b7a... 961c380...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Tue Mar 2 03:27:45 2004 -0800

    Merge kroah.com:/home/linux/BK/bleed-2.6
    into kroah.com:/home/linux/BK/pci-2.6

commit 5ad6b7ada85fa414a7e94c309ef9c73862c08f69
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Tue Mar 2 03:25:34 2004 -0800

    PCI Hotplug: clean up the Makefile a bit more.

commit c7ee6396b7a0261b88a518b63606fd77816c72ab
Author: Dely Sy <dlsy@snoqualmie.dp.intel.com>
Date:   Tue Mar 2 03:10:44 2004 -0800

    [PATCH] PCI Hotplug: fixes for shpc and pcie hot-plug drivers
    
    This patch contains the following:
    1.  Fix up the pcie and shpc options to make it easier for distros
        to use as what we have discussed;
    2.  Fix bug encountered when installing the drivers on non-hotplug
        systems;
    3.  Put PCI_CAP_ID_SHPC in include/linux/pci.h

commit 0752b74581e91388000c15d6d2c64bd5a3373041
Merge: 961c380... 78c7e8f...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Tue Mar 2 03:06:24 2004 -0800

    Merge gregkh@kernel.bkbits.net:linux/driver-2.6
    into kroah.com:/home/linux/BK/driver-2.6

commit 78c7e8f04fc63a9faf73070647dbb619dee9b5bd
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Tue Mar 2 00:39:36 2004 -0800

    Driver core: add CONFIG_DEBUG_DRIVER to help track down driver core bugs easier.

commit 961c380cef0f1af06c254488d1a672324ec2b34a
Author: David Brownell <david-b@pacbell.net>
Date:   Mon Mar 1 22:32:28 2004 -0800

    [PATCH] OHCI urb unlink fixes
    
    Fix two OHCI unlink issues.
    
       * All EDs now get a 1 msec delay before re-linking, even those
         which were seemingly "clean" unlink cases.  This gets rid of
         some list corruption issues ("bad entry") by getting rid of
         a fast-path carried over from 2.4 usb-ohci.
    
       * In case of unlink-during-submit, we must giveback() right away.
         This is a reasonably rare case.
    
    There have been recent reports of problems here.  The "bad entry"
    showed up with usbtest tests #11 and #12, or "stir4200", and maybe
    in other cases.  The unlink-during-submit shows up in usbtest.

commit 72c032186a0d4a78eda9007d9dbbf455afe7daad
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 1 21:52:51 2004 -0800

    [PATCH] ppc32: Fix crash on load  in DACA sound driver
    
    The DACA sound driver (early iBook models) doesn't clear the i2c_client
    structure. That cause the embedded struct device (and thus kobject) to
    contain garbage in the "k_name" field, which kobject_set_name will
    later try to kfree...
    
    Also remove references to unused struct data_data.

commit 2cf3f1260570cd44e425ad2507cc4c30b7166cad
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Mar 1 21:11:26 2004 -0800

    PCI Hotplug: fix up the permission settings on a few of the sysfs files.
    
    Thanks to Linda Xie for pointing this out.

commit ca32c38e8efa89d103f4f84ff91a7e71fb94c927
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Mar 1 20:13:47 2004 -0800

    Make IBMASM driver depend on X86 as that is the only valid platform for it.

commit 713f18e95dff827c1cf692729e10eadf514cf69c
Author: Karsten Keil <kkeil@suse.de>
Date:   Mon Mar 1 19:45:33 2004 -0800

    [PATCH] ISDN strpbrk fix
    
    Here is a small ISDN fix for the current tree.
    
    There is a compiler inlining/optimation problem with strpbrk, if it has
    only a one character search string.  This results in a missing strchr
    because the compiler internally replace strpbrk with strchr in this
    case, but did so after inline handling stage.

commit bf61d1286a53a66c12a3aafb62aa712c1ada4ac2
Author: Ingo Molnar <mingo@redhat.com>
Date:   Mon Mar 1 16:19:23 2004 -0800

    [PATCH] Avoid writing the APIC ID register
    
    A small birdie tells us that in the long run it may not be a good idea
    to write the APIC ID register.  It might be read-only in some
    hypothetical situation down the road.

commit 13d02fd82bba3032bb87349771874367f9d41620
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Mon Mar 1 07:47:02 2004 -0800

    Update x86 defconfig

commit d038090e466453fc4eae03e2760704fe4b249115
Merge: 72ab6a0... f50d5e0...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 1 07:19:54 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit f50d5e0379f53e26e1e5860aa3556b9085b4a4f0
Merge: 6a59dff... 55387c4...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 1 07:17:09 2004 -0800

    Merge bk://bk.linux1394.org/ieee1394-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 55387c401523ca91e815dd01d308d8e1092ad0eb
Author: Steve Kinneberg <kberg@linux1394.org>
Date:   Mon Mar 1 13:29:30 2004 -0500

    IEEE1394(r1179): Fix nodemgr_get_max_rom() to work properly on little endian machines.

commit 46fa84e91bb83e33056b9d20ec8f8b1cefdaedf8
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Mar 1 13:26:01 2004 -0500

    IEEE1394(r1180): Fix pdrv update call to use ud class list. Fixes an oops.

commit 6a59dff3c5f1c451fe5fd379ca6aaa9e4253b060
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:07:26 2004 -0800

    [PATCH] oprofile: fix P4 HT msr sharing
    
    From: Philippe Elie <phil.el@wanadoo.fr>
    
    When I debugged P4 ht oprofile a few month ago I noticed that but though it
    wasn't a problem...  The fix I propose is not completely clean.
    
    With P4 HT we split msr in two subset, one for each logical processor.  The
    msrs subset used in op_model_p4.c at save and setup point of view are
    distinct (*), it means we must serialize setup and save operation else a
    logical processor can save some msr value already setup by the other thread
    then when oprofile shutdown we restore wrong msrs values.
    
    Nobody noticed the problem because after restoring the msrs we call
    enable_lapic_nmi_watchdog() -> setup_p4_watchdog() wich clear all the msrs
    but it's a bit fragile.  If nmi watchdog is not enabled nothing bad occurs
    because the LVTPC remains disabled.
    
    (*) this is done in this way because it allows a lot of simplification in
    op_model_p4.c, yes it isn't clean but it's not fixable w/o rewriting 75% of
    op_model_p4.c and I think the code will be bigger and more complex.

commit b7d83b8c6b0c303d2770c5d5d23b180d8aeccee7
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:07:16 2004 -0800

    [PATCH] scripts/modpost warning
    
    From: Geert Uytterhoeven <Geert.Uytterhoeven@sonycom.com>
    
    I need the following patch to kill a warning (__endian() may be unused)
    when cross-compiling m68k kernels on an ia32 box.

commit 5d5c8930b939f1c7838172001e76461978e8c114
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:07:05 2004 -0800

    [PATCH] m68k interrupt handling fix
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    The syscalls.h change broke the m68k interrupt management code, since
    sys_{request,free}_irq() are not syscalls, but routines to manage system
    (CPU) interrupts.

commit f57a9b9fb69beb536ed8790dd11028fd5d8c6504
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:06:54 2004 -0800

    [PATCH] swsusp: fix error handling in "not enough swap space"
    
    From: Pavel Machek <pavel@ucw.cz>
    
    Without this, if there's not enough swapspace, suspend fails, but leaves
    devices suspended, leading to dead machine.

commit f2825db12f161d5d62a5d51b98bdbf76e4b32acd
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:06:43 2004 -0800

    [PATCH] firmware loader: delay firmware hotplug event
    
    From: Dmitry Torokhov <dtor_core@ameritech.net>
    
    Do not call hotplug until firmware class device is completely instantiated.

commit 8813723a4089cbfe641a4f5eaf31014bec4fe30e
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:06:33 2004 -0800

    [PATCH] firmware loader: pin firmware module
    
    From: Dmitry Torokhov <dtor_core@ameritech.net>
    
    We need to pin the firmware loader module until the last reference to the
    firmware class device is dropped and the class device is destroyed.

commit a4f10cfd56ed9a90677f4d0293908ead2935b07a
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:06:22 2004 -0800

    [PATCH] convert pdflush to kthread
    
    From: Keith Owens <kaos@sgi.com>
    
    New pdflush threads are launched on-demand by pdflush.
    
    It turns out that on some architectures (eg, ia64) a kernel thread inherits
    its parent's stack utilisation.  So after the thread-launches-a-thread
    cycle has progressed sufficiently far we run out of stack space and crash.
    
    Simple fix: convert pdflush to use kthreads.  All kthreads are parented by
    keventd so there is no stack windup as a result of pdflush launching
    pdflush.

commit c8e6164ffccbfff2aadb06d41a63ed43854e7759
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:06:12 2004 -0800

    [PATCH] watchdog updates
    
    From: Wim Van Sebroeck <wim@iguana.be>
    
    <wim@iguana.be> (04/02/29 1.1628)
       [WATCHDOG] v2.6.3 pcwd_usb-watchdog
    
       Add the Berkshire Products USB-PC Watchdog driver
    
    <wim@iguana.be> (04/02/29 1.1629)
       [WATCHDOG] v2.6.3 MODULE_*-patch
    
       Add MODULE_* info
    
    <wim@iguana.be> (04/02/29 1.1630)
       [WATCHDOG/SPARC64] v2.6.3 Kconfig-WATCHDOG_CP1XXX/WATCHDOG_RIO-patch
    
       Move WATCHDOG_CP1XXX and WATCHDOG_RIO for SPARC64 architecture
       from arch/sparc64/Kconfig to drivers/char/watchdog/Kconfig
       and made them dependant of WATCHDOG also

commit 2955399da7452607232bf64680334d65a14133bd
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:06:00 2004 -0800

    [PATCH] x86-64 fixes for 2.6.4rc1
    
    From: Andi Kleen <ak@suse.de>
    
    Fix a few issues on x86-64 for 2.6.4rc1.
    
    The 32bit emulation used 4GB/3 for the mmap break. This actually gave
    programs less sbrk space than with a standard 32bit kernel. Move the 32bit
    mmap break to 0xc5000000.
    
    Uses the correct gcc option to optimize for Prescott now (requires a very
    new mainline gcc)
    
    Also merge the i386 sched_clock().  I hope this will fix some interactivity
    problems with the scheduler.
    
    - Change initializer to new style (Arnd Bergmann)
    - Remove 2 sibling limit in HT support (from i386)
    - Always log RIP in MCE records even when not exact
    - Move 32bit program task break up to 0xc5000000 by default
    - Use -march=prescott for Prescott optimized kernel if possible
    - Don't divide by zero with report_lost_ticks on and HPET off
    - Merge preempt/smp/debug_pagealloc oops printing from i386
    - Add pfn_to_nid()
    - Merge more accurate sched_clock from i386
    - Remove traces of debugging code in mce.c
    - Update defconfig

commit a1f3432196b0cdb63f0e8aa46ef61c7283f6fc15
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:05:50 2004 -0800

    [PATCH] Make powernow-k8 cpufreq control work again
    
    From: Pavel Machek <pavel@suse.cz>
    
    We curretly have an off-by-factor-of-1000:
    
    cat /proc/cpufreq
    
              minimum CPU frequency  -  maximum CPU frequency  -  policy
    CPU  0         2000 kHz (100 %)  -       2000 kHz (100 %)  -  powersave
    
    
    I do not have explanation why it is 2MHz - 2MHz.  On my system I removed
    bug which prevented my system from being reported as 0.8MHz - 1.8MHz.  (And
    modulo cosmetic uglyness, it worked).
    
    This fixes cosmetic uglyness, adds proper copyrights, removes warning
    "untested on PREEMPT" (someone tested it, and makes it easier to override
    PST by user (eMachine users will need that one).

commit f08519cfb879e4f6ab60c8222fc4703ca6be7cf5
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:05:38 2004 -0800

    [PATCH] clarify CONFIG_SWAP Kconfig help
    
    From: Adrian Bunk <bunk@fs.tum.de>
    
    "swap" is more known than "Support for paging of anonymous memory".  The
    patch below adds "(swap)" to the prompt of CONFIG_SWAP.

commit b2a9973a2c9165c374891006b886ec56b08b2483
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:05:28 2004 -0800

    [PATCH] remove a few remaining "make dep" references
    
    From: Adrian Bunk <bunk@fs.tum.de>
    
    The patch below is an updated version of the patch that removes some
    remaining mentions of "make dep".

commit 285d15395b711583f33b907b9ce953496c549b4a
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:05:16 2004 -0800

    [PATCH] buslogic initsection fix
    
    From: Bob Doyle <doyle@primenet.com>
    
    BusLogic_UnregisterHostAdapter() is referenced from __exit code, so it cannot
    be __init.

commit a78fd404f655c322c0702b9dff78de15ffddb845
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:05:06 2004 -0800

    [PATCH] Fix network hashtable sizing
    
    The new networking hashtable sizing is all bollixed up.  The logic is wrong
    and tcp is setting it to the logarithm of what was intended.  Heaven knows.
    
    Fix it up so that the sizing is the same as it used to be in 2.6, with a
    boot-time override.  Which was what was intended.

commit fb6c1a0ce3dd14977eb09c794d5a395509aa62ba
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:04:56 2004 -0800

    [PATCH] sys_alarm() return value fix
    
    From: Kurt Garloff <garloff@suse.de>
    
    when calling
    
    alarm(1); alarm(0);
    
    the second alarm can wrongly return 2. This makes an LSB test fail.
    
    It happens due to rounding errors in the timeval to jiffie conversion and
    back.  On i386 with HZ =3D=3D 1000, there would not need to be rounding
    error IMVHO, but they even occur there.  On HZ=3D1024 platforms, they may
    even be unavoidable.
    
    Attached patch fixes the return value of alarm().

commit c0ce26a835daa96ae91ac74decc97c18b4a35a54
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:04:41 2004 -0800

    [PATCH] Fix VT mode change vs. fbcon
    
    From: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    
    This patch implements what we discussed earlier to fix the switch bewteen
    KD_GRAPHICS and KD_TEXT.
    
    It has been tested for a few days now and appear to resolve the problem for
    affected users.
    
    James: I know you have some objections, I don't fully agree with them, and
    I want that in asap now, that bug has been plaguing fbdev since the very
    beginning and it's time to get rid of that and my corresponding todolist
    entry.  You are welcome to propose a patch on top of this one if you feel
    you can make things cleaner.  The approach of adding a parameter to
    con_blank() is Linus idea btw :)
    
    I didn't add a separate function as that would have made the butchering of
    drivers/char/vt beyond what I want to deal with in 2.6.

commit 3d5daf73a4eefaaf07f07e899c4c5382d32b86d4
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:04:28 2004 -0800

    [PATCH] Fix tty drivers which dont set tty_driver->devfs_name
    
    From: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    
    The following patches fixes tty drivers which dont set devfs_name. Not
    doing so will cause the tty layer to create "/dev/<NULL>x" entries when
    devfs is being used.
    
    I used "drivername/" in isicom and pcxe because the letter used to
    identify them are already used by other drivers.

commit 57c08314ee127e65ef11421621134e7d63e89a70
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:04:18 2004 -0800

    [PATCH] NFS SUNRPC fix
    
    From: James Morris <jmorris@redhat.com>
    
    The patch below fixes a bug in the error handling code of
    xprt_create_socket().  If sock_create() fails, we should not try and
    release the non existent socket.
    
    This fix is by James Carter <jwcart2@epoch.ncsc.mil>.

commit 348a16e2d40cf50684b938b9653f35b4ccccf820
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:04:07 2004 -0800

    [PATCH] DCSSBLK depends on CONFIG_S390
    
    From: Dave Jones <davej@redhat.com>
    
    This is probably useless on x86 for eg..  (Everything else in this file is
    dependant on some other s390 feature, so only this one shows up).  Too bad
    the drivers/s390/block stuff gets source'd at all on !s390.

commit 18f94561205c88887e67aee0be9ecb9a50466f9c
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:03:56 2004 -0800

    [PATCH] linux/README update
    
    From: Zwane Mwaikambo <zwane@linuxpower.ca>
    
    Patch to resolve http://bugzilla.kernel.org/show_bug.cgi?id=1644
    
    The bug reporter pointed out a bit of outdated information in the README
    file.
    
    Test booted on a 32x NUMAQ with 10,000 disks

commit c681eba414d0b474082cf90d88facb526a6ab29a
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:03:45 2004 -0800

    [PATCH] raid1: fix oops in bio_put()
    
    From: Neil Brown <neilb@cse.unsw.edu.au>
    
    Fix an off-by-one in the r1buf_pool_alloc() ENOMEM error recovery path.

commit 4fc40b02570fdcd977799b408fa749b14411bed5
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:03:35 2004 -0800

    [PATCH] C99 initiailzers for drivers/isdn/hisax/hisax_fcpcipnp.c
    
    From: "Art Haas" <ahaas@airmail.net>
    
    Here is a small patch changing the GNU-style initializers to C99
    initializers.

commit e1c578b53c24463693fd55e6fa17d8611d02da55
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:03:23 2004 -0800

    [PATCH] C99 initializers for drivers/usb/serial/keyspan.h
    
    From: "Art Haas" <ahaas@airmail.net>
    
    Here's a small patch changing the GNU-style initializers to C99
    initializers.

commit 2a089a966993d293e8923a11543ac762afef41c8
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:03:13 2004 -0800

    [PATCH] zr36067 driver update
    
    From: "Ronald S. Bultje" <rbultje@ronald.bitfreak.net>
    
    Fix the zoran driver (zr36067) for the fact that we did not handle
    bitrate-conversion at all in the zr36050 MJPEG codec (on DC30 cards), with
    the result being that at high-resolution, we'd overload the PCI bus and
    drop half of our video capture data into /dev/null'ishness.
    
    Also update Ronald's email address in MAINTAINERS.

commit 5d8087c3312143198baaa0b11d072941e5cf1a76
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:03:02 2004 -0800

    [PATCH] revert the /proc thread visibility fix
    
    It appears that gdb, perfmon and perhaps other applications are already
    opening /proc/<tid> even though it does not appear in /proc readdir output
    and is available under its group leader's directory anyway.
    
    Apparently ascertaining the group leader is hard for gdb and thsi trick
    always worked for LinuxThreads apps.
    
    So revert this change.

commit 12f6f861ada2b4637bd0b9b65aaf88e88b8026cb
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:02:51 2004 -0800

    [PATCH] dm-crypt end_io bv_offset fix
    
    From: Christophe Saout <christophe@saout.de>
    
    We should copy the bvec array for read requests so that we still
    have the unmodified bvec array to decrypt the data afterwards.
    
    (as discussed earlier this day for highmem bounces)

commit 08e03016390dfa82b0d38c1e045790507e3c6ccf
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:02:40 2004 -0800

    [PATCH] dm-crypt cleanups
    
    From: Christophe Saout <christophe@saout.de>
    
    These are some dm-crypt cleanups.  Use a #define PFX "crypt: " for all the
    places where something gets logged as suggested by Jeff Garzik.  It also
    adds a small additional security check and fixed header includes.

commit 2a0d3e3a82c7bece0b6d7f40d52561224aaf1c4c
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:02:30 2004 -0800

    [PATCH] fix in-place de/encryption bug with highmem
    
    From: Christophe Saout <christophe@saout.de>
    
    This patch fixes the bug where in-place encryption was not detected when
    the same highmem pages is mapped twice to different virtual addresses.
    
    This adds a parameter to xxx_process to indicate whether this is an
    in-place encryption and moves the responsability to the caller using a
    helper function scatterwalk.h.

commit 5f9e594b031e9eb76240991d7b3f5b88c5fb91a1
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:02:18 2004 -0800

    [PATCH] move scatterwalk functions to own file
    
    From: Christophe Saout <christophe@saout.de>
    
    I've cleaned up the latest patches and adjusted the header files.
    
    This patch moves the scatterwalk functions from cipher.c to
    scatterwalk.c and adds a header file.

commit 802c64c9a7e54fa825283a27773a1601ccdaf68c
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:02:08 2004 -0800

    [PATCH] fix small highmem bio bounce bvec handling glitch
    
    From: Christophe Saout <christophe@saout.de>
    
    __end_that_request_first might modify the bv_offset and bv_len if the
    segment was partially completed.  The bio-read-bounce-back code should use
    the unmodified bv_offset when copying the segment data:

commit 2a82ff9892d4faf27f57631f263d02e73fd18620
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:01:57 2004 -0800

    [PATCH] sysrq-o atomicity fix
    
    sysrq-o is supposed to power off the machine.  But if it calls into ACPI (at
    least) it does lots of sleepy things, so we best not do this from interrupt
    context.

commit 8edad7236359601215088b834476d1b835166dab
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:01:45 2004 -0800

    [PATCH] Doc/00-index additions
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    From: Alexey Dobriyan <adobriyan@mail.ru>
    
    Mostly added descriptions of files in Documentation/ that were not listed
    in Documentation/00-INDEX.

commit 3ed75bc3e60a6893c30bad31b88f9339c9ba1aa8
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:01:37 2004 -0800

    [PATCH] s390: xpram driver
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    xpram fix: Replace old style module parameter definition with new style.

commit a8e788daba5c421fe9d84f5bf733cc1459ffdac8
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:01:27 2004 -0800

    [PATCH] s390: tape class for s390 tapes
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    s390 tape device driver changes:
    
    - Add private tape class to support udev configuration.

commit 60da26d9a0de1f17405abd06e6641f9d949580f9
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:01:16 2004 -0800

    [PATCH] s390: sclp console
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    sclp console fixes:
    
    - Add signal-quiesce bug-fix from 2.4.
    
    - Add irq_enter/irq_exit to sclp_sync_wait to prevent the softirqs from
      processing after the external interrupt.

commit 35181f4310e5de3515795aa05853cc9c75cec3eb
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:01:06 2004 -0800

    [PATCH] s390: common i/o layer.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Common i/o layer fixes:
    
    - Remove documentation entry for non-existent cio_notoper_msg parameter.
    
    - Add documentation for availability attritube.
    
    - Replace function of the steal_lock attribute by "echo force" to the
      online attribute.
    
    - Trigger device sensing in the online function for unknown devices.
    
    - Always try to get devices online even if they are marked reserved.
      Someone could have released the device while it was offline.
    
    - Add try_module_get/module_put pairs to the online function of ccw devices
      and ccwgroup devices.
    
    - Add owner field to ccwgroup driver structure.  Set owner field in ctc,
      lcs and qeth.
    
    - Fix alignment problems in channel measurement block interface.

commit df6560baca6256778998f2ba1867eb53afb4c8d2
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:00:55 2004 -0800

    [PATCH] s390: core s390 update
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    s390 bug fixes:
    
    - Add missing i/o controls to compat ioctl translation table.
    
    - Fix some gcc 3.4 warnings.
    
    - Export _sb_findmap.
    
    - Export smp_call_function_on only if CONFIG_SMP=y.
    
    - Add safe-guard to diag10.
    
    - Add type definition for compat_timer_t.
    
    - Fix first argument of signal_processor_ps.

commit 5ba43334ac33aee2ae1cdb1990b472160c9ec068
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:00:44 2004 -0800

    [PATCH] ppc64: Update G5 defconfig, remove DISCONTIGMEM
    
    From: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    
    This patch updates the g5_defconfig on ppc64, running it through oldconfig
    and removing CONFIG_DISTCONTIGMEM.  I don't use the discontigmem stuff at
    all, even on machines with +2Gb of RAM, so it's just bloat.

commit bddf7e5df24a3aace761887c5b7e4347b2a7175a
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:00:34 2004 -0800

    [PATCH] Add missing numa EXPORT_SYMBOLs
    
    From: Anton Blanchard <anton@samba.org>
    
    Add some missing EXPORT_SYMBOLs.

commit 6431870d510f869cf9b39e5e0fb8268fd4b25295
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:00:24 2004 -0800

    [PATCH] ppc64: iSeries virtual disk update
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    This patch (hopefully) addresses concerns Christoph Hellwig had with the
    virtual disk probing code.

commit 783c8cbd12ee12713a93d7e1885598d7b3d262e6
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:00:12 2004 -0800

    [PATCH] ppc64: fix a bug in iSeries MMU hash management
    
    From: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    
    iSeries HyperVisor is doing some evilery when inserting PTEs that I didn't
    properly account for when rewriting that code, causing iSeries box to blow
    up regulary.

commit eb657e38ad787e1b10c25d1a5ac29cf312e8ac14
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 07:00:02 2004 -0800

    [PATCH] fix umount dataloss problem
    
    address_spaces have a `dirtied_when' jiffies field which records the time at
    which the mapping was first dirtied.  This is used for the periodic writeback
    (kupdate) function.  It is also used to prevent livelocks in the writeback
    code: don't try to write back objects which were dirtied after
    sync_sb_inodes() was called.
    
    It used to be the case that dirtied_when == 0 had magical properties, so
    there is code in there which avoids accidentally setting dirtied_when to zero
    at jiffy wrap time.  We just set it to jiffies|1.
    
    Unfortunately, jiffies|1 is in the future.  So under some rare timing
    circumstances (inode dirtied within one jiffy of umount) the livelock
    avoidance code in sync_sb_inodes() can accidentally trigger and we fail to
    write an inode out, resulting in filesytem corruption on ext2-style
    filesystems.  Normally, nobody dirties a file within a millisecond of umount,
    so it was not noticed.
    
    It is no longer the case that (address_space.dirtied_when == 0) has special
    meaning, so we can just remove all that code and fix the bug.

commit 72ab6a0ffb82dfe7f52b62d3c5210e6d24a1f80d
Merge: e3602cb... cb8d6e1...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Mon Mar 1 04:54:15 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/network-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit 37c7e3f3e448bd777b016071c2b1a9bce90d2a2b
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Mar 1 00:18:12 2004 -0800

    PCI Hotplug: fix stupid directory name of "pci_hotplug_slots" to be just "slots"

commit 69514275fbab1340a3b3e184b249483b6b61da1a
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Sun Feb 29 23:54:54 2004 -0800

    [PATCH] rename sys_bus_init()
    
    	rename sys_bus_init() to system_bus_init() so that
    	it doesn't appear to be a syscall;

commit e3602cb03acbb1d76762fb07bcf7160f889fdd98
Author: Santiago Leon <santil@us.ibm.com>
Date:   Sun Feb 29 23:28:49 2004 -0800

    [PATCH] broken PowerPC Virtual Ethernet
    
    This fixes the PowerPC Virtual Ethernet driver that got broken by the
    recent ppc64 iommu patch...

commit 521d85de8ec3fbce58c336389106afb257086976
Merge: 5f7e3b2... a754843...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Feb 29 23:27:21 2004 -0800

    Merge bk://gkernel.bkbits.net/libata-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 5f7e3b2fa801dc6218069293f9f750f735ff8025
Merge: 77dd8f2... dc36ad0...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Feb 29 23:26:36 2004 -0800

    Merge bk://gkernel.bkbits.net/net-drivers-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit dc36ad08b0883a8b9733f926bfc1b52c054cf6be
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Mon Mar 1 03:37:04 2004 -0500

    [PATCH] Wireless pcmcia netdev patches
    
    On Mon, Nov 17, 2003 at 02:57:44PM -0800, Jean Tourrilhes wrote:
    > On Sun, Nov 16, 2003 at 11:33:01PM +0000, Russell King wrote:
    > > Jean,
    > >
    > > Could you please arrange for this patch to be tested?  It covers all
    > > the PCMCIA wireless drivers in 2.6.0-test9; I haven't been able to
    > > test.
    >
    > 	Dual P500, kernel 2.6.0-test9 + your patch.
    > -------------------------------------------------
    >...
    > 	Few comments :
    > 	o Yanked the cards out of the socket, cardmgr did ifconfig
    > down and removal of module automatically.
    > 	o I did not see any patch for the Orinoco driver, but I did
    > not check if it needs one. Did not look at HostAP either...
    > 	o wl3501_cs : ask Arnaldo.
    > 	o With 2.6.0-test9, I had instances of "can't read CIS". I
    > actually had to reboot to perform the test.
    > 	o The kobject Oops is something I think I saw before. I never
    > remove my Aironet card because I don't want to reboot :-( This time,
    > it seems to have survived better, so I see that as progress ;-)
    
    This patch seems to have been forgotten about, so here it is again,
    this time against 2.6.4-rc1.  This really needs to be send upstream,
    though I don't know where we got to with this one.  Maybe we should
    put it in akpm's tree for a while?
    
    It's essentially more of the "don't deadlock if you pull out a
    PCMCIA network card and it's currently configured up" patch which
    went in recently for PCMCIA NIC cards.

commit 980a33b06019df14e126fb79f57092a008f4543f
Author: Marc Zyngier <mzyngier@freesurf.fr>
Date:   Mon Mar 1 03:36:55 2004 -0500

    [PATCH] Re: 2.6.4-rc1 + hp100 EISA, not working
    
    >>>>> "Pawel" == Pawe  <Pawe> writes:
    
    Pawel> On 2.6.3 it just Oopsed and didn't work. On 2.6.4-rc1 it does
    Pawel> not oops but it doesn't work (neither as module nor as build in kernel).
    
    Note that hp100 in 2.6.4-rc1 is still broken wrt EISA probing, since
    it lacks the terminating entry in the EISA ID list. This one-liner
    should take care of random crashes that are often reported to LKML :
    
    ===== drivers/net/hp100.c 1.24 vs edited =====

commit 77dd8f26cd2a6295e2ed5af1f494da3bc772c8a5
Merge: 52c785d... d16bb53...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Feb 29 23:25:37 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 52c785dadd6eadbf6435e85f01dbbc5461fcfca6
Merge: 2cc49b5... e3439af...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Feb 29 23:24:01 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-rmk
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit e3439af1384720f9f8f4987595c889ed82616f09
Author: Hollis Blanchard <hollisb@us.ibm.com>
Date:   Sun Feb 29 22:07:55 2004 -0800

    [PATCH] ppc64: export vio_find_node()
    
    To hotplug-remove virtual devices, we need vio_find_node() so we have a
    pointer to pass to vio_unregister_device().

commit 84c6b89af5436079f32fc69edd2876afda73eeb6
Author: Hollis Blanchard <hollisb@us.ibm.com>
Date:   Sun Feb 29 22:07:43 2004 -0800

    [PATCH] ppc64: make "viodev->unit_address" 32-bit
    
    vio_dev->unit_address only holds 32 bits of information anyways, so no
    need for 64-bit field.

commit db8d295b662a7a99446428d143918a9adaf8d0c2
Merge: 0672b0b... 06e15ce...
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Sun Feb 29 22:20:17 2004 -0600

    Merge jfs@jfs.bkbits.net:linux-2.5
    into austin.ibm.com:/shaggy/bk/jfs-2.5

commit 53e66bd3d183319152b64b72dbbfe65df6ef041d
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Feb 29 19:43:06 2004 -0800

    [PATCH] Fix USB printer transfers
    
    From Barry K. Nathan
    
    This fixes the ulblp transfer length code, which would otherwise skip
    the final iteration and lead to incomplete printer output (and us
    waiting forever for the transfer to complete)

commit d16bb53bde78e8343bd0578d07677b3416f8cd35
Merge: 7121bf3... ab1b2b6...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Sun Feb 29 18:36:11 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/sparc-2.6
    into kernel.bkbits.net:/home/davem/sparc-2.6

commit 7121bf3095cb466e1075cfa218ae21f181743162
Merge: b090abd... b3a7ef3...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Feb 29 17:58:35 2004 -0800

    Merge bk://bk.phunnypharm.org/sparc-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit b090abd1abcb2a06d6057775cc2c360e00411dc5
Merge: 0672b0b... e4e2cff...
Author: Ben Collins <bcollins@debian.org>
Date:   Sun Feb 29 23:36:17 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/sparc-2.6

commit e4e2cff8eeaa6f61ff9f953b06cdead25708fbf8
Author: Ben Collins <bcollins@debian.org>
Date:   Sun Feb 29 23:34:23 2004 -0500

    SPARC/m68k: Remove sun_setup_serial references, which is already gone.

commit cb8d6e1eb90c469de08a99eb92ac51cba3169f25
Merge: ab1b2b6... 4c94032...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Feb 29 17:53:36 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/network-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit 07c9872e05ca4252b8444a31b72d131a931031da
Author: Torben Mathiasen <torben.mathiasen@hp.com>
Date:   Sun Feb 29 17:48:14 2004 -0800

    [PATCH] PCI Hotplug: Patch to get cpqphp working with IOAPIC
    
    On Fri, Feb 13 2004, Sy, Dely L wrote:
    > Since filling out the INTERRUPT_LINE is needed for systems running
    > with legacy irqs and not needed for systems running with IO-APIC.  The
    
    > possible
    > solutions:
    > 1) Best is there is a run-time check (a flag or an API call) that tells
    >    whether the system is running on legacy mode or IO-APIC mode. Is there
    >    such check that you know of?
    
    Dan suggested that we look at what IRQ the hotplug controller has been
    assigned in the MPS table. If its < 0x10 we're in legacy/mapped mode.
    That would probaly work
    
    > > >
    > > > Do those servers work on 2.6.2 without my patch?
    > > >
    >
    > > Yes
    >
    > They work but they get dev->irq = 9 or 11 in the APIC enabled mode.
    > Correct?
    >
    
    Yes. All hot-added adapters get legacy IRQs like IRQ5 in the example
    below where eth2 was added after bootup:
    
    
    linux:~ # cat /proc/interrupts
               CPU0       CPU1       CPU2       CPU3
    0:     831113          0          0          0    IO-APIC-edge  timer
    1:        255          0          0          0    IO-APIC-edge  i8042
    2:          0          0          0          0          XT-PIC  cascade
    5:          0          0          0          0          XT-PIC  eth2
    8:          2          0          0          0    IO-APIC-edge  rtc
    12:         92          0          0          0   IO-APIC-edge  i8042
    14:         29          0          0          0   IO-APIC-edge  ide0
    20:          0          0          0          0   IO-APIC-level cciss0
    21:          0          0          0          0   IO-APIC-level cciss1
    29:        107          0          0          0   IO-APIC-level eth0
    30:       7702          0          0          0   IO-APIC-level aic7xxx
    31:         30          0          0          0   IO-APIC-level aic7xxx
    34:        336          0          0          0   IO-APIC-level
    cpqphp.o, cpqphp.o
    NMI:          0          0          0          0
    LOC:     830760     830893     830892     830891
    ERR:          0
    MIS:          0
    
    I attached a patch that does the legacy mode check that Dan suggested
    and IRQs for hot-added adapters seems to be given out in the APIC range.

commit ab1b2b631b7ab2dd2ce37f8db89f83d4a1c11744
Author: Jens Axboe <axboe@suse.de>
Date:   Sun Feb 29 15:44:38 2004 -0800

    [PATCH] fix CDROM_SEND_PACKET 32 -> 64-bit translation
    
    Here's a much better version.  The real bug was of course that the
    get_user/put_user for data_direction were transposed.
    
    This patch also fixes the translation of "quiet" and "timeout" to be
    safer and clearer (instead of memcpying them as two ints and knowing
    that "quiet" is first and assuming that "compat_int_t" is always the
    same as the native "int", the code now handles them explicitly).
    
    We should use "access_ok()" and __get_user/__put_user to generate better
    code for this, but it's not performance-critical, so we don't care.
    Some other day, perhaps.

commit 9609c7e269ded71618079d6f66aac697772fece6
Merge: 93229fe... 849ee9b...
Author: Len Brown <len.brown@intel.com>
Date:   Sun Feb 29 17:30:57 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.3
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit 849ee9b96d03af001a062f1c4ab68413ecc211e0
Author: Len Brown <len.brown@intel.com>
Date:   Sun Feb 29 17:27:14 2004 -0500

    [ACPI] delete ACPI table parsing code from bootflags module

commit 93229feef52face1d82aca1b53a1a85f8e14621b
Merge: 0790a58... e707332...
Author: Len Brown <len.brown@intel.com>
Date:   Sun Feb 29 15:25:41 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.3
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit e707332d28876e3fa79c7ed990c945bc73950bc0
Merge: 69ac14b... cec1ea6...
Author: Len Brown <len.brown@intel.com>
Date:   Sun Feb 29 15:22:10 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.2
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.3

commit cec1ea6b957bdf9d17743ccf477e491d5d9306e6
Author: Len Brown <len.brown@intel.com>
Date:   Sun Feb 29 15:20:58 2004 -0500

    [ACPI] Support for PCI MMCONFIG for PCI Express (Matt Wilcox)

commit 0790a58dfc8b5628b80a181fcd975daa76763134
Merge: 5793b2a... 69ac14b...
Author: Len Brown <len.brown@intel.com>
Date:   Sun Feb 29 14:38:45 2004 -0500

    merge

commit 69ac14be166e3acd94c686025893ef0071955241
Merge: b892eea... 594473b...
Author: Len Brown <len.brown@intel.com>
Date:   Sun Feb 29 14:07:00 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.2
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.3

commit 594473bf0fc43d9784f314efc5ad55b8cca8e21e
Author: Len Brown <len.brown@intel.com>
Date:   Sun Feb 29 14:05:29 2004 -0500

    [ACPI] acpi_boot_init() cleanup suggested by Matt Wilcox
    HPET doesn't depend on IOAPIC

commit 4c940322378f555e92c29acface32045bfafc55b
Author: Bart De Schuymer <bdschuym@pandora.be>
Date:   Sun Feb 29 05:53:00 2004 -0800

    [BR_NETFILTER]: Fix vlan-encapsulated fragmented IP traffic.
    
    When vlan-tagged fragmented IP traffic passes the bridging firewall and
    ip_conntrack is loaded and iptables sees this IP traffic, an oops can
    occur when trying to fragment the defragmented packets. This only
    happens in the slow_path of ip_fragment().
    The problem was reported, diagnosed and fixed by Adam Osuchowski and
    Tomasz Dubinski.
    When ip_fragment() is fragmenting an IP packet that's encapsulated, it has
    to make sure there is enough head room for the encapsulating header.
    
    The patch below fixes it. I saw no other way than to add some code to
    ip_fragment(), but this extra code is located in the slow_path so it's
    hardly ever executed.

commit dc49a382550eac9e87062e092f18ba3b5acfae2f
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Feb 29 05:40:40 2004 -0800

    [TIGON3]: tg3_phy_copper_begin() tweaks.
    
    - Zap wait_for_link arg, never set.
    - Decrease delay loop when forcing link down.

commit 5793b2a23522f438ca64d8f93b1a93b5f0c07805
Merge: 675d48b... 0dedb5c...
Author: Len Brown <len.brown@intel.com>
Date:   Sun Feb 29 06:39:08 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit 8193fa3312766815887223043938a730e8128da0
Author: Ben Collins <bcollins@debian.org>
Date:   Sun Feb 29 03:30:03 2004 -0500

    IEEE1394/ohci(r1179): Remove ohci->id. It was just the same as host->id anyway.

commit 6cdcd30064a614faec316a6bdbda0dd0d1daf3d7
Author: Roger Luethi <rl@hellgate.ch>
Date:   Sun Feb 29 03:23:48 2004 -0500

    [PATCH] Update via-rhine Kconfig entry
    
    Previous Kconfig change was incorrect, this is a better one.

commit 4b832804af47e15a75680423d25e7a74736edad2
Author: Geert Uytterhoeven <geert@linux-m68k.org>
Date:   Sun Feb 29 03:23:40 2004 -0500

    [PATCH] lost Amiga Hydra Ethernet patch
    
    On Fri, 27 Feb 2004, Linus Torvalds wrote:
    > Ok, as usual, there was a lot of stuff for the -rc1, but as seems to be
    > more and more true it is mainly in the "periphery".
    >
    > Andrew Morton:
    >   o m68k: Amiga Hydra Ethernet new driver model
    
    This part of the patch seems to have been lost (root_hydra_dev is no more):

commit bb7f45522b02bfeb20121c6e0f433c518326e714
Author: Ben Collins <bcollins@debian.org>
Date:   Sun Feb 29 01:37:00 2004 -0500

    IEEE1394/dv(r1177): Fix dv1394 devfs cleanup.

commit a7672d54d7a8c246eade396e434af40bc6499956
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Feb 28 23:36:26 2004 -0500

    IEEE1394(r1176): Remove mempool and ctor stuff.

commit 6255dabbd9a0f451704a90000634b04e0d004ee5
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Feb 28 22:46:48 2004 -0500

    IEEE1394: Revision sync.

commit f8f5bc451f475a6d2c6b8eeedb3dadc51ac04244
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Feb 28 22:33:21 2004 -0500

    IEEE1394/eth1394(r1175): Added MODULE_DEVICE_TABLE().

commit dc42ad2ccae85b2fa7a57fe6c89cd5c7e2a62590
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Sun Feb 29 02:56:45 2004 +0100

    [Bluetooth] Use BT_ERR wherever possible
    
    This patch neatens the code by using BT_ERR and so using the function
    name in the macro to save code and rom space.
    
    Patch from Joe Perches <joe@perches.com>

commit 2cc49b5068ec6c7df8a8f2e5b0b6cc42a1869112
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sat Feb 28 17:39:08 2004 +0000

    [ARM] Always return IRQ_HANDLED for USB interrupts
    
    The SA1111 appears to re-trigger an interrupt immediately following
    a successful interrupt, despite no interrupt actually pending.

commit 354c3fa90011c36d47adab958eea6623c1c6da79
Author: Steve Kinneberg <kberg@linux1394.org>
Date:   Sat Feb 28 12:25:59 2004 -0500

    IEEE1394(r1174): Fixed a problem parsing directories with null entries.

commit b3a7ef38e4720a4b5940610fe6318aa86273618a
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sat Feb 28 05:13:08 2004 -0800

    [SPARC64]: Add support for CONFIG_DEBUG_STACK_USAGE.

commit d3684330cc2ba363dfac931461e7f570da280a3d
Author: Steve Kinneberg <kberg@linux1394.org>
Date:   Sat Feb 28 07:14:55 2004 -0500

    IEEE1394(r1173): Small change to csr1212 prevent possible kernel panics from improper directory parsing.

commit a7548431747db16bffef506f5eb7e4eb9a146b3f
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Sat Feb 28 07:03:13 2004 -0500

    [libata] Use scsi_finish_command as completion function,
    in our error handling thread callback.
    
    This also exports scsi_finish_command in the SCSI layer.
    
    Thanks much to James Bottomley and his patience, as this solution
    was figured out.

commit b865c7155b1f9414e1dd3aafa38d790d41362138
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sat Feb 28 11:39:52 2004 +0000

    [ARM] Update ICS IDE driver.
    
    Update ICS IDE driver with ide-dma and bio changes.

commit bd3895ad0c656b75c807291a8226938b454976ba
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Feb 28 04:17:30 2004 -0500

    IEEE1394(r1172): Generalize the default config rom entries for new hosts.

commit ec91be9a2f24716484f31d74ddec1af1fb19d00d
Merge: a26e316... dc42ad2...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sat Feb 28 01:03:26 2004 -0800

    Merge http://linux-mh.bkbits.net/bluetooth-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit a26e316ce917442be0b1eb9644fdb35435cfc1d5
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sat Feb 28 00:21:03 2004 -0800

    [AF_UNIX]: Mark unix_*_ops as static.

commit 6256106792ec372c80a0d1b08741bd4272869aaf
Author: Steven Dake <scd@broked.org>
Date:   Sat Feb 28 00:11:23 2004 -0800

    [AF_UNIX]: Add SOCK_SEQPACKET support.

commit 6d31eea64ce46f06345499b25490bba48aeaee7f
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sat Feb 28 00:06:18 2004 -0800

    [NET]: Propagate dev_mc_{add,delete}() error to SIOC{ADD,DEL}MULTI.
    
    Noticed by Randy Dunlap.

commit 1a075fb1eb70cb6db2de4a2c19ba1de85aadd832
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Feb 27 23:54:29 2004 -0800

    [ATM]: Gcc-3.5 fix for net/atm/lec.c

commit 07bb44f3091a21f95be065c1aab08f6c0f3eb590
Author: Timothy Shimmin <tes@sgi.com>
Date:   Sat Feb 28 16:25:07 2004 +1100

    [XFS] Fix log recovery case when have v2 log with size >32K and we have a
    Log Record wrapping around the physical log end. Need to reset
    the pb size back to what we were using and NOT just 32K.
    
    SGI Modid: xfs-linux:xfs-kern:167196a

commit 9d304963bbf37f9286f69caecc2528e273202b68
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Feb 28 16:21:11 2004 +1100

    [XFS] Fix length of mount argument path strings, off by one.
    
    SGI Modid: xfs-linux:xfs-kern:167192a

commit 315e2d46750c51058ea40984a08b3a75efba95ee
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Feb 28 16:17:12 2004 +1100

    [XFS] Implement mrlocks on top of rwsems, instead of using our own mrlock code.
    
    SGI Modid: xfs-linux:xfs-kern:167181a

commit b066237f2a343392f2b213cb017a2dd392328d15
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Feb 28 00:01:20 2004 -0500

    IEEE1394/Video1394(r1171): Fix bug with cdev_add usage from a previous change.

commit 0a5e5d6b8c03d23672fa7f01d33584fe6e05a741
Author: Christoph Hellwig <hch@sgi.com>
Date:   Sat Feb 28 16:01:03 2004 +1100

    [XFS] only lock pagecache pages
    
    SGI Modid: xfs-linux:xfs-kern:167054a

commit 7212151ac77769de8d8d4c78759a9912f1c80ac4
Author: Ben Collins <bcollins@debian.org>
Date:   Fri Feb 27 23:58:45 2004 -0500

    IEEE1394/SBP2(r1170): Unblock scsi requests specifically in the update callback.

commit f12ef8824174aaceea362052ac3a5b0164d75f9e
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Feb 28 15:57:48 2004 +1100

    [XFS] Fix the by-handle attr list interface (used by xfsdump) for security attrs.
    
    SGI Modid: xfs-linux:xfs-kern:167038a

commit 89d5f798a99c2e785bf30775387fb432a567f7db
Author: Jon Krueger <jpk@sgi.com>
Date:   Sat Feb 28 15:55:11 2004 +1100

    [XFS] Merge missing mount stripe-unit/width-alignment check.
    
    SGI Modid: xfs-linux:xfs-kern:166614a

commit 5f315a6a11ef3318799d538c817623a4923c7745
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Feb 28 15:52:08 2004 +1100

    [XFS] Fix BUG in debug trace code, it was plain wrong for the unmapped page case.
    
    SGI Modid: xfs-linux:xfs-kern:166828a

commit ddc13f45a0602e6b6ecc811732bf5fb3d0eda177
Author: Christoph Hellwig <hch@sgi.com>
Date:   Sat Feb 28 15:49:07 2004 +1100

    [XFS] Fix up daemon names
    
    SGI Modid: xfs-linux:xfs-kern:166665a

commit 33c454584540024053615837fb05f2ba621c0f03
Author: Christoph Hellwig <hch@sgi.com>
Date:   Sat Feb 28 15:46:25 2004 +1100

    [XFS] Remove a superflous i_size_write
    
    SGI Modid: xfs-linux:xfs-kern:166629a

commit 79cbe128beda072dafe96e51252264f1181d5bf7
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Feb 28 15:43:43 2004 +1100

    [XFS] Use a naming convention here thats more consistent with everything else.
    
    SGI Modid: xfs-linux:xfs-kern:166562a

commit 55e585b4f2ebbddb8af541d05147baf2e4a7ff1d
Author: Christoph Hellwig <hch@sgi.com>
Date:   Sat Feb 28 15:40:48 2004 +1100

    [XFS] use generic XFS stats and sysctl infrastructure in pagebuf
    
    SGI Modid: xfs-linux:xfs-kern:166505a

commit bf47e0c2861fd07d58d9b36943b4d6d7a8d9a06d
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Feb 28 15:36:22 2004 +1100

    [XFS] Add I/O path tracing code, useful in diagnosing that last unwritten extent problem.
    
    SGI Modid: xfs-linux:xfs-kern:166497a

commit 8f45cdd98f99e0b93e87f24b2aeff97972432da7
Author: Timothy Shimmin <tes@sgi.com>
Date:   Sat Feb 28 15:28:28 2004 +1100

    [XFS] Add XFS_FS_GOINGDOWN interface to xfs.
    
    SGI Modid: xfs-linux:xfs-kern:166489a

commit 23d5a8c11337fc726b155a7fdebf12f5d07322f7
Author: Nathan Scott <nathans@sgi.com>
Date:   Sat Feb 28 15:23:13 2004 +1100

    [XFS] Use same string for identifying whether security namespace is enabled.
    
    SGI Modid: xfs-linux:xfs-kern:166409a

commit 0672b0ba604de52f65c5bc8a6a25e6100c1e68a0
Merge: 675d48b... 12414d6...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Fri Feb 27 18:43:10 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit 12414d6e2e55d6ba5dbf1fc63e8f96c9060345d1
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Fri Feb 27 18:39:58 2004 -0800

    [TCP]: Restart tw bucket scan when lock is dropped, noticed by Olof Johansson.

commit 675d48b7c8be36be9cd92e4ca87417f9fd7129e0
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Fri Feb 27 15:58:28 2004 -0800

    [PATCH] oops on HPFS filesystem file rename
    
    Maurice van der Stee noted that he got an oops on a HPFS filesystem when
    saving an edited file..
    
      <stares at the code>
      <blinks>
      <wonders whereTF do we assign hpfs1_i and hpfs2_i if both inodes are non-NULL>
      <finds the patch in question>
      <stares at jgarzik>
    
    This fixes it.  That, BTW, means that *nobody* had ever tried to use
    hpfs r/w since 2.5.3-pre3.

commit ea4a229c949138d4156a80a8b46222a4471bd43c
Author: Adrian Bunk <bunk@fs.tum.de>
Date:   Fri Feb 27 15:54:20 2004 -0800

    [PATCH] move rme96xx to Documentation/sound/oss/
    
    From Hans Ulrich Niedermann
    
    All sound documentation with the exception of the OSS rme96xx
    documentation is under Documentation/sound/{alsa,oss}.
    
    Move the rme966xx docs, and fix the Kconfig comments

commit c2824b8b22b57bb54a8e4328b850f4b273b2eaa9
Author: Philippe Elie <phil.el@wanadoo.fr>
Date:   Fri Feb 27 15:50:29 2004 -0800

    [PATCH] oprofile needs smp_num_siblings on x86-64
    
    P4 oprofile needs cpu_sibling_map and smp_num_siblings, the later
    was not exported

commit ab30a5926a71a6fbde7ae3fc7a035a659de027a4
Author: Olof Johansson <olof@austin.ibm.com>
Date:   Fri Feb 27 15:48:48 2004 -0800

    [PATCH] ppc64: Use iommu=force instead of iommu=on for commonality with x86_64

commit 9658e7b72522551c65a823f274d6517a5c550b4b
Merge: 26d5aa5... e455002...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Feb 27 15:45:55 2004 -0800

    Merge http://lia64.bkbits.net/to-linus-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit e455002acc26f7429276edba5cfad6efa9766ac9
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Fri Feb 27 10:02:53 2004 -0800

    ia64: Fix pdflush-triggered stack-overflow due to long thread-creation chains.
    
    The pdflush kernel threads can lead to an unbounded chain of thread-creations
    which can overflow the kernel stacks because we didn't uses to reset
    the stack on kernel thread-creation.  We do now.
    
    Reported by Andreas Schwab, tracked down with help from Keith Owens.

commit 61f455942fca5f455594ae57077d852320b550dc
Author: Ben Collins <bcollins@debian.org>
Date:   Fri Feb 27 11:39:55 2004 -0500

    IEEE1394: Revision sync

commit e05ddeb9517a01b1daac2d9d9d3bd6b987775f6c
Author: Ben Collins <bcollins@debian.org>
Date:   Fri Feb 27 11:28:29 2004 -0500

    IEEE1394(r1169): Trivial cleanups.

commit 3bbd038f62c6ceaa871a5a4184f369eafb3b3415
Author: Ben Collins <bcollins@debian.org>
Date:   Fri Feb 27 11:21:41 2004 -0500

    IEEE1394(r1168): Add on a mempool for packet allocation, in addition to the kmem_cache.

commit ac2b25e8e29c722bd249090d3f3471e46e90a77b
Author: Peter Chubb <peterc@gelato.unsw.edu.au>
Date:   Fri Feb 27 05:45:51 2004 -0800

    [PATCH] ia64: greatly speed-up I/O-SAPIC irq_enable()/irq_disable()
    
    This patch changes the I/O SAPIC code to cache the low 32 bits of the mask
    word in kernel memory.  This greatly speeds up mask_irq() and unmask_irq().
    
    Normally, these operations are not on the speed-critical path of the
    kernel but with certain devices drivers (including users-level device-
    drivers) they can become performance-critical.

commit 4ab241d2aa41b259bd769f7fbe18576d449d4a93
Author: Stéphane Eranian <eranian@hpl.hp.com>
Date:   Fri Feb 27 05:39:54 2004 -0800

    [PATCH] ia64: perfmon update
    
            - fix bug in pfm_unload(), not allowed when not on correct CPU for
              system-wide
            - some perf/cleanup in overflow handler
            - fix reset_pmds to be on a per PMD basis on counter overflow rather
              than global
            - remove timing debug code on messages
            - no kernel info leak on PFM_END_MSG
            - remove double-store on reg_flags for pfm_write_pmcs, pfm_write_pmds
            - on restart reset_pmds is 0 by default
            - cleanup useless macros
            - cleanup some debug prints
            - added ability to remove debug code
            - streamlined sys_perfmonctl(), pfm_read_pmds(), pfm_write_*()
            - added current->tgid to default format sample header by using one
              reserved field

commit 9fe55b959beabdb8b449bdb9225860a84e8640ff
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Fri Feb 27 05:17:14 2004 -0800

    ia64: Fix IDE block-layer BUG_ON() reported by Darren Williams.
    
    The problem was that IDE-disks on machines with IDE harddisks,
    memory above 4GB and no hardware I/O TLB would go BUG_ON() in
    blk_queue_bounce_limit() because the IDE-controller could only
    address 4GB of memory and that was much less than BLK_BOUNCE_ISA
    (which is equal to ISA_DMA_THRESHOLD).  Note that the problem does
    NOT trigger with CD-ROMs, which always uses the software I/O TLB
    (and hence bounce-buffers) on such machines.
    
    The best fix seems to be to simply lower ISA_DMA_THRESHOLD to 4GB-1 since
    that will ensure that the IDE block layer allocates memory with GFP_DMA,
    which will minimize bounce buffering.

commit 713d8db7b5a04f504e26e10dab25f35a0e0e9cdb
Merge: a42571a... 49b5de2...
Author: Ben Collins <bcollins@debian.org>
Date:   Fri Feb 27 07:29:30 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/ieee1394-2.6

commit a42571a87e67ddb8fcd93d63838bb08701d33b94
Merge: afc2ce8... aab147d...
Author: Ben Collins <bcollins@debian.org>
Date:   Fri Feb 27 06:21:41 2004 -0500

    Merge

commit 0dedb5c71e3947caded994b9c300f72e74be7662
Merge: 360adfc... afc2ce8...
Author: Len Brown <len.brown@intel.com>
Date:   Fri Feb 27 06:08:13 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit 5d3b6e34c3a0bbeadbec08570cfeb9d1f696a002
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Feb 27 05:14:25 2004 -0500

    [PATCH] hp100 -- isa probe fix
    
    Jeff, here is a cleaned up version of the 2.6.3 hp100 isa (non-modular) probing.
    It needs to check for the board being present before reading the signature.

commit 26d5aa5a47abaeaf7c3fdf20f3cd66ab1f8c58d3
Merge: a8a6ec6... 585abe0...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Feb 27 01:24:36 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-rmk
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 585abe04553c56a54c40d873d753d9dd315dbb1e
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 22:45:22 2004 +0000

    [MTD] Update integrator-flash.c with MTD CVS.
    
    Allow command line partitioning for use with Integrator flash.

commit 832dcfeb32d2a13d9e32ec3a6ac2babcd91dd7eb
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 22:14:34 2004 +0000

    [MTD] Fix ARM Firmware Suite MTD partition detection.
    
    Tighten AFS partition checks:
    - check footer checksum.
    - check that the image name is NUL terminated.
    - return error from mtd->read intact.
    This prevents us finding bogus AFS partitions.

commit ecf5899f13e20b01425c54824f3c5d34adbe5a43
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 21:52:15 2004 +0000

    [ARM] Fix SA1111 OHCI IRQ handler return type.

commit 0bc6fe2fc965ca258df31c718a584e6dd36701f8
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 21:18:15 2004 +0000

    [MTD] Fix build errors in Lubbock MTD map driver.

commit a8a6ec603aff68961521f0a39fc36790a40e914b
Author: Olof Johansson <olof@austin.ibm.com>
Date:   Fri Feb 27 01:23:31 2004 -0800

    [PATCH] ppc64: Add iommu=on for enabling DART on small-mem machines
    
    This makes it possible for people like me with a small-mem G5 to enable
    the DART.  I see two reasons for wanting to do so:
    
    1. To debug/test DART/iommu code itself (small audience, including
       myself).
    2. To debug drivers on small-mem machines, since bad pci_map*() usage will
       be punished (possibly larger audience).

commit d6ae6e4140f2b685c23f056d79cc374740240f56
Merge: 08c7694... 116cd69...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Feb 27 01:22:53 2004 -0800

    Merge bk://kernel.bkbits.net/gregkh/linux/pci-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 116cd69c5c4199a89306e5548b49e87737be971a
Author: Chip Salzenberg <chip@pobox.com>
Date:   Fri Feb 27 01:22:02 2004 -0800

    [PATCH] export locks_remove_posix
    
    kNFSd needs it.

commit 727dd157cf7031f044ba5de0e051b2d8e00c5f56
Merge: 49b5de2... 500ba47...
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Fri Feb 27 01:13:54 2004 -0800

    Merge tiger.hpl.hp.com:/data1/bk/vanilla/linux-2.5
    into tiger.hpl.hp.com:/data1/bk/lia64/to-linus-2.5

commit 28fc737a83a7de459b1425b78adeb31b5fcfb96e
Merge: 08c7694... 49b5de2...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Feb 26 23:23:55 2004 -0800

    Merge kroah.com:/home/greg/linux/BK/bleed-2.6
    into kroah.com:/home/greg/linux/BK/pci-2.6

commit 500ba47cef3b1ab94717929eb195eadbc8b98ae9
Author: Kenneth W. Chen <kenneth.w.chen@intel.com>
Date:   Thu Feb 26 23:07:27 2004 -0800

    [PATCH] ia64: move irq_entry()/irq_exit() to ia64_handle_irq()
    
    This patch fixes a bug which could cause do_softirq() to be called
    at the wrong time (from do_IRQ()) or without pre-emption protection.

commit 49b5de2595de957565d94a4a6df51107e3efd420
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Feb 26 22:17:12 2004 -0800

    Linux 2.6.4-rc1

commit 7b206384f814ecf597f7c91b65c76822db66adea
Merge: afc2ce8... cc9b256...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Feb 26 22:09:57 2004 -0800

    Merge kroah.com:/home/greg/linux/BK/bleed-2.6
    into kroah.com:/home/greg/linux/BK/driver-2.6

commit 638dcbe418cca9e109a6dbc805941126afb63777
Merge: afc2ce8... 844d1b9...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Thu Feb 26 21:39:13 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit 844d1b9f9dee447aa1613e2203c8666fe1d48be0
Merge: f2f4031... 08027d0...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 26 21:25:15 2004 -0800

    Merge http://linux-lksctp.bkbits.net/lksctp-2.5.work
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit f2f4031d2ab714f760460fa44647915ecaaaad28
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 26 20:30:30 2004 -0800

    [SUNRPC]: Use '%z' for size_t printk in svcauth_gss.c

commit cc9b256efc8e047e7f2837f4d6812a2f3506d4e4
Author: Max Asbock <masbock@us.ibm.com>
Date:   Thu Feb 26 19:40:48 2004 -0800

    [PATCH] Driver for IBM service processor - updated (2/2)
    
    Here is the filesystem part for the IBM RSA service processor device driver

commit 81e38ceb46f271395b09b3d5d7687b9bc5c1f1ad
Author: Max Asbock <masbock@us.ibm.com>
Date:   Thu Feb 26 19:40:29 2004 -0800

    [PATCH] Driver for IBM service processor - updated (1/2)
    
    Here is a device driver for the IBM xSeries RSA service processor.
    The ibmasm driver is mainly intended to be used in conjunction with a user space
    API and systems management applications that need to get in-band access to
    the service processor, such as sending commands or waiting for events.
    For the remote video feature the driver relays remote mouse and keyboard
    events to user space.
    By itself the driver also allows the OS to make use the UART on the service
    processor board as a regular serial line.
    
    The user interface to the driver is a custom file system. It does not use sysfs since
    the operations on the files are somewhat beyond the one file / one value rule for sysfs.
    Since it is not strictly a char driver I put it into the drivers/misc directory.
    
    The patch is fairly big, therefore I split it up into the file system part and the
    everything-else part.
    
    Here is the non-filesystem part:

commit afc2ce80fa7ef0431d0bc3316ebbc42567fe9fa8
Merge: abd59f4... 0a3dd11...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Feb 26 19:40:17 2004 -0800

    Merge bk://gkernel.bkbits.net/misc-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 0a3dd111485d48b5c21447abc2845a5929142e21
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Feb 27 03:03:51 2004 -0500

    [IDE] Create DECLARE_PIIX_DEV declarator, to eliminate a large amount
    of redundancy, and to help prevent future errors.

commit abd59f4ab940341353dd7ee4540b64c790d98a8d
Author: Hollis Blanchard <hollisb@us.ibm.com>
Date:   Thu Feb 26 19:30:41 2004 -0800

    [PATCH] ppc64: virtual IO bus updates
    
    This makes GregKH happy by removing the device name from the
    device.bus_id field (and replacing it with a "name" sysfs attribute).
    
    It also renames the parent device from "vdevice" to "vio", making the
    /sys/bus and /sys/devices hierarchies consistent.

commit f8c72e9ef81484b4debfd1046d91d3b4aa8c19a4
Merge: c07ac04... f01324b...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Feb 26 19:29:59 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-rmk
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit f01324b36e26a467636ba73b3b24b4b27336f862
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 18:16:49 2004 +0000

    [ARM] Make free_memmap() use PFNs instead of physical addresses.

commit 45425f2ffe9bb958b7701c7cd6e0186d4556795a
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 17:18:54 2004 +0000

    [ARM] amba_{request,release}_regions
    
    Add documentation for the above two functions.  Allow a NULL name to
    be passed to amba_request_regions.  In this case, we use the driver's
    name associated with the device.

commit eee258d47e55e50f4a7cb3c6eaaa90cb76b761f8
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 17:04:55 2004 +0000

    [ARM] Add resources and platform devices for SA11x0 serial ports.

commit 37f1417de8343c372435c83a913c2eaee7b8c54f
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 16:37:12 2004 +0000

    [ARM] Allow decompressor to use "cache type" register
    
    This allows the decompressor to automatically detect the geometry of
    the cache while booting to ensure correct behaviour over a wider
    number of ARM CPUs.

commit d23f71370cb2da1d83e42c2eba4ecae325828157
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 15:50:02 2004 +0000

    [ARM] Optimise readsl.
    
    This optimises the underlying string-long read function for little
    endian platforms.

commit 3297f15fb418be4b4227ab57225c83641861122c
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 15:41:20 2004 +0000

    [ARM] Improve bad IRQ reporting.
    
    This gives greater information on the cause of the bad IRQ, allowing
    the cause to be more effectively traced.

commit c56ac808932f25b9b31f30bc9045abe7a0046ae1
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 15:27:48 2004 +0000

    [ARM] Update mach-types definitions file.

commit 953dd3756c6b3865c7b8023f3210206fe6d56f7c
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 15:22:13 2004 +0000

    [ARM] Remove obsolete sysctl PM interface.
    
    The old sysctl PM interface has been replaced by the driver models
    interface.  This has been gone for a while in the -rmk tree and no
    one complained, so there's no point keeping it around.

commit d784aa3d0d93467af6699aff01ba4002d9b9c351
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 15:16:18 2004 +0000

    [ARM] Add SA11x0 sched_clock() implementation.

commit 6f221c06aeb1fefb52984b7965c0daeebf4253de
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 14:02:35 2004 +0000

    [ARM] Update sa1111-pcibuf for dmapool changes.
    
    - use dev_dbg for device-centric debugging messages
    - use pr_debug for general debugging messages
    - use dmapools instead of pcipools
    - use NULL rather than 0 for NULL pointers
    - use enum dma_data_direction rather than int
    - use DMA_* direction definitions rather than PCI_DMA_*
    - only check for sane DMA direction on mapping functions, but
      check that DMA direction matches when unmapping/syncing.

commit 9a13f8e392f3f9818a72b90a1161b1850af224a7
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 27 10:16:19 2004 +0000

    [ARM] Cleanup MODULE_* macros
    
    Thanks to Adrian Bunk.
    
    Remove kernel 2.0 #ifdef's from arm code, and move MODULE_* to
    the end of the file.  Add an appropriate MODULE_LICENSE().

commit aab147d6c616f3ea2d15231e0fd3ee31f08a2fc5
Author: Manfred Weihs <weihs@linux1394.org>
Date:   Thu Feb 26 22:22:07 2004 -0500

    IEEE1394(1164): Added 1394 acknowledge codes.

commit f7d1fc56b47a5d74f3bb072899225f6e058f2862
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Feb 26 19:18:21 2004 -0800

    kobject: clean up kobject_get() convoluted logic.

commit 9d501551a5c10173b4f03bd8c428c3181dd35c0e
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Feb 26 22:15:45 2004 -0500

    IEEE1394(r1167): Cleanup hostnum allocation to prevent race of double allocation.

commit 6d739c0468ab837f71c125b90f4fbf2b0062c01e
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Feb 26 19:12:02 2004 -0800

    kobject: fix kobject hotplug debug message to show more needed info.

commit cd4f8d798835453edd32483e89612a5911e3645c
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Feb 26 22:10:23 2004 -0500

    IEEE1394(r1166): Move generic packet initialization to kmem_cache ctor.

commit 5a588e5ba639a88072dcc2b30dcef6f3602546e8
Author: Kenneth W. Chen <kenneth.w.chen@intel.com>
Date:   Thu Feb 26 18:41:00 2004 -0800

    [PATCH] ia64: make hugetlbfs page size a boot-time option
    
    This patch makes it possible to select the hugetlbfs page size at boot-time,
    rather than at compile-time.  We believe we have resolved all the remaining
    issues.  All critical speed path has been taken care of, i.e., vhpt handler
    and context switch.  There should be no performance penalty with this dynamic
    hugetlb page size feature.
    
    We would like to thank Jack Steiner for his initiative on this feature
    and his initial cool working patch.

commit c07ac04325fc22ca089d86fec5db2652aee55637
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Feb 26 18:28:57 2004 -0800

    Add d_type information to legacy readdir system call

commit b3f4d558160d3f269c66c65183191aff94e3f462
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Feb 26 18:28:08 2004 -0800

    ppc64: fix non-iSeries build

commit 08027d01a2fd82205632bce3b91f703baf502958
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Thu Feb 26 17:45:39 2004 -0800

    [SCTP] Fix incorrect INIT process termination with sinit_max_init_timeo.
    
    Currently, sinit_max_init_timeo is treated as the maximum timeout
    value for INIT retransmissions and the INIT process is aborted when
    the timeout reaches this value. But as per the SCTP sockets API draft,
    sinit_max_init_timeo only limits the timeout. The INIT process should
    be aborted only after MAX_INIT_RETRANSMITS.

commit 28464a051f2af91166700713f0e3df14ea638366
Author: Anton Blanchard <anton@samba.org>
Date:   Thu Feb 26 17:29:02 2004 -0800

    [PATCH] ppc64: defconfig update
    
    Add an iseries defconfig and update the pseries one.

commit 2f3d0edf93ff2d52428c3e8b0c8af5d89e9380df
Author: Anton Blanchard <anton@samba.org>
Date:   Thu Feb 26 17:28:51 2004 -0800

    [PATCH] ppc64: remove CONFIG_VETH
    
    CONFIG_VETH isnt used anymore so we lets get rid of it.

commit 651de80fe34916f79c16f31a8a42af18313e4e32
Author: Anton Blanchard <anton@samba.org>
Date:   Thu Feb 26 17:28:39 2004 -0800

    [PATCH] ppc64: fix pci hotplug compile error
    
    Fix a compile error in the ppc64 pci hotplug code.

commit 750737f63edaea60297cd36e31758cf9c9c4b287
Author: Anton Blanchard <anton@samba.org>
Date:   Thu Feb 26 17:28:28 2004 -0800

    [PATCH] ppc64: TLB flush rework
    
    ppc64 tlb flush rework from Paul Mackerras
    
    Instead of doing a double pass of the pagetables, we batch things
    up in the pte flush routines and then shoot the batch down in
    flush_tlb_pending.
    
    Our page aging was broken, we never flushed entries out of the ppc64
    hashtable. We now flush in ptep_test_and_clear_young.
    
    A number of other things were fixed up in the process:
    
    - change ppc64_tlb_batch to per cpu data
    - remove some LPAR debug code
    - be more careful with ioremap_mm inits
    - clean up arch/ppc64/mm/init.c, create tlb.c

commit e2801b51124436e3f10caaea8074a8abbb534225
Author: Anton Blanchard <anton@samba.org>
Date:   Thu Feb 26 17:28:17 2004 -0800

    [PATCH] ppc64: fix kernel access of user pages
    
    Set the ks bit on userspace segments otherwise the kernel can read/write
    into userspace mprotected pages.

commit 565a552f83f4ba90ebfd11e0f8d100a3eeea170e
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Feb 26 17:16:59 2004 -0800

    [PATCH] ppc64:Implement support for Apple DART IOMMU (PowerMac G5)
    
    This allows us to use more than 2Gb of RAM on a PowerMac G5.  You can
    also boot with iommu=off to disable it, but then you get back the 2Gb
    RAM limitation.

commit b71adb566aadc76108e429892bbfa21fc40be956
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Feb 26 17:16:46 2004 -0800

    [PATCH] ppc64: Fix drivers/ide when using an IOMMU
    
    Make IDE advertise only 128 entries of SG table on archs with an IOMMU.
    
    The current IOMMU implementations of pci_map_sg() may produce segments
    that don't match the boundary requirements of IDE, thus causing the
    driver to break them up.  The BIO is supposed to account for that,
    however, it cannot account for a pci_map_sg producing a segment of the
    requested size, but with incorrect alignement, thus we may still try to
    break up the list in more entries than is supported by the HW.
    
    A similar fix already went in libata.  The "real" long term fix will be
    to move the boundary requirements to struct device so that pci_map_sg()
    can respect them when producing the sglist.  In the meantime, this
    band-aid works around the problem.

commit 556a2c9e0bdc784db59943cd72577b62335644b4
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Feb 26 17:16:34 2004 -0800

    [PATCH] ppc64: iommu rewrite
    
    Lots of things renamed, sillicaps killed, stuffs moved around and common
    code properly extracted from implementation specific code, new
    allocator, etc...  The code is overall a lot simpler, faster, less prone
    to fail, and a lot more manageable.  I didn't use "bk mv", there is no
    need to keep the old history attached to the new file.

commit e2d17c1336794d9db154ad39bbcdfb21e195a7c1
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Feb 26 17:15:56 2004 -0800

    [PATCH] ppc64: Fix /dev/mem idea of what is memory
    
    This adds a hack to /dev/mem (along with the other ones already there)
    to prevent mapping cacheable of the IO hole.
    
    Without this, XFree blows up on machines with enough memory to go past
    the IO hole.  It also tries to prevent memory from beeing mapped
    uncached.  Cache paradoxes are evil and can kill the CPU.
    
    The necessary page_is_ram() call was added by the previous patch doing
    the proper IO hole accounting.

commit eca92b62381f3e0698d3bc55597d91c390e4badc
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Feb 26 17:15:45 2004 -0800

    [PATCH] ppc64: physical RAM accounting fix
    
    On machines with an IO hole (like Apple G5 with more than 2Gb of RAM,
    but also some pSeries) we failed to properly account for the real
    amount of physical RAM and inform the zone allocator of our hole size.
    
    During the process, I included Anton slaughtering of the guard page we
    had in the first 256Mb kernel segment, thus allowing this segment to be
    mapped with large pages as it should be.

commit 9f9f56a2b4ef6c7c931c1152e2461dba3bfbc78b
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Feb 26 17:15:36 2004 -0800

    [PATCH] radeonfb: small cleanup of common register init
    
    This removes the unused common_regs_m6 and add one more register to be
    cleared, according to latest XFree code from ATI.

commit 893eb19a3cd9be66b383e32c4633175a934b338e
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Feb 26 17:15:25 2004 -0800

    [PATCH] ppc64: Fix warning on pmac build
    
    Fix a stupid warning in PowerMac SMP build on ppc64

commit 360adfc4183c16119a47f0505197369541a4b032
Merge: 4c84813... 52da383...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Feb 26 16:43:57 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit 7f9e1ee02bc605af2bf6d1e79685b370446aced7
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Thu Feb 26 22:26:16 2004 +0100

    [Bluetooth] Initialize interval of ISOC URB's
    
    The urb->interval value must be set when submitting an ISOC URB. If this
    is not done, the usb_submit_urb() call fails.
    
    Patch from Andreas Kemnade <akemnade@informatik.uni-bremen.de>

commit 52da38342836d95c7019482463d85f1e222203a9
Merge: 425e625... b892eea...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Feb 26 16:02:53 2004 -0500

    Merge

commit b892eea6f2af2607ac0ebe5399a92dff8f3c5d12
Merge: 794f2c0... 02e711d...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Feb 26 15:53:19 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.2
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.3

commit 02e711d3454e7f7bc34f163ff2fa2395cb14f9da
Merge: f9222c3... 7b3b021...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Feb 26 15:49:56 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.1
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.2

commit 7b3b02194829fdb588687db7d082348a67b92682
Author: Len Brown <len.brown@intel.com>
Date:   Thu Feb 26 15:37:00 2004 -0500

    [ACPI] ACPICA 20040220 from Bob Moore
    
    Implemented execution of _SxD methods for Device objects in the
    GetObjectInfo interface.
    
    Fixed calls to _SST method to pass the correct arguments.
    
    Added a call to _SST on wake to restore to "working" state.
    
    Check for End-Of-Buffer failure case in the WalkResources interface.
    
    Integrated fix for 64-bit alignment issue in acglobal.h by moving two
    structures to the beginning of the file.
    
    After wake, clear GPE status register(s) before enabling GPEs.
    
    After wake, clear/enable power button.
    (Perhaps we should clear/enable all fixed events upon wake.)
    
    Fixed a couple of possible memory leaks in the Namespace manager.

commit daa7478716fe7af017ea829e7b59047c48c02bd0
Author: Len Brown <len.brown@intel.com>
Date:   Thu Feb 26 15:01:05 2004 -0500

    [ACPI] include CONFIG_ACPI_RELAXED_AML code always
      add acpi=strict option to disable platform workarounds

commit 61ee834a40cb5025762c9bc35657ef47e8b227bc
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Feb 26 10:42:06 2004 -0800

    [PATCH] Fix broken PIIX build
    
    Fix the build.
    
    Pass me a brown paper bag.

commit 4c848133195411d0354d58e315c6032c574b9ce0
Merge: 4d2a143... 4915aff...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Feb 26 07:33:17 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 4915aff2cfd8f1fe99518063e7c4eae81b772bdb
Merge: 87447e7... 818c7f3...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Feb 26 06:58:43 2004 -0800

    Merge bk://gkernel.bkbits.net/libata-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 818c7f3973044e2b0cecdaf9ddc88aec08825163
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Feb 26 12:36:03 2004 -0500

    [libata ata_piix] Update PCI quirk with new Intel SATA devices
    
    And also make a note in ata_piix.c so this is not forgotten
    in the future.

commit 16924d779711d1fdb0ff661989a679174aa6112d
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Feb 26 11:45:39 2004 -0500

    [libata ata_piix] add support for ICH6

commit dcc6993cb04c9c678485c7a9f4ce236990b8c609
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Feb 26 11:26:13 2004 -0500

    [libata] limit S/G table size to 128 entries
    
    Agreeing with Ben H's recommendation, I reduce the max-hw-segments
    number to 128, to match max-phys-segments number.  This shouldn't
    affect performance because 128*64K is far above the max transfer size
    for most current IDE devices.  Even 128*4K is OK.

commit 87447e7a41faf6718b82849d8673001807c9675f
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:52:21 2004 -0800

    [PATCH] fbdev cursor fix
    
    From: James Simmons <jsimmons@infradead.org>
    
    This patch creates a separate cursor image drawing region and regular drawing
    region.

commit 737cff5619c573c2ac23c6ed1067a541a0afce34
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:52:09 2004 -0800

    [PATCH] rename other MODULE_VERSION users
    
    Avoid cpp clash with the new MODULE_VERSION

commit ccec1be4cd369f9c1b5ca661950e5bbd600861db
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:51:58 2004 -0800

    [PATCH] Add a MODULE_VERSION macro
    
    From: Rusty Russell <rusty@au1.ibm.com>
    
    The way it works is that the .mod file contains the name of the module (as
    before), but succeeding lines are the constituent parts (assumed to be .c
    files, which usually works: if they use MODULE_VERSION in a file for which
    this isn't true we'll get a warning).
    
    As we postprocess modules, we look in the .modinfo section for a
    "version=", which is placed by the MODULE_VERSION() macro.  This will be of
    form "version=<macroarg>" "\0" [24 chars] "\0".  The 24 chars are replaced
    by the md4 sum of the .c files and any files they #include using '#include
    "file"' which are found in the current directory.  Whitespace is collapsed
    outside strings, and comments are ignored for purposes of the sum.
    
    The result is a .modinfo entry such as
    
    	version=1.16ac-rustytest B13E9451C4CA3B89577DEFF
    
    
    
    At the kernel summit, various people asked for a MODULE_VERSION macro to
    store module strings (for later access through sysfs).  A simple md4 is
    needed to identify changes in modules which, inevitably, do not update the
    version.  It skips whitespace and comments, and includes #includes which
    are in the same dir.
    
    The module versions should be set according to this definition, based on
    the RPM one, or CVS Revision tags.  Violators will be shot.
    
     [<epoch>`:']<version>[`-'<extraversion>]
     <epoch>: A (small) unsigned integer which allows you to start versions
              anew. If not mentioned, it's zero.  eg. "2:1.0" is after
         "1:2.0".
     <version>: The <version> may contain only alphanumerics.
     <extraversion>: Like <version>, but inserted for local
              customizations, eg "rh3" or "rusty1".
    
    Comparison of two versions (assuming same epoch):
    
    Split each into all-digit and all-alphabetical parts.  Compare each one one
    at a time: digit parts numerically, alphabetical in ASCII order.  So 0.10
    comes after 0.9.

commit f6455f35df182d8ba5751c099b5d356079051400
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:51:46 2004 -0800

    [PATCH] kNFSd: return more than one page of directory entries.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    From: Bruce Allan <bwa@us.ibm.com>
    
    This requires checking if the entry will fit in the current page and, if it
    doesn't, encoding it into the next page, and then copying it back to lie
    across the boundary between two pages.

commit 255e9f8076c70ea86ac12e7478bc5a49f5227e12
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:51:34 2004 -0800

    [PATCH] kNFSd: make sure sunrpc init routines called before gss init routines.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    make sure sunrpc init routines called before gss init routines.

commit 3adefa767d31081fc331a8926ca75efa0c78f1fc
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:51:23 2004 -0800

    [PATCH] kNFSd: Make the calculation in the first READ_BUF easier to understand.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Don't rely on the assumption that
        sizeof(stateid_t) == sizeof(stateid_opaque_t) + 4.

commit 217ef21dd3a860e2d708a47301353bb6e05cf524
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:51:12 2004 -0800

    [PATCH] kNFSd: Fix out-of-spec error return in attribute decoding.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Fix out-of-spec error return in attribute decoding.

commit bfe129b4854361c259f9c49ae685e2c0fd86964a
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:51:01 2004 -0800

    [PATCH] kNFSd: Miscellaneous fixes to stateid-based replay
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Save replays for LOCK operations, make sure errors are replayed correctly.

commit 2563540fe33ed587e2db4d08dd8fa714a0806ade
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:50:50 2004 -0800

    [PATCH] kNFSd: Fix an out-of-spec error in nfsd4_remove.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Fix an out-of-spec error in nfsd4_remove.

commit 5754f1d8e0c9cd54fc280eb4656fac16329cfd1e
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:50:39 2004 -0800

    [PATCH] kNFSd: Fix an out-of-spec readlink error return.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Fix an out-of-spec readlink error return.

commit 718f6bfc1c08935997abfc30182b42f9474a97f9
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:50:27 2004 -0800

    [PATCH] kNFSd: Enforce open_downgrade requirement
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    The spec requires that the access and deny bits requested in open_downgrade
    represent the union of the bits for some subset of the OPENS for the given
    open_owner and file.  Enforce that requirement.

commit 11a4f276ddad404804dab5a34f97b161b6c7cec8
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:50:16 2004 -0800

    [PATCH] kNFSd: Corrects an error return for OP_OPEN_CONFIRM.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Corrects an error return for OP_OPEN_CONFIRM.

commit 7160d19b7d93b194c31b15e1bb6d2f1172b5509b
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:50:05 2004 -0800

    [PATCH] kNFSd: Add a check in OP_LOCK for new lockowners to ensure that the open stateid is
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    owned by the lockowner clientid.

commit 80f9c3ea636bc4a0ad95457fa4d01763f1ee5855
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:49:54 2004 -0800

    [PATCH] kNFSd: fix an error return for OP_CREATE
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    fix an error return for OP_CREATE

commit c329950f090eeefc428b2a8cba55832f7c249236
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:49:43 2004 -0800

    [PATCH] kNFSd: add OP_ILLEGAL, and fix processing of compounds with out of bounds op numbers.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    add OP_ILLEGAL, and fix processing of compounds with out of bounds op
    numbers.

commit b0ac617ec5ca602fe558eac90756f1a2f2001453
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:49:31 2004 -0800

    [PATCH] kNFSd: Implement the nfsv4 RELEASE_LOCKOWNER operation.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Implement the nfsv4 RELEASE_LOCKOWNER operation.

commit 0dff23e560fc2df6756dcef5c475c30c82152189
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:49:20 2004 -0800

    [PATCH] kNFSd: move fh_dup2 and fix it
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    fh_dup2 duplicates an entire svc_fh structure, so in addition to dget()'ing
    the dentry, it also needs to bump the reference count on fh_export.
    
    Moved it out of the header file into nfsfh.c for the simple reason that I
    couldn't figure out how to reorganize the headers files right so that the
    fh_dup2 could use the definition of svc_fh.  Since fh_dup2 is never actually
    used outside of nfs4proc.c, it could just as well be moved there....

commit 2a8d08da79c6a8482bf34e5fce18c37f684885c5
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:49:09 2004 -0800

    [PATCH] kNFSd: Remove a comment that is no longer accurate
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Remove a comment that is no longer accurate

commit d0ea542aeffd0e0ef124a261f0d75ecd00b45c94
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:48:58 2004 -0800

    [PATCH] kNFSd: unlock-on-close fix
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    add the bookeeping necessary to remove all locks held by an nfsv4 lockowner
    upon CLOSE, or upon state expiration.  calls locks_remove_posix().
    
    replace list_del_init() with list_del on nfsv4 state structures that are
    being reaped.

commit e9361d5074be109631211cd8fed1e16a819fc762
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:48:48 2004 -0800

    [PATCH] kNFSd: correct rename error returns.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    unlike v2/v3, nfsv4 returns nfserr_exist in some situations where the
    underlying filesystem returns nfserr_isdir, nfserr_notdir.
    
    on rename, nfsv4 returns nfserr_notdir instead of nfserr_symlink.

commit c4e92674b7282fde880c72464307170931c47a7d
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:48:37 2004 -0800

    [PATCH] kNFSd: check lock length, return appropriate error
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    check lock length, return appropriate error

commit a0fb7913bbd006f828f385f23dc97a8d137dfa81
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:48:26 2004 -0800

    [PATCH] kNFSd: correct symlink related error returns.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    unlike v2/v3, nfsv4 returns nfserr_inval when attempting to read, write,
    commit or test lock a symlink.  nfsv4 does return nfserr_symlink on lookup
    and open, so a simple fix in fh_verify() will not work.

commit 237df83a089e8082123293576bba1501c947ec82
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:48:15 2004 -0800

    [PATCH] kNFSd: fixes an xdr error by removing the verifier from error return.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>

commit fdaf729d5efc978be6f54b0792500184d69235d6
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:48:04 2004 -0800

    [PATCH] kNFSd: Correct error returns.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Call decode_fattr on writable attributes to check for xdr errors, incorrect
    utf8, etc.

commit 16df68d1ad09e6d378fe3d44de5e43e3429a3a10
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:47:53 2004 -0800

    [PATCH] kNFSd: Fix for lookup-parent at pseudo root
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    tests if current_fh is the pseudo root for the client and returns
    nfserr_noent if so.  need to call exp_pseudoroot because different clients
    can have

commit 62c4f3f69a5ea26c0dba196c51f1d88f6e9ea2eb
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:47:42 2004 -0800

    [PATCH] kNFSd: correctly tests and sets nfserr_nofilehandle for current and save fh.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    nfsd4_restore_fh() returns nfserr_restorefh instead of nfserr_nofilehandle

commit f08e21d0b805428c0bef0a5f04ebd9874469fbb1
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:47:30 2004 -0800

    [PATCH] kNFSd: readdir error code fix
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    changes nfserr_readdir_nospc to nfserr_toosmall, following rfc3530 which has
    no nfserr_readdir_nospc.
    
    error 10030 which was nfserr_readdir_nospc is actually nfserr_restorefh.

commit bd290dbf3269e6db4b1e15fe57cc08f229dc3297
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:47:19 2004 -0800

    [PATCH] kNFSd: When looking for a shareowner in the nfsd open, make sure we don't get a lockowner instead.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    When looking for a shareowner in the nfsd open, make sure we don't get a
    lockowner instead.

commit 504386d062aad025617033eadd13cb1b414fe920
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:47:08 2004 -0800

    [PATCH] kNFSd: Use only the uid when deciding whether a setclientid is being done with the "same principal".
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    I would have assumed that we should also check for the same security
    (pseudo)flavor, but that doesn't seem to be how Solaris does it, and since
    the spec doesn't suggest including such information in the clientid, that
    would make it impossible to switch pseudoflavors.

commit 9154e5fb6a0f3b670b41febe70308af11784ce8d
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:46:54 2004 -0800

    [PATCH] kNFSd: NFSdV4 fixes for replaying open requests.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Since the open op changes the current filehandle, we can't correctly replay
    compounds containing opens unless we save the filehandle resulting from the
    open as well as the encoded reply.

commit e997763aaaddd4f4b62397c2b8d88ca0514467db
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:46:43 2004 -0800

    [PATCH] kNFSd: When looking for a shareowner in the nfsd open, make sure we don't get a lockowner instead.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    When looking for a shareowner in the nfsd open, make sure we don't get a
    lockowner instead.

commit 6c1f87dcee514bdbc52e73a0e668d206020f8e8f
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:46:32 2004 -0800

    [PATCH] kNFSd: Use higher-resolution time for the changeinfo, instead of using time and filesize.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Use higher-resolution time for the changeinfo, instead of using time and
    filesize.

commit 06f78b9548158069eb1c075ca09cefce50b8286b
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:46:20 2004 -0800

    [PATCH] kNFSd: v4 exclusive open fix.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Exclusive creates were failing with permission errors, because they don't set
    the mode on the newly created file, and the permission check in fh_verify
    (called at the end of do_open_lookup) was failing.  So pass in the
    MAY_OWNER_OVERRIDE flag to allow the owner of the file to override the
    permission check.

commit 1bba2ff86b2d15125e629b0007ea78081c7c0984
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:46:09 2004 -0800

    [PATCH] kNFSd: NFSv4 locking state fix
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    It's OK for the find_lockstateowner_str to fail; that just means we haven't
    seen the lockowner, and will compare the request range to all locks on the
    file.

commit b9eb1ee0b8cd543865cbe7c67115c2cb769d060d
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:45:58 2004 -0800

    [PATCH] kNFSd: Nfsdv4 pointer cleanup
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    From: "William A.(Andy) Adamson" <andros@citi.umich.edu>
    
    Compare inode pointers instead of dentry pointers when checking an inode
    refered to by a stateid against an inode refered to by a file handle.
    
    Set st_vfs_set to 0 if the stateid/file handle check fails to avoid
    referencing bad state when reaping stateid's.

commit c85705ed8fd01c5816aa54a556638e554d7daa7d
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:45:47 2004 -0800

    [PATCH] kNFSd: IDmap support for the NFSv4 server.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Updated version which uses ascii-encoding of messages, from
    http://www.citi.umich.edu/u/marius/linux-2.5.70-idmap-server-new.diff as of
    October 14, 2003.

commit dacfae9ef98efb0e01ee55198660b2ac5f005918
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:45:35 2004 -0800

    [PATCH] kNFSd: gss api changes for integrity checking.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Doesn't actually add integrity support on the server yet; just adapts
    server-side code to the gss api changes necessary to get integrity working on
    the client.

commit 8c54e6b2db2ecc3217d82ee76e59fd520d8c5863
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:45:25 2004 -0800

    [PATCH] kNFSd: Add minimal server-side support for rpcsec_gss.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    From: "J. Bruce Fields" <bfields@fieldses.org>
    
    Note that the user (or exportfs, on the user's behalf) allows a gss
    pseudoflavor to be used to access an export by exporting to a special client
    named "gss/pseudoflavor-name", e.g., "gss/krb5" or "gss/lipkey-i".

commit 5d573c6b86da12f39ea410dff6f80c8b9b0b5b82
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:45:16 2004 -0800

    [PATCH] nfsd: don't modify group_info structures
    
    From: Neil Brown <neilb@cse.unsw.edu.au>
    
    Make sure nfsd doesn't modify group_info structures as they might be
    shared.

commit 408b87a03f610d85dd3853535f74e395020900be
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:45:06 2004 -0800

    [PATCH] knfsd: NGROUPS fixes
    
    From: Neil Brown <neilb@cse.unsw.edu.au>
    
    Tidy up new groups handling in nfsd.
    
    Set up the group_info structure when decoding the RPC packet instead of in
    nfsd.

commit 272c5ac428ae43a4d581305bff9d5ebc26bb4767
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:44:54 2004 -0800

    [PATCH] ppc64: Fix a sleeping with spinlock bug in ioremap
    
    From: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    
    ppc64 uses its own range allocator for ioremap (in order to allocate
    things in a different space than normal vmalloc).  This is historic stuff,
    we may get rid of it, but in the meantime, here's a patch turning the
    spinlock in there into a semaphore so it doesn't blow up when doing
    kmallocs.

commit b9f4773146bb6abd2e4ec1872548faa4209d8b29
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:44:43 2004 -0800

    [PATCH] ppc64: move sg_dma_{len,address} macros
    
    From: Anton Blanchard <anton@samba.org>
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    This moves the sg_dma_* macros to asm/scatterlist.h where they belong (and
    where almost every other architecture has them).

commit 9f97869bc70f97b814a29f0fcf13a30a6711333b
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:44:29 2004 -0800

    [PATCH] ppc64: use kallsyms_lookup_name() in xmon
    
    From: olof@austin.ibm.com
    
    Use the new kallsyms_lookup_name() in xmon on ppc64.  Ben said he might
    backport these changes to ppc32 as well.

commit f46981b2737d93cf4b88f8101c458d12804b42ea
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:44:18 2004 -0800

    [PATCH] Add kallsyms_lookupname()
    
    From: Rusty Russell <rusty@au1.ibm.com>
    
    Attached patch adds a kallsyms_lookupname() function for lookups of a
    symbol name to an address.  Debuggers such as ppc[64] xmon can use this.
    
    It's intentionally not exported as a symbol for module use, since it
    can be used to circumvent other symbol export restrictions.

commit ef2dbb549121b2d41e2350ea5e8ed9981f23bf27
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 06:44:07 2004 -0800

    [PATCH] PPC64 iSeries virtual disk driver
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    Add the PPC64 iSeries virtual disk driver

commit 7b8b760c3844160bd70adadda7aa6a32f3f243bd
Merge: ff4dc41... 8738411...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Thu Feb 26 06:43:55 2004 -0800

    Merge foobazco.org:/sources/2.5-sparc-smp
    into foobazco.org:/sources/2.5-sparc-todave

commit 4d2a1431b179059528444d6015a275bc10009038
Merge: c63edf1... ff4dc41...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Thu Feb 26 06:32:27 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/sparc-2.6
    into kernel.bkbits.net:/home/davem/sparc-2.6

commit c63edf14a71c22417686dc501f1a5c280ed345a9
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 26 06:28:02 2004 -0800

    [SPARC]: Move ptrace_signal_deliver() implementation out of header file.

commit ed29a8097665ef86dd9a2d8a8a3b808ab70f28ee
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Thu Feb 26 14:24:43 2004 +0000

    [ARM] Add ARM architecture version 6 support.
    
    This cset adds support ARM architecture version 6.

commit 74b7bd9d12ae9c38120e13b7e2f312b5ddcc9e5c
Merge: 61c3c39... 4b5ae08...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Feb 26 06:23:02 2004 -0800

    Merge bk://gkernel.bkbits.net/misc-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 4b5ae086198eab457e380148b119a6fc4e5741d4
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Feb 26 15:01:52 2004 -0500

    Add Intel PCI ids to IDE (PATA) driver.

commit c76279677c58cdcad81383f93477608980578b63
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Feb 26 14:54:44 2004 -0500

    Add Intel PCI ids to old-OSS driver i810_audio

commit f14e573c19bf759ffd92a38415ef4fc2e81a881a
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Feb 26 14:48:18 2004 -0500

    Add Intel ICH6 irq router.

commit 9e83a2aea026f0fe9dcf598cb0a7984f94a53632
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Feb 26 14:43:17 2004 -0500

    Add Intel ICH6 PCI ids to pci_ids.h.

commit fb01354bddaaf298e2021eb787f4631666baad31
Author: Andre McCurdy <armcc2000@com.rmk.(none)>
Date:   Thu Feb 26 12:15:46 2004 +0000

    [ARM] Optimise ARM720T Thumb abort unwinding.
    
    Patch from: Andre.
    
    Optimise data_thumb_pushpop and data_thumb_ldmstm population
    counting code with a slightly more optimal algorithm than the
    original as there are only 8 bits to count instead of 16.

commit 09d714d51efb6f2bdfb39f86abb11b408dc4f37b
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Feb 26 05:52:27 2004 -0500

    IEEE1394(r1165): Better pending packet handling, patch from Steve.

commit bf0d326f203ff66ef30ded711583bb612d31df0c
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 26 00:31:27 2004 -0800

    [PATCH] fix x86_64 build for sys_device_register rename
    
    fix x86_64 build for sys_device_register rename

commit 61c3c39f1c1223d926304c90d780420ff8d1d233
Author: Alexandre Oliva <aoliva@redhat.com>
Date:   Thu Feb 26 00:10:25 2004 -0800

    [PATCH] Improve code generation for x86 raid XOR functions
    
    This helps avoid doing push/pop pairs on register contents that we just
    don't care about. After we've done the xor, the pointers are dead anyway.

commit 3a540b9db12b9bf2105d1df86019a7719df402e7
Merge: ff4dc41... d717672...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Wed Feb 25 23:55:17 2004 -0800

    Merge kroah.com:/home/greg/linux/BK/bleed-2.6
    into kroah.com:/home/greg/linux/BK/driver-2.6

commit 05c14f17fa548ec179bb7c91023ebe19c8fc01e2
Merge: ff4dc41... db78e720...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Feb 25 23:16:43 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 0d5ab45918b34b2fdb888c4e6b2b5f692d5c062d
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Wed Feb 25 22:44:55 2004 -0800

    [SPARC64]: Update defconfig.

commit db78e720c90957c6800f70a49e062f7a01e327be
Merge: 047c4ec... e4c4449...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Wed Feb 25 22:44:48 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit 85c53655b18a8dac1e7992ee8fe5f3dd29b2ccf5
Merge: 461f367... 047c4ec...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Wed Feb 25 22:35:23 2004 -0800

    Merge bk://bk.phunnypharm.org/sparc-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit 461f3678313c77528317c0f611e00e706b74f8aa
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Feb 26 05:39:56 2004 -0500

    [SPARC64]: Fix compile warning from RW_LOCK_UNLOCKED with spinlock debug enabled.

commit ad33de853ac755d7c8fb1f7158ef6e662c5e2782
Merge: 106bc3e... 4aeae43...
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Feb 26 04:50:22 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/sparc-2.6

commit 106bc3ec2ee8f3d9b476b21b307241c1b540a26c
Merge: a259dbb... 48c9899...
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Feb 26 02:40:00 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/sparc-2.6

commit ff4dc41e80523dc9e488e99f41985bd2f7b4620c
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Feb 25 22:06:55 2004 -0800

    Don't allow memory "lines" argument in "xor_p5_mmx_5()".
    
    Since we do push/pops, a stack-based memory argument would
    do the wrong thing by using the wrong offsets.

commit 047c4ecdc3fbadffcd92df48bc68af73479bd78f
Author: Brian Childs <brian@rentec.com>
Date:   Wed Feb 25 21:26:23 2004 -0800

    [PATCH] multicast broken on x86_64
    
    The x86-64 implementation of csum-partial.c causes it to compute the
    checksum incorrectly.
    
    As a result, multicast doesn't work.  It looks as though iptables is
    also affected.
    
    Here's a simple patch.

commit 9eb3a8d04a8c0a2d507f984d2d04188ec158947d
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Wed Feb 25 20:57:26 2004 -0800

    [PATCH] cyclades async driver update
    
    This patch is the first of several planned fixes for the cyclades
    multiserial cards driver.
    
    Its mostly a sync with in-house driver:
    
    - Prevent users from opening non-existing Z ports
    - Implement special XON/XOFF character handling in Z cards
    - Prevent data-loss on Z cards
    - Throttling fix for Z card
    - Only throttle if CTS/RTS are set
    - Fix accounting of received data
    
    Kudos to Cyclades R&D

commit b9fe1f451be4cd7c2fcf52cfbd23c491553077b2
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Wed Feb 25 20:50:18 2004 -0800

    [PATCH] ide-taskfile.c: remove debugging placeholders

commit d14eed463797e82fae7f6a21312a3cb3af2e28fb
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Wed Feb 25 20:50:08 2004 -0800

    [PATCH] ide-proc.c: remove unused MIN() macro

commit c8495560687414fc456d51e22e51d692b97b290e
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Wed Feb 25 20:49:56 2004 -0800

    [PATCH] remove redundant ide_setup_pci_device{s}() declarations

commit 632c6868f29e299d61ff47788966fda6aac82b2e
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Wed Feb 25 20:49:45 2004 -0800

    [PATCH] explicitly define PRD_ENTRIES to 256
    
    From: William Lee Irwin III <wli@holomorphy.com>
    
    PRD_ENTRIES is specified to be precisely 256; on platforms where
    PAGE_SIZE varies from 4KB the calculation in the current expression
    defining it is inaccurate, which may cause crashes. This patch changes
    it to the constant literal 256.

commit af59721c2bc9176c194d0e6a288d768499f9430c
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Wed Feb 25 20:49:33 2004 -0800

    [PATCH] ide-io.c: CONFIG_LBD fix
    
    From: Andrew Morton <akpm@osdl.org>
    
    Use sector_t for the block number.

commit 437c3b217c9b77ba135a94ee1ed67eaa15b5d954
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Wed Feb 25 20:49:23 2004 -0800

    [PATCH] fix ide_system_bus_speed() causing "Badness in pci_find_subsys..."
    
    Noticed by Marcel Cotta <mc123@mail.ru>.
    
    ide_init() always initializes system_bus_speed variable
    so system_bus_clock() should never call ide_system_bus_speed()
    and no driver is calling ide_system_bus_speed() directly.
    
    Bug was that if no IDE kernel parameter was given during boot
    system_bus_speed will be zeroed in init_ide_data().
    
    This patch should fix the problem
    (as a bonus -> no need to zero these variables they are static).

commit c3e2569bd96594b5981154034e0b60d3cafa7f69
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Wed Feb 25 20:49:11 2004 -0800

    [PATCH] add UDMA6 support to ALi PCI IDE driver
    
    From: Vojtech Pavlik <vojtech@suse.cz>
    
    Add UDMA6 support to ALi PCI IDE driver.
    Forward port from 2.4 and a patch from ALi.
    
    Was in -mm for a long time...

commit fe8e3118397846b782c0b846adc1fdb4911de7f9
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Wed Feb 25 20:49:00 2004 -0800

    [PATCH] siimage.c: limit requests to 15kB only for Seagate SATA drives
    
    Fix from jgarzik's sata_sil.c libata driver.
    
    This was in -mm for a long time...

commit e4c4449e5193034f4bd495f6ea579c768f3d3734
Author: Art Haas <ahaas@airmail.net>
Date:   Wed Feb 25 20:36:58 2004 -0800

    [RXRPC]: C99 initialiers for net/rxrpc/connection.c

commit a94e256855615e490e2129db1cd4d71cd4711a15
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Wed Feb 25 20:32:16 2004 -0800

    [IRDA]: Rename dongle entry points for consistency.

commit ce9cf133cf5e620e65141d5e87e65eff43a1b78c
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 25 20:31:45 2004 -0800

    [IRDA]: Mark irport driver as having locking issues.

commit 802168da123f06132b419c72803ceb4adab9f732
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 25 20:31:20 2004 -0800

    [IRDA]: Make irda_device_txqueue_empty inline.

commit 69681d659e07856d19051fdefc30598f1b94d10c
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 25 20:30:52 2004 -0800

    [IRDA]: Zap bogus wireless.h include.

commit 230f720b7fc505c7f047385eb8b3543c52bb38d0
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 25 20:30:26 2004 -0800

    [IRDA]: Hashbin cleanups, remove unused code and add const where needed.

commit 055162dcc3202ea09d1497a53010260097d87135
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 25 20:29:55 2004 -0800

    [IRDA]: Kill dev_flags, unused.

commit 2a105ac8f2095a9e9261aeae757e5adda73e4c25
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 25 20:29:21 2004 -0800

    [IRDA]: Kill infrared_mode, unused.

commit 77b29690561937c9c1b091e7411a435b46c3e807
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 25 20:26:01 2004 -0800

    [IRDA]: No need for volatile type when using set/test_bit.

commit 69c56d9d2d9ca552ab809f9b1f8fa2caa4d03a16
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 25 20:23:07 2004 -0800

    [IRDA]: Make more symbols static, to avoid namespace pollution.

commit d2d4c6c209ec03ef722c3c6f15389a75de42849b
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 25 20:22:46 2004 -0800

    [IRDA]: Make more symbols static, to avoid namespace pollution.

commit 4749b37ca822ff0e55bdf6483428785594f761f0
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 25 20:21:55 2004 -0800

    [IRDA]: Make more symbols static, to avoid namespace pollution.

commit 232994b61f0bbd3d3be488b601c5e6873e251b01
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 25 20:21:31 2004 -0800

    [IRDA]: Make more symbols static, to avoid namespace pollution.

commit 60c16b9c84367fc6b1e85b855eb77ecfadf76a84
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 25 20:20:40 2004 -0800

    [IRDA]: Rename setup_dma to irda_setup_dma.

commit b34243f64804c2063a04eb0eb61ec733ad57bed0
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 25 20:16:32 2004 -0800

    [IRDA]: COnver irda-usb to dynamic device allocation.

commit 6890d1c6684a0b47701b1dde1807956e9f7028cf
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 25 20:16:00 2004 -0800

    [IRDA]: Fix handling of shared IRQs in smsc-ircc2 driver.:

commit a2c14d8c9a7b54f0c967fda16ee6fda99ccac043
Author: Jakub Bogusz <qboosh@pld-linux.org>
Date:   Wed Feb 25 20:11:08 2004 -0800

    [PATCH] switch alpha to use drivers/Kconfig
    
    This switches alpha to use drivers/Kconfig instead of including most of
    files included by drivers/Kconfig, thus enabling previously omitted i2c
    (already used in some drivers available on alpha) and telephony drivers.
    
    Because drivers/message/fusion/Kconfig was included only conditionally
    ("if PCI"), this patch also changes CONFIG_FUSION to depend on PCI.
    
    (these changes were consulted with Christoph Hellwig in "i2c on alpha
    - used but not available in 2.6.3" thread on LKML)

commit f21a82a5309fd66c6cbdc65cdf471df49097008e
Author: Matthias Andree <matthias.andree@gmx.de>
Date:   Wed Feb 25 20:11:07 2004 -0800

    [NET]: Export sysctl_optmem_max to modules.

commit caeae7ae07a5dad1810eaac709b7b9c6947d7d16
Merge: f11682f... 7f9e1ee...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Wed Feb 25 20:08:59 2004 -0800

    Merge http://linux-mh.bkbits.net/bluetooth-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit f11682f895536280660f831ac741a99ef4c0668e
Author: Chas Williams <chas@cmf.nrl.navy.mil>
Date:   Wed Feb 25 19:59:53 2004 -0800

    [ATM]: [lec] put back pressure on network stack

commit 4b76ddd9ac1bfc31d9b17b297365cedf875219fc
Author: Simon Barber <simon@instant802.com>
Date:   Wed Feb 25 19:58:45 2004 -0800

    [NET]: Capture skb->protocol after invoking bridge.

commit d46067dc2a2545bd715f39e82981bbd631492ac2
Author: Simon Horman <horms@verge.net.au>
Date:   Wed Feb 25 19:50:43 2004 -0800

    [JHASH]: Make key arg const in jhash().

commit bc4b9adb21356a45a5b87d44eed0d54218b8d351
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Thu Feb 26 04:10:05 2004 +0100

    [Bluetooth] Use C99 initializer for HCI USB driver
    
    This patch changes the GNU-style initializers to C99 style initializers
    in the HCI USB driver.
    
    Patch from Art Haas <ahaas@airmail.net>

commit d30e2d066ac5c557cd2fc82502ee1d06a473f2f8
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Thu Feb 26 04:07:39 2004 +0100

    [Bluetooth] Dynamic allocation of HCI device
    
    For correct integration into the driver model the allocation of the HCI
    device must be dynamic.

commit 06e15ce5c9cf499a20485927059c858d9babedde
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Wed Feb 25 20:51:27 2004 -0600

    JFS: Error path accessed uninitialized variables

commit 4aeae430b41ceab422afcfc3f55a07c354f2ed85
Merge: c16cfec... 90d2aee...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Feb 25 18:23:36 2004 -0800

    Merge bk://gkernel.bkbits.net/misc-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 90d2aee3a04cb13dfcab7d37624ffa32025eda1c
Merge: 7265df8... 333f957...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Feb 25 18:16:29 2004 -0800

    Merge bk://gkernel.bkbits.net/libata-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 7265df88a1fc37644ea0b4dddcc8ce4f9b227ee4
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Wed Feb 25 18:07:47 2004 -0800

    [PATCH] Clean up __cacheline_aligned
    
    arm-26, ppc, sparc, sparc64 and sh have per-arch definitions of
    __cacheline_aligned that are identical to default.  And yes, removal is
    safe - all users of __cacheline_aligned actually pull linux/cache.h in.

commit 6c34bb1713cc2c73eb5086eac021b8dbde57c4bc
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Wed Feb 25 18:07:36 2004 -0800

    [PATCH] Always put cache aligned code in own section, even for modules
    
    We put ____cacheline_aligned things in their own section, simply
    because we waste less space that way.  Otherwise we end up padding
    innocent variables to the next cacheline to get the required
    alignment.
    
    There's no reason not to do this in modules, too.

commit 56f1be79d5006fc9b04a114c7c17f5c90a1021fe
Merge: 166c69f... 83f56ae...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Feb 25 17:59:24 2004 -0800

    Merge

commit 166c69fe92612fccd03942dd8982fd3bcb329b2d
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Wed Feb 25 17:38:31 2004 -0800

    [PATCH] removal of ifdef MODULE from fs/openpromfs
    
    	Removes gratitious ifdefs - get_nodes() is only called from __init
    and by itself, check_space() is only called by get_nodes(), so they can
    be made unconditionally __init.

commit 48c98998d8d62555cc8a9deb82c85a8669895dc8
Merge: 9abdbe6... e3b0e73...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Feb 25 17:15:07 2004 -0800

    Merge bk://gkernel.bkbits.net/net-drivers-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit e3b0e73fb0c958019fa213c0bc952ba08825ea80
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Feb 25 17:02:51 2004 -0800

    [PATCH] m68knommu: use KERN_DEBUG in debug printk()'s
    
    Use KERN_DEBUG in all debugging printk() output.
    
    This patch originally from the kernel janitors.

commit 766a313ab19abb3fe9f06922b7f6dac7f295db9b
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Feb 25 17:02:38 2004 -0800

    [PATCH] m68knommu: fix interrupt handler return types to be irqretur_t
    
    Fix interrupt handler return types to be irqreturn_t.

commit 64e146b431b851214b806a93f9414c39797fc15b
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Feb 25 17:02:27 2004 -0800

    [PATCH] m68knommu: remove non-existant option from defconfig
    
    Remove non-existent config option from defconfig.

commit a82ac6ee72c84eb8c2a059bf6ce89d629070e054
Author: Dave Jones <davej@redhat.com>
Date:   Wed Feb 25 16:52:00 2004 -0800

    [PATCH] Fix for a really stupid off by 1 bug.
    
    I goofed in my last patch to this code..
    It reported 1 less CPU than it should have. Doh.

commit 906b4b7e58433f0e919dea781ae2645185d65ece
Merge: 9f103d9... 29a2100...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Feb 25 16:47:28 2004 -0800

    Merge bk://linux-dj.bkbits.net/cpufreq
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 29a2100475b57902d965a5ddc085183949dbf1fd
Author: Dave Jones <davej@redhat.com>
Date:   Thu Feb 26 15:39:52 2004 +0000

    [CPUFREQ] Fix ARM cpufreq governor selection
    From: Russell King <rmk@arm.linux.org.uk>

commit 4212440809873d3a944d95c438cc39445306af8d
Author: Dave Jones <davej@redhat.com>
Date:   Thu Feb 26 15:38:33 2004 +0000

    [CPUFREQ] scaling_available_frequencies work for remaining x86 drivers.
    
    Export scaling_available_frequencies on the remaining
    x86 freq_table-based cpufreq drivers. powernow-k7, acpi and speedstep-centrino
    are already queued.
    
    Please note that this cannot be done in the cpufreq core as the cpufreq core
    tries very hard to be independent of the freq_table helpers.

commit a553f9a7b97003292ac5c2c3f3c3ce4ecbe2ab69
Author: Dave Jones <davej@redhat.com>
Date:   Thu Feb 26 15:37:04 2004 +0000

    [CPUFREQ] Export powernow-k7 scaling frequencies
    
    From: Kronos <kronos at kronoz.cjb.net>
    
    The following patch make powernow-k7.c export supported frequencies via
    sysfs. I'm trying to write a scaling deamon and I need to know them.

commit 9f103d988ac536e42f823c2e5bf7350515e6495c
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:28:55 2004 -0800

    [PATCH] swsusp locking fix
    
    From: Herbert Xu <herbert@gondor.apana.org.au>
    
    update_screen() requires the console semaphore.

commit ae12d0dda8113f05de4f24c3ad34ab9ee3c0393c
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:28:43 2004 -0800

    [PATCH] wanmain.c build fix
    
    net/wanrouter/wanmain.c:195: error: parse error before "static"

commit 7e1940ece634de0c7602f31e3d830956cd485e82
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:28:32 2004 -0800

    [PATCH] kbuild: add defconfig targets to make help
    
    From: Sam Ravnborg <sam@ravnborg.org>
    
    List all entries in arch/$(ARCH)/configs/*_defconfig when doing 'make
    help'.
    
    Results in output like this (ppc64 as example):
    
      g5_defconfig             - Build for g5
      pSeries_defconfig        - Build for pSeries
    
    The implementation is generic and enables this for all users of _defconfig.

commit 483d14ad6c1e9f1df99ec71cb168f06689b8546d
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:28:19 2004 -0800

    [PATCH] V4L: Add new driver for Teletext decoder SAA5246A from Philips
    
    From: linux@MichaelGeng.de (Michael Geng)
    
    Add new driver for Teletext decoder SAA5246A from Philips.

commit 307991422f5269e2486c6dbecb91a16e6d5b0671
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:28:08 2004 -0800

    [PATCH] C99 initializer for driver/media/dvb/ttpci/budget-av.c
    
    From: "Art Haas" <ahaas@airmail.net>
    
    Here's a small patch changing the GNU-style initializers to C99
    initializers.

commit 00593903dec80abdab8a139c8816f2e88d7d6bde
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:27:56 2004 -0800

    [PATCH] C99 initializers for drivers/media/dvb/frontends/sp887x.c
    
    From: "Art Haas" <ahaas@airmail.net>
    
    Here's a small patch changing the GNU-style initializers to C99
    initializers.

commit 3b6a3c7833974fcbd0d9510dda2e3e8e8fe9885b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:27:44 2004 -0800

    [PATCH] C99 initializers for drivers/media/dvb/frontends/alps_tdlb7.c
    
    From: "Art Haas" <ahaas@airmail.net>
    
    Here's a small patch changing the GNU-style initializers to C99
    initializers.

commit 39d20f05d8d5bca599dda35196c16a422d0fc559
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:27:33 2004 -0800

    [PATCH] C99 initializer for drivers/media/dv/frontend/stv0229.c
    
    From: "Art Haas" <ahaas@airmail.net>
    
    Here's a small patch changing GNU-style initializers to C99 initializers.

commit 6a83fee50834e365f0006efd3f3d18855755e2cb
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:27:24 2004 -0800

    [PATCH] C99 initializers for drivers/media/common/saa7146_video.c
    
    From: "Art Haas" <ahaas@airmail.net>
    
    Here's a small patch changing the GNU-style initializers to C99
    initializers.

commit 7dabe99ac6c7b8873b342a258c74ad2c53381a65
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:27:11 2004 -0800

    [PATCH] C99 initializers for drivers/net/irda/irda-usb.c
    
    From: "Art Haas" <ahaas@airmail.net>
    
    Here's a small patch changing the GNU-style initializers to C99
    initializers.

commit 67d5240c634a12c7ba26b8571611f47bf43e02e6
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:27:00 2004 -0800

    [PATCH] C99 initializers for drivers/net/wan/pci200syn.c
    
    From: "Art Haas" <ahaas@airmail.net>
    
    Here's a small patch changing the GNU-style initializers to C99
    initializers.

commit 6194eaf4fa7eb1e1ba236552b6b6b218596d91cc
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:26:48 2004 -0800

    [PATCH] C99 initializers for drivers/net/wan/wanxl.c
    
    From: "Art Haas" <ahaas@airmail.net>
    
    Here's a small patch changing the GNU-style initializers to C99
    initializers.

commit a6e453326b858853f68cdb273d5610047ca2df95
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:26:36 2004 -0800

    [PATCH] C99 initializers for drivers/net/wireless/airo.c
    
    From: "Art Haas" <ahaas@airmail.net>
    
    Here's a small patch changing the GNU-style initializers to C99 initializers.

commit de32b8014611d26f6d53f121158a5bbc99b8db7f
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:26:23 2004 -0800

    [PATCH] C99 initiailzers for drivers/isdn/i4l/isdn_common.c
    
    From: "Art Haas" <ahaas@airmail.net>
    
    Here's a small patch changing a few GNU-style initializers to C99
    initiailzers.

commit d1eae390b489909b0c250056ed6913751c72a796
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:26:12 2004 -0800

    [PATCH] Kill bogus __KERNEL_SYSCALLS usage
    
    From: Dave Jones <davej@redhat.com>
    
    Now that the syscalls.h stuff is in mainline, that clears the way for this
    I guess?

commit 2b8095b7f56ab7f9e1bb4a9b68521429c740212a
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:25:59 2004 -0800

    [PATCH] C99 patch for fs/afs/inode.c
    
    From: "Art Haas" <ahaas@airmail.net>
    
    This patch converts the file to use C99 initializers.  The file had this
    patch applied before, but a subsequent patch reversed the change and
    readded the GNU-style initializer.  This patch brings back the C99 one.

commit 3e224250135dfe4c2f9c2f559a1107f624208e3b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:25:48 2004 -0800

    [PATCH] mtd locking fix
    
    From: David Woodhouse <dwmw2@infradead.org>,
          Dave Jones <davej@redhat.com>
    
    Add a missing unlock.

commit 93ce539665c252d9ee169f37743ea74ecc19edbc
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:25:35 2004 -0800

    [PATCH] don't use floating point in tdfxfb
    
    From: Jakub Bogusz <qboosh@pld-linux.org>
    
    This patch removes using of floating point operations in tdfxfb - they
    are really not needed here (these consts are used only in substitutions
    and comparisons with integers) are cause unresolved symbols on some
    archs - e.g. on alpha:
    
    *** Warning: "__ltdf2" [drivers/video/tdfxfb.ko] undefined!
    *** Warning: "__adddf3" [drivers/video/tdfxfb.ko] undefined!
    *** Warning: "__floatsidf" [drivers/video/tdfxfb.ko] undefined!

commit f69efc9b29ff1a06559c790f1185d98579a556d6
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:25:24 2004 -0800

    [PATCH] Remove unused tty CALLOUT defines
    
    From: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    
    The callout code has been removed long ago from 2.6.  I believe it is safe
    to remove some of its unused defines.

commit b1c059c132d871bb67b18b72e8eaa50aaea9a8e9
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:25:10 2004 -0800

    [PATCH] radeon config fix
    
    From: Herbert Xu <herbert@gondor.apana.org.au>
    
    RADEON is selecting I2C_ALGOBIT but as kconfig currently does not propagate
    selects up the dependency chain (that is according to Roman), this can
    leave I2C as m while I2C_ALGOBIT is y.

commit a79e9d883661e0a371f7d4c998248a5704410de3
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:24:59 2004 -0800

    [PATCH] early printk documentation fix
    
    early printk documentation fix

commit 8ba2e80283a54b5da351078dd304d33ab65df2db
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:24:46 2004 -0800

    [PATCH] request_firmware(): fix attribute removal
    
    From: Manuel Estrada Sainz <ranty@ranty.pantax.net>
    
    Based on patch and suggestions from Dmitry Torokhov
    
    - Don't remove attributes, they should be gone automatically.

commit c88ec5adb1d9e1e29ca0cbc3ee5046caab492c11
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:24:38 2004 -0800

    [PATCH] request_firmware(): refactor fw_setup_class_device()
    
    From: Manuel Estrada Sainz <ranty@ranty.pantax.net>
    
    Based on patch and suggestions from Dmitry Torokhov
    
    - Refactor fw_setup_class_device for readability and maintainability.

commit 2994d10a4c2ee296fd1e3680d34bcfa62532c785
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:24:25 2004 -0800

    [PATCH] request_firmware():  race fixes
    
    From: Manuel Estrada Sainz <ranty@ranty.pantax.net>
    
    - Remove races related to the handling and release of 'struct firmware'

commit b4f939a2440a38e61ae4e9776c6ce82d864299f2
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:24:14 2004 -0800

    [PATCH] request_firmware(): fix firmware_priv leak
    
    From: Manuel Estrada Sainz <ranty@ranty.pantax.net>
    
    Based on patch and suggestions from Dmitry Torokhov
    
    - release 'struct firmware_priv' from class_dev->release.

commit fbe910e4e9d389bcdbb4c46c0077b737f5fadfbf
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:24:02 2004 -0800

    [PATCH] request_firmware(): add status bitmap
    
    From: Manuel Estrada Sainz <ranty@ranty.pantax.net>
    
    Based on patch and suggestions from Dmitry Torokhov
    
    - Make an status bitmap instead of using independent boolean variables.  It
      will make things nicer later when new issues need to be tracked.

commit b09697149709ef87e1fd2964e9cd629841f1fe26
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:23:51 2004 -0800

    [PATCH] request_firmware(): more misc fixes
    
    From: Manuel Estrada Sainz <ranty@ranty.pantax.net>
    
    Based on patch and suggestions from Dmitry Torokhov
    
    - Take advantage of strlcpy.
    
    - Extra error logging.
    
    - Use struct coping instead of memcpy.
    
    - Put all aborting code in a single place, and fully abort if
      fw_realloc_buffer fails.
    
    - Abort on unexpected 'loading' values.

commit 6a2ea2b83961777d38f871ef4328fc72162512c6
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:23:39 2004 -0800

    [PATCH] request_firmware(): misc fixes
    
    From: Manuel Estrada Sainz <ranty@ranty.pantax.net>
    
    Based on patch and suggestions from Dmitry Torokhov
    
    - use vfree to free vmalloc memory.
    
    - Make sure fw_setup_class_device sets *class_dev_p to NULL in all case of
      error.
    
    - Fix error handling in firmware_class_init.

commit 9bf6f993e31d3086899e0a5e88dac5f88d5f4d37
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:23:28 2004 -0800

    [PATCH] M68k Macintosh driver config
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Update Macintosh driver config logic:
      - Move remaining Mac/m68k-specific logic from arch/m68k/Kconfig to
        drivers/macintosh/Kconfig
      - Fixup Mac/m68k conflicts

commit 514b677ca8f82412545b912d95bec6c44f7879d7
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:23:15 2004 -0800

    [PATCH] n_tty.c cleanup
    
    From: James Simmons <jsimmons@infradead.org>
    
    Remove kd.h.  We don't need this header.  Use the inline functions to set
    the current process state.

commit 8834e5d044d2532666f56bf48537e06c1e54df51
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:23:01 2004 -0800

    [PATCH] dvb: TTUSB-Budget DVB driver update
    
    From: Michael Hunold <hunold@linuxtv.org>
    
    - dvb-ttusb-budget: Fixed i2c code to detect nearly all errors
    
    - dvb-ttusb-budget: Added "V 2.1" to prevent warning message on driver load
    
    - dvb-ttusb-budget: Some printks turned into dprintks
    
    - dvb-ttusb-budget: Removed __initdata.  It is now possible in kernel 2.6
      to compile the DVB drivers into a monolithic kernel.
    
    - dvb-ttusb-budget: Fix for failing urb submission under 2.6 kernels

commit f356aa5320bef5026906093f11ca2dd61621df17
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:22:49 2004 -0800

    [PATCH] dvb: av7110 DVB driver update
    
    From: Michael Hunold <hunold@linuxtv.org>
    
    - av7110: check result of saa7146_wait_for_debi_done() in av7110_bootarm()
      and bail out early if booting the ARM failed
    
    - av7110: correct voffset for analog standard
    
    - av7110: replace usage of sleep_on_interruptible_timeout() with
      wait_event_interruptible_timeout()

commit b4da6cccdf94e16afeff9b9156dfa0726f5a1768
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:22:38 2004 -0800

    [PATCH] dvb: tda1004x DVB frontend update
    
    From: Michael Hunold <hunold@linuxtv.org>
    
    - tda1004x: standardised where the firmware should be.
    
    - tda1004x: need to re-invert inversion for tda10046 in get_fe()
    
    - tda1004x: reset chip before uploading firmware
    
    - tda1004x: split firmware upload off from frontend init.  the initial tune
      attempt was taking too long.  provide explanation of tuner frequency
      calculations
    
    - tda1004x: Fixed signal strength reading for tda10046h

commit 9820b41956375ce92c4468920bc966a9f1c4c71a
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:22:25 2004 -0800

    [PATCH] dvb: stv0299 DVB frontend update
    
    From: Michael Hunold <hunold@linuxtv.org>
    
    stv0299: Added seperate settings for SU1278 on Technotrend hardware

commit 1d9c0c4d0615bfc00e7080e72dbca6006aa788ff
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:22:14 2004 -0800

    [PATCH] dvb: Misc frontend updates
    
    From: Michael Hunold <hunold@linuxtv.org>
    
    - alps_tdlb7 + alps_tdmb7: Changed to use full i2c reads in probing instead
      of i2c pings to be compatable with ttusb
    
    - nxt6000: bugfix by Robert Cook: FE_RESET did the same as FE_INIT, thus
      invalidating current channel settings on FE_RESET
    
    - sp887x: fixed typo
    
    - Makefile: add nxt6000 frontend driver to Makefiles
    
    - Kconfig: DVB_TDA1004X and DVB_NXT6000 do not depend on !STANDALONE (i.e.
      no compile-time firmware image necessary)
    
    - ves1820: turn off ves1820 test output pins
    
    - ves1820: verbose-print AFC only if carrier has been recovered
    
    - ves1820: change AFC handling as suggested by Robert Schlabbach, use bit 1
      of the SYNC register for FE_HAS_SIGNAL

commit d7812a5441c699d2c1bbfb2e43746875e6e1ba57
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:22:01 2004 -0800

    [PATCH] dvb: core update
    
    From: Michael Hunold <hunold@linuxtv.org>
    
    - dvb-core: replace usage of sleep_on_...() with
      wait_event_interruptible_timeout()
    
    - dvb-core: fix dvb_ringbuffer_read/write() buffer pointer bug
    
    - video: added VIDEO_EVENT_FRAME_RATE_CHANGED and VIDEO_GET_FRAME_RATE
      ioctl

commit 81260e6da98cb75bfe92e50f3b6937534b38592b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:21:50 2004 -0800

    [PATCH] dvb: Minor Skystar2 updates
    
    From: Michael Hunold <hunold@linuxtv.org>
    
    skystar2: renamed two functions, deleted spurious spaces.

commit 9d01ccfc5328f684a71048761df8f6b375bdf63a
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:21:38 2004 -0800

    [PATCH] dvb: Update saa7146 driver core
    
    From: Michael Hunold <hunold@linuxtv.org>
    
    - saa7146: fix timeout bug on AMD64 in saa7146_wait_for_debi_done()
    
    - saa7146: release resources for video overlay properly, don't
      (incorrectly) rely on VIDIOC_OVERLAY(0)

commit bf26bd16ba2c9d4d81bedf899a14fe38d5f0db8b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:21:27 2004 -0800

    [PATCH] dvb: Update subsystem docs
    
    From: Michael Hunold <hunold@linuxtv.org>
    
    - dvb docs: added a nice howto on how to get Avermedia DVB-T running - nice
      tutorial for DVB newbie, too
    
    - dvb docs: fix various incorrect informations in cards.txt, faq.txt,
      firmware.txt

commit bd6d323faf1f1f5d593bbe55ef5b12fe10a38c43
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:21:14 2004 -0800

    [PATCH] s390: DCSS block device driver.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Add z/VM discontiguos saved segments (DCSS) block device driver.

commit 9d989b85678db80608fc13ff051ec6e76ad4a1e2
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:21:02 2004 -0800

    [PATCH] s390 syscalls.h update
    
    From: Arnd Bergmann <arnd@arndb.de>
    
    With the s390 updates in -mm3, you also need this patchlet.

commit b9fbc6c28410d5047fbb5a35e7df84cc94e0e5a0
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:20:50 2004 -0800

    [PATCH] s390: zfcp host adapter
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Add new features to the zfcp host adapater driver:
      - Add support for FCP access control.
      - Error recovery enhancements.

commit fb1a16331b0b3bffa2546e2c86155cd7c98fda24
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:20:38 2004 -0800

    [PATCH] s390: channel measurement block interface.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Add channel measurement block interface.

commit 7131c7a6e2a2293a193f030eab453b238241f101
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:20:25 2004 -0800

    [PATCH] s390: collaborative memory management.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Add collaborative memory management interface.

commit 457ed08f3761b3355ed6d7cd814b307176840556
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:20:13 2004 -0800

    [PATCH] s390: z/VM monitor stream.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Add Linux - z/VM monitor stream.

commit 1afe037591ae1161507591e86f42659b96c7d6a0
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:20:01 2004 -0800

    [PATCH] s390: virtual timer interface.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Add virtual timer interface.

commit 2e05bc63d377de93738ff1647209116ccb1e1151
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:19:49 2004 -0800

    [PATCH] s390: DASD device driver.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    DASD driver fixes:
     - Fix generic_set_online if diag discipline is not availab.e
     - Fix reserve on already reserved device.
     - Use default-erp for unit check without sence information.
     - Revert dasd naming scheme change from dasd<xyz> to dasd_<busid>_. This
       breaks too many user space packages.
     - Extend dasd naming scheme to four letters dasd<aaaa>-dasd<zzzz>.
     - Fix formatting of dasds.

commit 6cab1ea35da00ca8cb4353a434c35c2884acf3c8
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:19:37 2004 -0800

    [PATCH] s390: IUCV network driver.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    IUCV interface fixes:
     - VM workaround: redirect setmask call to cpu 0.
     - Disable message interrupts during connection setup.
     - Honor incoming connection severed during connection setup.
     - Add connect retry when remote severed connection.
     - Add symlinks between net device and iucv device.
     - More fixes for proper net device allocation/deallocation.

commit dd0d869f7d285ce5011c870e0cc0373ff072260b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:19:23 2004 -0800

    [PATCH] s390: LCS network driver.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    LCS network driver fixes:
     - Fix ccwgroup behaviour, remove should offline cards still online.
     - Better not write to the debug feature before it is registers.
     - Don't free card structure on offline but on remove.
     - Check for deferred condition code 1 in lcs_irq for halt requests.
     - Call free_netdev only if there is a net device.

commit 324f204c9f17ff3510b999198308f3d482286dc0
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:19:10 2004 -0800

    [PATCH] s390: CTC network driver.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    CTC network driver fixes:
     - Fixed some debug messages (did not compile with DEBUG defined).
     - Added sanity checks in ctc_proto_store() & ctc_shutdown_device().
     - Added some bugfixes from 2.4.
     - Tweaked logging.
     - Removed syntax error in pr_debug call.
     - Changed do_IO (not existing any more) to ccw_device in messages.
     - Corrected format failure in pr_debug of channel_get.
     - Add symlinks between net device and ctc device.
     - Add tiocmset/tiocmget API change patch from Russell King
     - Fix locking problem in ctc_tty_cleanup.

commit 82cc45b0e2f5d083f2c0c057d0c65530c116f1ab
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:18:59 2004 -0800

    [PATCH] s390: compat_timer_settime.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    sys_timer_settime returns EINVAL if *new is NULL, compat_timer_settime
    returns EFAULT.  Add a check to compat_timer_settime to return EINVAL
    if *new is NULL.

commit 4e3acbeae836c55ae7f3ef7fae9c53c359ee060e
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:18:46 2004 -0800

    [PATCH] s390: console driver.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Console driver fixes:
     - Fix ^n at end-of-line check in 3215 and sclp driver.
     - Fix copy_from_user/might_sleep/spinlock problem in sclp.

commit be457375414aed433cd56dbb6c1ed78e9817ad64
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:18:34 2004 -0800

    [PATCH] s390: common i/o layer.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Common i/o layer fixes:
     - Add atomic onoff variable to ccw devices and ccw-group devices to
       avoid races during online/offline.
     - Fix pr_debug calls.
     - A lot of path fixes:
       + Set device to disconnected state after no path event.
       + Fix chpid vary on/off for single path devices.
       + Make logical vary on/off consistent with physical vary on/off.
       + Don't update subchannel schib if the device is gone (dnv not set).
       + Add code to recover lost chpids after machine checks.
       + Avoid processing link incidents, resource accessability events and
         chpid machine checks for logically offline chpids.
       + Recover disconnected devices after chsc machine checks.
       + Delay de-registering of no path devices to avoid deadlocks.
       + Don't redo ssd for known subchannels - the info is static.
       + Introduce a second, "slow" machine check handler thread for new devices.
         The "fast" machine check handler only recovers disconnected devices.
     - Deregister subchannel rather than ccw device on not oper events.
     - Fix calling sequence of notify function vs. path verification.
     - Reset timeout for disconnected devices.
     - Fix problem with debug feature and %s arguments.
     - Fix __get_subchannel_by_stsch to deal with "zombie" subchannels.
     - Avoid "zombie" subchannels if device is not operational during sense id.
     - Handle call to the io_subchannel remove function if the ccw device
       is not registered yet.
     - Add availability attribute for ccw devices: "good", "no device",
       "no path", "boxed".
     - Export ccw_device_work for qdio as module.
     - Retry sense id for tape devices which present intervention required.
     - Don't check the activity control to decide if the device driver interrupt
       handler needs to be called but use the bits in status control.
     - Fix race in ccw_device_stlck.
     - Accumulate deferred condition code.
     - Fix setting_up_sema locking.
     - Call qdio_shutdown instead of qdio_cleanup on failed establish.
     - Fix problem when 64 FCP adapters are initialized simultaneously.
     - Fix problem with >64 adapter interrupt capable devices.
     - Reduce stack usage in qdio.

commit b5f520b77d92b6c9015241e04fe6d5187a39775b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:18:22 2004 -0800

    [PATCH] s390: general update.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Core s/390 changes:
     - Add -mbackchain to CFLAGS to prepare for gcc 3.4 with comes with a
       default setting of -mno-backchain
     - Add implementation of strcpy.
     - Pad bytes after string end in strncpy.
     - Fix __sem_update_count inline assembly for gcc 3.4.
     - Export smp_ptlb_all for tlb flushing in module code.
     - Fix sched_clock.
     - Remove the last KERNEL_VERSION #if in s390 code.
     - Add dummy implementation for missing dma_{alloc,free}_coherent.
     - Avoid cast of lvalue in idal_buffer_{from,to}_user.
     - Remove _exit definition from unistd.h.

commit cb57118ec5443389acbca48306fd6ea195a7f23e
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:18:11 2004 -0800

    [PATCH] fix module reference counting in zoran driver
    
    From: Christoph Hellwig <hch@lst.de>
    
    Take a reference before calling into the module and release it after we're
    done.  Also remove the useless (and wrong) refcounting in videocodec -
    symbols from this module are used by other modules if we call into those
    functions so it can't be unloaded anyway.
    
    We really need to add a debug check to tip all those
    try_module_get(THIS_MODULE) callers..

commit e32c02128c7e6150f772ec9b5054d88469765d7c
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:18:01 2004 -0800

    [PATCH] superblock fixes
    
    From: <fabian.frederick@gmx.fr>
    
    - Avoid sync_fs with clean fs & wait mode = 0
    
    - mark_files_ro overrides pending deletes (doc)
    
    - some trivial doc fixes

commit 91556682e0bf004d98a529bf829d339abb98bbbd
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:17:48 2004 -0800

    [PATCH] HFS+ support
    
    From: Roman Zippel <zippel@linux-m68k.org>
    
    This driver adds full read/write support for HFS+ and is based on the
    readonly driver by Brad Broyer.
    
    Thanks to Ethan Benson <erbenson@alaska.net> for a number of patches to
    make the driver more compliant with the spec.

commit d1081202f1d0ee35ab0beb490da4b65d4bc763db
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:17:36 2004 -0800

    [PATCH] HFS rewrite
    
    From: Roman Zippel <zippel@linux-m68k.org>
    
    This is a complete rewrite of the HFS driver, it gets rid of a all the
    special conversion options, which belong in user space.  The driver uses now
    a btree support very similiar to HFS+, so that both could be merged at some
    point.
    
    Thanks to Ethan Benson <erbenson@alaska.net> for a number of patches to make
    the driver more compliant with the spec and Christoph Hellwig <hch@lst.de>
    for fixing up the documentation.

commit abd631246c5acede327fe4fd04692f45df138377
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 16:16:57 2004 -0800

    [PATCH] m68k: Amiga Zorro8390 Ethernet new driver model
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Zorro8390 Ethernet: Convert to the new driver model

commit 5e8d06fea6d350147e4a9068e24e7be79546426e
Author: François Romieu <romieu@fr.zoreil.com>
Date:   Wed Feb 25 15:19:18 2004 -0500

    [netdrvr r8169] fix TX descriptor overflow
    
    Please apply attached patch.
    
    Without patch, bogus descriptors are parsed as soon as
    tp->cur_tx%NUM_TX_DESC + (tp->cur_tx - tp->dirty_tx) > NUM_TX_DESC
    (assume for instance tp->dirty_tx = NUM_TX_DESC/2,
    tp->cur_tx = NUM_TX_DESC - 1 and watch entry go beyond NUM_TX_DESC).
    
    Missing stats update is fixed by the patch btw.

commit 9abdbe6063e7ca20194c53db70a8cf24370e0d39
Author: Santiago Leon <santil@us.ibm.com>
Date:   Wed Feb 25 14:52:14 2004 -0500

    [PATCH] Add IBM PowerPC Virtual Ethernet Driver

commit 6571dbda44b32de75587f1e3b826c5ad69295b07
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Feb 25 14:37:49 2004 -0500

    [PATCH] remove useless MOD_{INC,DEC}_USE_COUNT in wanpipe
    
    wanpipe_open/close are used by sub-modules in their open/close handlers,
    thus locking sdlamain into memory by using the exports

commit 647342a7142a9c188f7769aad164029650a31d53
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Feb 25 14:37:42 2004 -0500

    [PATCH] remove useless MOD_{INC,DEC}_USE_COUNT in meth

commit 7359f96498730630f8119d8e3c08dcd33d24c50d
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Feb 25 14:37:34 2004 -0500

    [PATCH] remove useless MOD_{INC,DEC}_USE_COUNT in sb1250-mac

commit bf8f9a5dd13f67e01f2f681c1b7517048dfd7f54
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Feb 25 14:37:27 2004 -0500

    [PATCH] remove useless MOD_{INC,DEC}_USE_COUNT in sun3lance

commit bfdc815e2c599c8884a9c4ae1966a6fe993f7de1
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Feb 25 14:37:20 2004 -0500

    [PATCH] remove useless MOD_{INC,DEC}_USE_COUNT in lasi_82596.c

commit 05e7f554ec4870ac570c413d6b8480008b1e684b
Author: Tomasz Torcz <zdzichu@irc.pl>
Date:   Wed Feb 25 14:37:13 2004 -0500

    [PATCH] Update via-rhine Kconfig entry
    
    I've noticed that via-rhine supports my VIA Rhine-III. Kconfig
    mentions only rhine-1 and rhine-2. Here update.

commit 6c48acb36eb6513af71e721cc9b62abef45b3a8f
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Wed Feb 25 14:37:05 2004 -0500

    [PATCH] pcnet32 non-mii link state fix
    
    s patch correctly returns the link state of an adapter which does not
    have an MII.  Tested by myself and the patch author Thomas Munck Steenholdt
    <tmus@tmus.dk>.  (This version has the correct file name)

commit 29d55497eb6a4929c81fd4177e8de02411d48b90
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Wed Feb 25 14:36:58 2004 -0500

    [PATCH] remove init_{etherdev,netdev} and dev_alloc
    
    These are racy by "design", and all users have been eliminated.

commit d25843bd76aa793e4076a7f3c64974bdaf341db4
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 25 14:36:50 2004 -0500

    [PATCH] ppc64: fix de4x5 build
    
    From: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    
    It should be _machine, not ppc_machine.

commit 540357d72ef461cadd6e4ad06e42f113c4956537
Author: Jakub Bogusz <qboosh@pld-linux.org>
Date:   Wed Feb 25 14:36:42 2004 -0500

    [PATCH] 2.6.3 - fix for undefined mdelay in 3c505
    
    This patch fixes undefined mdelay() in 3c505 driver - at least on alpha
    (maybe on other archs <linux/delay.h> is included by some other headers,
    but on alpha it isn't) there was warning:
    
    *** Warning: "mdelay" [drivers/net/3c505.ko] undefined!

commit 425e62587dfb83c5c81d9e459b4b110450db00c7
Author: Len Brown <len.brown@intel.com>
Date:   Wed Feb 25 14:11:52 2004 -0500

    [ACPI] delete unnecessary dmesg lines, fix spelling

commit 333f957c3d5259337b859d3d413d805450ddcc9a
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Feb 25 12:41:18 2004 -0500

    [libata] Much better s/g table fill routine
    
    My version wouldn't work for really large iommu merges.
    
    Contributed by Benjamin Herrenschmidt, with a tiny optimization from me.

commit c16cfec2c31119d00086f570cca36227e8b8850e
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Feb 25 10:26:39 2004 -0500

    Fix PCI MSI build when kirqd is disabled.

commit df755f729503d86ce0d5ee109215ab0129b8dd4c
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Feb 25 08:29:15 2004 -0500

    [libata] bump versions

commit 34f6ba7aae69b6856a0d9f8a0c33252169e1cea8
Author: David Milburn <dmilburn@redhat.com>
Date:   Wed Feb 25 08:26:11 2004 -0500

    [libata sata_promise] Fix DIMM initialization on PCI-X bus

commit 83f56aefb778d7f27a927de8df9ed43eb57dc865
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Wed Feb 25 05:25:17 2004 -0800

    ia64: Update defconfig

commit 34328f05782df8924dffa9d208e05cc69db0a52b
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Feb 25 08:22:42 2004 -0500

    [libata] Explicitly set max_phys_segments to 128 (current blk default),
    in case MAX_PHYS_SEGMENTS ever changes.

commit cc0c217039d3db1958e689555957a683a6992974
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Feb 25 06:54:35 2004 -0500

    [libata sata_sil] fix 4-port support on SII 3114

commit b19b2c2e34d6c86837d6d1799f48a4015a5b9f46
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Feb 25 06:51:35 2004 -0500

    [libata] Guarantee that S/G entries do not straddle IDE DMA 64k boundary

commit 9f54355722c7de803f667a6f6266cb6b3d9cb098
Merge: a33161f... f470a91...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Feb 25 04:59:58 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit f470a91b12c269f6b7fb412f7e0f3c7ae0bd916b
Author: Len Brown <len.brown@intel.com>
Date:   Wed Feb 25 04:43:51 2004 -0500

    ACPI URL update

commit a259dbb65a7ef88fc0f955122c20b95d3a2a4b76
Merge: a33161f... 91d516a...
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Feb 25 04:13:56 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/sparc-2.6

commit 91d516a840ec287ccb4a3e86d9b262bb2d66fc4f
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Feb 25 03:51:47 2004 -0500

    [SPARC64]: Use prom_printf in sun_do_break() instead of printk. Avoids lockup.

commit 86f2650720252ecc04a3f9534d84440a0303b817
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Tue Feb 24 22:48:53 2004 -0800

    ia64: Update defconfig

commit 58cb4a772184f05a505aead51eb42288dd121ff8
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Tue Feb 24 22:46:47 2004 -0800

    ia64: Fix bug in ia64_get_scratch_nat_bits()/ia64_put_scratch_nat_bits().

commit 0d2fee9b743cae6f23b007158ce75d92a3779f83
Merge: 61e7d4e... d6c90be...
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Feb 24 22:37:22 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/sparc-2.6

commit a33161f5beb39bc6e82e062dbec301e52b367eea
Author: Andi Kleen <ak@suse.de>
Date:   Tue Feb 24 18:01:35 2004 -0800

    [PATCH] Support AGP bridge on Nvidia Nforce3 + cleanup
    
    For some unknown reasons Nvidia NForce3 doesn't use the standard Hammer AGP architecture,
    but requires set up of some shadow registers. This patch adds that to the K8 AGP driver.
    
    Based on an old 2.4 patch from someone at Nvidia.
    
    Also includes another bug fix for the K8 AGP handler, from Brad House.
    We should not assume that there is only one northbridge in a Uniprocessor system.
    Always flush all.
    
    Also some minor cleanup.

commit f9d3880b37e3280e085e2917b8b5893cd9ae3bc9
Author: Andi Kleen <ak@suse.de>
Date:   Tue Feb 24 18:01:26 2004 -0800

    [PATCH] Run 32bit compat ioctl handlers in BKL
    
    Give 32bit emulation ioctl handlers the same locking rules as normal ioctl handlers.
    This will avoid surprises in driver code.
    
    Most call sys_ioctl who would take it anyways.

commit 047379fbbebfa1da88482e227145939015c037a6
Author: Andi Kleen <ak@suse.de>
Date:   Tue Feb 24 17:58:41 2004 -0800

    [PATCH] New machine check handler for x86-64
    
    This adds a new completely rewritten machine check handler for x86-64.
    The old one never worked on 2.6.
    
    The new handler has many improvements. It closely follows the Intel and AMD
    recommendations on MCE handlers now (the old one had many violations). It handles
    unrecoverable errors in user space better now - it will only kill the process now
    if possible instead of panicing.
    
    This one is CPU independent now - it should work on any CPU that supports the standard
    x86 MCA architecture.
    
    This new handler only logs fatal errors that lead to kernel panic to the console.
    Non fatal errors are logged race free into a new (non ring) buffer now
    and supplied to the user using a new character device.  The old one could
    deadlock on console and printk locks. This also separates machine check errors
    from real kernel errors better. The new buffer has been also designed to
    be easily accessible from external debugging tools: it has a signature
    and could be even recovered after reboot. It is not organized as a ring buffer -
    this means the first errors are kept unless explicitely cleared.
    
    The new error formats can be parsed using ftp://ftp.suse.com/pub/people/ak/x86-64/mcelog.c
    The new character device for it can be created with mknod /dev/mcelog c 10 227
    
    There is a new sysfs interface to configure the machine check handler.
    It has a "tolerant" parameter that defines the aggressiveness of the machine check:
    
    0: always panic
    1: panic if deadlock possible (e.g. MCE happened in the kernel)
    2: try to avoid panic
    
    Default is 2
    
    Despite of having more features the new handler is shorter.

commit 386eaf876b09a57bd6036430049f262906b13aba
Author: Andi Kleen <ak@suse.de>
Date:   Tue Feb 24 17:56:12 2004 -0800

    [PATCH] x86-64 merge for 2.6.3
    
    Bring the x86-64 port up to date. Lots of smaller bug fixes that have accumulated.
    Also fixes another nasty bug introduced by the IA32e changes that causes BUGs at
    boot for some people.
    
    Only changes x86-64 specific files. There are some other changes that I'm sending
    separately.
    
     - Some cleanup in NMI watchdog code
     - Fix HyperThreading CPU setup race (Suresh B. Siddha)
     - Update defconfig
     - Add a comment on why iommu_fullflush is disabled.
     - Export sys_ioctl again
     - Fix build with IA32_EMULATION=y and SYSVIPC=n
     - Remove noisy boot printks in the mptable scan.
     - Implement automatic NMI watchdog switching for real now
     - Remove redundant 32bit ioctl handlers for autofs
     - Remove CONFIG ifdefs around rtc 32bit ioctl handlers
     - Remove useless nfsctl ifdef in syscall.c (Al Viro)
     - Increase padding for prefetchw alternative
     - Check for NX bit early before setting up memory maps (Suresh B. Siddha)
     - Change Intel IA32e config description and fix help texts (Jun Nakajima)
     - Fix microcode driver build really now (Dave Jones)
     - Add nohpet option to disable HPET timer
     - Fix double semicolon in aperture.c
     - Add cmpxchg16b cpuid entry
     - Fix return value of read_pci_config_16 (Paul Menage)
     - Fix __KERNEL_COMPAT32_CS (Zachary Amsden)
     - Disable the infamous 30 minutes check in CMOS time setting
     - Update URLs in Kconfig (Petri T. Koistinen)
     - Fix ACPI interrupt source parsing for Nforce3 (Maciej W. Rozycki)
     - Fix 32bit ipc version parsing.
     - Run local APIC NMI watchdog only once a second (or less often on idle boxes)
     - Merge ACPI APIC SCI functions from i386
     - Add i8254 timer suspend code from i386
     - Merge with 2.6.2-rc3 + minor changes from i386
     - Fix empty_zero_page declaration (Greg Johnson)
     - Readd sysctls for exception/page fault trace and vsyscall32
     - Fix WCHAN
     - Fix STACK_TOP usage. Stack for 64bit processes should be at the
       top of memory now again. Also set it correctly for LINUX32_3GB.
     - Add warning fixes for gcc 3.4 and -Wdeclaration-after-statement

commit b7a19c513bc71c83d3870e881801a6d336509538
Merge: 4c238c9... bf61f9b...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Feb 24 16:46:37 2004 -0800

    Merge bk://bk.linux1394.org/ieee1394-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit bf61f9b751fa2e242cc3a6891514460960f751fd
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Feb 24 23:43:38 2004 -0500

    IEEE1394(r1163): Fixup nodemgr_{suspend,resume}_ne to use the ud class list.

commit 707a306c97442ab9ad445a73aeebaaa675ed07de
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Feb 24 23:38:03 2004 -0500

    IEEE1394(r1162): Check return value for errors from hpsb_register_protocol.

commit 4c238c91c817410c329598be7d543621e4014b8a
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 16:12:37 2004 -0800

    [PATCH] asmlinkage fixes
    
    From: Andreas Gruenbacher <agruen@suse.de>,
          and me.
    
    Latest gcc cvs is able to detect mismatches between functions which are
    tagged asmlinkage and declarations which are missing asmlinkage.  Or vice
    versa.
    
    Fix up the fallout from an x86 allyesconfig build.

commit 0bab064232c278cb484b6aaa790b9c626ab6524b
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 16:12:24 2004 -0800

    [PATCH] add syscalls.h
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    Add syscalls.h, which contains prototypes for the kernel's system calls.
    Replace open-coded declarations all over the place.  This patch found a
    couple of prior bugs.  It appears to be more important with -mregparm=3 as we
    discover more asmlinkage mismatches.
    
    Some syscalls have arch-dependent arguments, so their prototypes are in the
    arch-specific unistd.h.  Maybe it should have been asm/syscalls.h, but there
    were already arch-specific syscall prototypes in asm/unistd.h...
    
    Tested on x86, ia64, x86_64, ppc64, s390 and sparc64.  May cause
    trivial-to-fix build breakage on other architectures.

commit 091704ef34f2e6aed8436877aeb434125b002c18
Merge: 36fb0cb... 6247834...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Feb 24 16:06:02 2004 -0800

    Merge bk://linux-acpi.bkbits.net/linux-acpi-release-2.6.4
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 36fb0cbc2234708af0a2139aaf693528fbd80d2f
Merge: 9b91e15... 5c4cee5...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Feb 24 16:05:13 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 6247834ee787a356751731dd83eeb71b7261c534
Merge: 61e7d4e... bbf9f7c...
Author: Len Brown <len.brown@intel.com>
Date:   Tue Feb 24 17:43:10 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit bbf9f7c510d2bc17a407ac6ad9b9af2d62d642a8
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 16:13:08 2004 -0500

    [PATCH] drivers/acpi/sleep/proc.c warnings
    
    drivers/acpi/sleep/proc.c:359: warning: initialization from incompatible pointer type
    drivers/acpi/sleep/proc.c:367: warning: initialization from incompatible pointer type

commit ad7272b872f106072790e14133f9d7436e6405ca
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 16:12:53 2004 -0500

    [PATCH] acpi/utils.c warning fix
    
    drivers/acpi/utils.c: In function `acpi_evaluate_reference':
    drivers/acpi/utils.c:353: warning: unsigned int format, different type arg (arg 5)

commit da40777ee7a78add3dade006986f962537b97dda
Author: Dave Jones <davej@redhat.com>
Date:   Tue Feb 24 19:59:00 2004 +0000

    [CPUFREQ] Don't guess FSB on Nehemiah.
    Instead we can get it from the maximum capable fsb bits (given thats
    what we boot at).

commit 7886396cb75ed257a6395cfb4fbe26318b471e4a
Author: Dave Jones <davej@redhat.com>
Date:   Tue Feb 24 19:10:44 2004 +0000

    [CPUFREQ] Extra sanity checks in longhaul.

commit f9d4835bd95013b2b2ddf604727d1899a143ce7e
Author: Dave Jones <davej@redhat.com>
Date:   Tue Feb 24 19:08:55 2004 +0000

    [CPUFREQ] Don't set up longhaul voltage scaling too early.
    We can bomb out early, so don't poke any registers just in case.

commit d6c90be10ece90d36a76975be330f638495c3d36
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Feb 24 12:05:20 2004 -0500

    SPARC64: Use hard_smp_processor_id() for init_irqwork_curcpu()

commit 5c4cee5b0ac4205a896261f5a4607031010c7dbb
Author: David Stevens <dlstevens@us.ibm.com>
Date:   Tue Feb 24 08:24:37 2004 -0800

    [IGMP/MLD]: Check for numsrc overflow, plus temp buffer tweaks.

commit d894b9155acb7bc04f7b6265f83a89f5bbf4a86c
Author: Chas Williams <chas@cmf.nrl.navy.mil>
Date:   Tue Feb 24 08:21:07 2004 -0800

    [ATM]: use clip_tbl instead of clp_tbl_hook (from Francois Romieu <romieu@fr.zoreil.com>)

commit 6cd2c39a62873bc107c8d0b48ee5f1f64604fa1a
Author: Chas Williams <chas@cmf.nrl.navy.mil>
Date:   Tue Feb 24 08:20:28 2004 -0800

    [ATM]: horizon: make reset function not __init (from Randy Dunlap <rddunlap@osdl.org>)

commit 4183b994b9342f434ab70d9fbd9c82f52a1ac274
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Feb 24 08:17:59 2004 -0800

    [IPV6]: UDPv6 needs recvmsg csum error path fix too, thanks Olaf.

commit 1caf995835340419c293e89d90d78fa9ad055af5
Author: Michal Ludvig <mludvig@suse.cz>
Date:   Tue Feb 24 08:15:18 2004 -0800

    [XFRM_USER]: In xfrm_send_{acquire,policy_notify}(), use {RTA,NLMSG}_SPACE().

commit 90af6e35ef3680d52c8e5fdfed035712c4581517
Author: Michal Ludvig <mludvig@suse.cz>
Date:   Tue Feb 24 08:13:51 2004 -0800

    [XFRM_USER]: Fix SKB sizing in xfrm_send_policy_notify().

commit e1ef7eb2418d4b26810f6d6fc6e5a1aedf3e41cd
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Tue Feb 24 08:12:28 2004 -0800

    [WANROUTER]: Kill MODULE ifdefs.

commit 26b4fa1ce0e5f7c057eb3f61fcf61dc1b651075a
Author: Patrick McHardy <kaber@trash.net>
Date:   Tue Feb 24 08:11:46 2004 -0800

    [NETFILTER]: Fix amanda helpers, forward port from 2.4.x version.

commit ccd56b20b38195764dc3aa8c2d1151166a96b3f1
Merge: e249c44... 8619628...
Author: Len Brown <len.brown@intel.com>
Date:   Tue Feb 24 10:58:46 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit 9b91e15be1064f3b9b75be8fa44f5fffe0c14c9c
Merge: 61e7d4e... d6c90be...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Feb 24 07:29:30 2004 -0800

    Merge bk://bk.phunnypharm.org/sparc-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit d548a928a963e41ce9af9bfd73f0b2ffbabd3b43
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Feb 24 09:28:21 2004 -0500

    SPARC64: Fix debug spinlocks to not trash random memory with > 4 cpus's (or sparse cpu's).

commit 8619628485103b481e27dd2e57b625db82005ee0
Merge: 03d6c5b... 023a783...
Author: Len Brown <len.brown@intel.com>
Date:   Tue Feb 24 07:14:48 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit 61e7d4eb42c5e71e647ac7275f16be56036ad865
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:05:09 2004 -0800

    [PATCH] swsusp/s3: Assembly interactions need asmlinkage
    
    From: Pavel Machek <pavel@suse.cz>
    
    swsusp/s3 assembly parts, and parts called from assembly are not properly
    marked asmlinkage; that leads to double fault on resume when someone
    compiles kernel with regparm.  Thanks go to Stefan Seyfried for discovering
    this.

commit 27d5bd9d446dd67398efc390004f864d4295e0ca
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:04:58 2004 -0800

    [PATCH] Change ENOTSUPP to EOPNOTSUPP
    
    From: James Morris <jmorris@redhat.com>
    
    ENOTSUPP is the wrong value, and should not be returned to userspace.

commit 38ff32ef2bfda1c12f7d35a2d46d14af3328415a
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:04:47 2004 -0800

    [PATCH] Eicon isdn driver compile __devexit compile fix
    
    From: Armin <armin@melware.de>
    
    Pointers to __devexit functions must be wrapped with the __devexit_p()
    macro.

commit a4580ad908e8a6d2217e3c5805f50dd533b3e68d
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:04:36 2004 -0800

    [PATCH] fix the build with CONFIG_UNIX98_PTYS=n
    
    From: Ian Wienand <ianw@gelato.unsw.edu.au>
    
    - Fix inline function declarations
    
    - Use #ifdef for CONFIG_*, not #if

commit 0bf8f70ab047ddb758be2fb450832ad8af636510
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:04:26 2004 -0800

    [PATCH] jffs2: Don't jump between contexts
    
    From: David Woodhouse <dwmw2@infradead.org>
    
    Don't jump between contexts.
    
    (don't write comprehensible changelogs, either).

commit dc6a30eb3a8afb2ef9b9c532bb04a8aa84b0e259
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:04:15 2004 -0800

    [PATCH] pty changes require procps 3.2
    
    From: Albert Cahalan <albert@users.sourceforge.net>
    
    Now that /dev/pts is using the 12:20 dev_t, a new procps is required.

commit e3fac10ee20fe83566b7202c13f0701c2a7a69c0
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:04:05 2004 -0800

    [PATCH] clarify MSI requirements in Kconfig
    
    From: Martine Silbermann <Martine.Silbermann@hp.com>
    
    Having spent a non trivial amount of time trying to pull in the code to
    enable MSI, I would suggest that a clear indication in Kconfig that MSI
    requires CONFIG_PCI_USE_VECTOR would be very helpful.  Also since the MSI
    code was integrated into 2.6.1 I've updated the comment that called for
    installing the MSI patch.

commit d79efc1e8dd084d1131c7c639d7cc7658b938d48
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:03:54 2004 -0800

    [PATCH] remove unneeded check from sys_sysctl()
    
    That check I just added to sys_sysctl() is not needed: do_sysctl() checks as
    well.

commit 4397e63e3e58ead9b9e3f888f3fa26977078d128
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:03:44 2004 -0800

    [PATCH] cosmetic printk fix
    
    From: Arjan van de Ven <arjanv@redhat.com>
    
    One of my machines prints the following in dmesg during boot;
    
    CPU: Trace cache: 4K uops<6>CPU: L2 cache: 256K
    
    cause is a missing \n being printed; fix below.

commit 39c203fdd9bc9e6fdaa7641c36738b47e5ded3de
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:03:32 2004 -0800

    [PATCH] x86: remove THREAD_SIZE assumption cleanups
    
    From: Arjan van de Ven <arjanv@redhat.com>
    
    some more hardcoded THREAD_SIZE cleanups.

commit 895f649ebbe517a92455821525658f3f3f7fba45
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:03:21 2004 -0800

    [PATCH] add the Intel Alder IO-APIC PCI device to quirks
    
    From: James Bottomley <James.Bottomley@SteelEye.com>
    
    The alder has an intel Extended Express System Support Controller which
    presents apparently spurious BARs.  When the pci resource code tries to
    reassign these BARs, the second IO-APIC gets disabled (with disastrous
    consequences).
    
    The first BAR is the actual IO-APIC, the remaining five bars seem to be
    spurious resources, so we forcibly insert the first one into the resource
    tree and clear all the others.

commit 79468292661ac5df1bdfe69d42d6e93d192ce55a
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:03:10 2004 -0800

    [PATCH] Make insert_resource work for alder IOAPIC resources
    
    From: James Bottomley <James.Bottomley@SteelEye.com>
    
    This is a necessary precursor patch for getting the Intel Alder motherboard
    working (it has a PCI device corresponding to the IO-APIC which has to be
    forcibly inserted into the machine's reserved memory region).
    
    Eric Biederman was going to come up with a more comprehensive fix, but in
    the meantime, this is the minimum necessary to get insert_resource to work
    when the covering region is larger than the resource being inserted.

commit 9257eb538f4c7907f49d25bb43b90107ffa1f8ab
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:03:00 2004 -0800

    [PATCH] Report NGROUPS_MAX via a sysctl (read-only)
    
    From: Tim Hockin <thockin@sun.com>
    
    Attached is a simple patch to expose NGROUPS_MAX via sysctl.  Nothing
    fancy, just a read-only variable.  glibc can use this to sysconf() the
    value properly, so apps will stop relying on NGROUPS_MAX as a real
    constant.

commit cd4b938087edbbca68c669419fb2a315409d3160
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:02:48 2004 -0800

    [PATCH] Fix make xconfig on /lib64 systems
    
    From: Andi Kleen <ak@suse.de>,
         R. J. Wysocki
    
    Without this make xconfig doesn't find the Qt library on systems using
    /lib64 (like x86-64)

commit 72c3b49dcbd800eb54e60ad34d0a9db5f3de9395
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 04:02:38 2004 -0800

    [PATCH] ppc64: archhelp fix
    
    From: Jeremy Kerr <jk@ozlabs.org>
    
    This patch is missing a single quote; here's a fix.

commit a9eceedcd2a0bbad27e0f050c5d9041269e6d984
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Feb 24 03:58:56 2004 -0800

    [PATCH] Clean up IRQ mapping code
    
    On the larger ppc64 machines we remap the interrupt numbers used by
    the hardware/firmware to virtual IRQ numbers < NR_IRQS.  Up until now
    we have used an array for the "real" (hardware) -> virtual IRQ number
    mapping, but with new machines coming out that will have 24-bit
    hardware IRQ numbers, this will break.  However, in fact it is only
    the XICS interrupt controller which cares about this mapping.  This
    patch moves that side of the mapping (real -> virtual) into the XICS
    code and makes it use a radix tree.
    
    On iSeries we have a similar issue, where the "real" IRQ numbers that
    we need are in fact an encoding of the bus/device/function address of
    the device.  This patch fixes iSeries to use the virt->real IRQ
    mapping, allowing us to support larger iSeries machines.  This patch
    also gets rid of the temporary hack that Stephen Rothwell submitted.
    
    On machines with OpenPIC (including the G5) the mapping is explicitly
    1-1, and that hasn't changed.  For other machines this patch cleans up
    and simplifies the code that sets up the virtual->real mapping.
    
    I have tested this code and verified that G5, pSeries and iSeries boot
    and run correctly with this patch.

commit fe72a253c695d75146be945c8ac537afcbc185e4
Merge: 200c77f... 538e88d...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Feb 24 03:57:05 2004 -0800

    Merge bk://gkernel.bkbits.net/misc-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 538e88d130f1503b279b3c2d95538a8035ee519d
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Feb 24 11:18:44 2004 -0500

    Improvements to the bk-make-sum BitKeeper summary/submission script:
    * use bk:// url to reduce confusion
    * remove "Linus, " from introductory output text
    * don't diffstat each individual cset; do the entire patch all in
      one go.  Makes the script a -lot- faster when summarizing
      a large number of changesets.

commit 200c77fdd6fa296c686d7420c2ea871e6491e76c
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Feb 24 03:56:41 2004 -0800

    [PATCH] default 8139too to PIO
    
    Some machines still appear to lock up under MMIO mode, so default to PIO.

commit a5ec2014b102643e5a330c6624bd9dcee0316ce1
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Feb 24 10:31:01 2004 -0500

    Delete tms380tr firmware, no longer needed
    now that driver uses request_firmware()

commit f3ba094245294856ba561ac1ccd0abfa19ed9fc0
Author: Jochen Friedrich <jochen@scram.de>
Date:   Tue Feb 24 10:29:54 2004 -0500

    [PATCH] tms380tr patch 3/3 (get firmware out of kernel)
    
    Hi Jeff,
    
    the last one makes tms380tr use the kernel firmware loader instead of
    linking some propriatary code into the kernel, probably violating the
    GPL.
    
    drivers/net/tokenring/tms380tr_microcode.h can go after this patch has
    been applied.
    
    --jochen
    
     tms380tr.c |   34 ++++++++++++++++++++++++++++++----
     1 files changed, 30 insertions(+), 4 deletions(-)

commit e9b1f1cc016540c41bc40557c47d5fb02d512275
Author: Jochen Friedrich <jochen@scram.de>
Date:   Tue Feb 24 10:29:47 2004 -0500

    [PATCH] tms380tr patch 2/3 (queue fix)
    
    Hi Jeff,
    
    this one removes the internal queue of tms380tr. It was racy, anyways.
    
    --jochen
    
     tms380tr.c |  178 +++++++++++++++++++++++--------------------------------------
     tms380tr.h |    4 -
     2 files changed, 70 insertions(+), 112 deletions(-)

commit c44253ad6ea989f204446eb5ce7c3a425cb07512
Author: Jochen Friedrich <jochen@scram.de>
Date:   Tue Feb 24 10:29:39 2004 -0500

    [PATCH] tms380tr patch 1/3 (bug fix)
    
    Hi Jeff,
    
    this fixes some problems partly introduced in the latest token ring
    update:
    - mix of alloc_trdev(0) and alloc_trdev(sizeof(struct net_local)) confused
      memory management.
    - initialization of proteon and sknet cards was broken.
    - proteon_close() and skisa_close() deleted.
    
    --jochen
    
     abyss.c    |    2 -
     madgemc.c  |    2 -
     proteon.c  |   91 ++++++++++++++++++++++++-------------------------------
     skisa.c    |  100 +++++++++++++++++++++++++------------------------------------
     tms380tr.c |   41 +++++++++----------------
     tmspci.c   |    2 -
     6 files changed, 100 insertions(+), 138 deletions(-)

commit 2d8f0320eada96babe043ce7c5ea56b8a4880699
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Tue Feb 24 10:17:51 2004 -0500

    [PATCH] vlsi_ir leak, allocation and freeing fixes
    
    	* switched to sane allocation
    	* fixes race on removal - we unregistered too late
    	* contrary to the comment, device had no destructor, so removal
    had leaked - unregister_netdev() doesn't trigger freeing in that driver.
    	* fixes freeing (kfree -> free_netdev)
    
    Otherwise the same story as with previous patch - irda-related part of NE*
    that got lost.

commit fe89aafdf73ecae31c8195876dcaf27895a424f9
Merge: 5ef7ab1... a49286e...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Feb 24 10:12:13 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/janitor
    into redhat.com:/spare/repo/net-drivers-2.5

commit 5ef7ab1cbd9d0ac4bd17827519dd07e37af1bcd2
Merge: 9e6b8ac... 62d9097...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Feb 24 10:09:09 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/pcnet32
    into redhat.com:/spare/repo/net-drivers-2.5

commit 9e6b8ac3620271b389b12917f437c2416c0cb85f
Merge: e249c44... 8538bf4...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Feb 24 10:07:00 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/misc
    into redhat.com:/spare/repo/net-drivers-2.5

commit 8538bf48d4e1d7415bcfd5bd94ef4f277132e7ea
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Tue Feb 24 10:01:14 2004 -0500

    [PATCH] au1k leaks, allocation and free_netdev() fixes
    
    	* fixes leaks on failed init
    	* switches to sane allocation
    	* fixes netdev freeing (kfree -> free_netdev)
    	* fixes the idiocy with ->init() (from registger_netdev()) calling
    unregister_netdevice() in case of failure - before we got anywhere past
    the very beginning of register_netdev().
    
    That's a part of NE* series that failed through the cracks (there were
    pending irda patches, so that had been postponed, irda patches either
    hadn't materialized in two months or hadn't touched that driver at all,
    the latter being more likely).
    
    Please, apply.

commit b105e2cf50d7ca44d247969f17818b9dacbea946
Author: Stefan Rompf <srompf@isg.de>
Date:   Tue Feb 24 10:01:07 2004 -0500

    [PATCH] netif_carrier_on()/off() for xircom_tulip_cb

commit b735a725e15b7610f945d0e4a45dd9c92b376951
Author: Stefan Rompf <srompf@isg.de>
Date:   Tue Feb 24 10:00:59 2004 -0500

    [PATCH] Re: Patch: netif_carrier_on()/off() for xircom_tulip_cb
    
    --Boundary-00=_EQjNA7alc3Y2zQJ
    Content-Type: text/plain;
      charset="iso-8859-1"
    Content-Transfer-Encoding: 7bit
    Content-Disposition: inline
    
    Hi,
    
    > Please resend patches that may be applied with "patch -p1",
    > not "patch -p0".
    
    ok., here's the first, suspend/resume
    
    --Boundary-00=_EQjNA7alc3Y2zQJ
    Content-Type: text/x-diff;
      charset="iso-8859-1";
      name="xircom_tulip_cb_pm.diff"
    Content-Transfer-Encoding: 7bit
    Content-Disposition: attachment;
    	filename="xircom_tulip_cb_pm.diff"

commit b72b407af87903deb576c4a861e3aad4b1cf3bcd
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 10:00:52 2004 -0500

    [PATCH] m68k: Amiga Hydra Ethernet new driver model
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Hydra Ethernet: Convert to the new driver model

commit 1c21cb915d8c4dd9adc3bc5f56c0d80a8e9770c2
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 10:00:44 2004 -0500

    [PATCH] m68k: Amiga Ariadne Ethernet new driver model
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Ariadne Ethernet: Convert to the new driver model

commit fc638fe289c248586c0db0f3236625016eb1b7a4
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 10:00:37 2004 -0500

    [PATCH] m68k: Amiga A2065 Ethernet new driver model
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    A2065 Ethernet: Convert to the new driver model

commit dd6143d322fb77204db97be8723f938fabe9f788
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 10:00:30 2004 -0500

    [PATCH] m68k: Atari Pamsnet warning
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Atari Pamsnet Ethernet: Kill warning

commit e201e7b07ce3a9b6af4e197315df0ffe69074d87
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 24 10:00:23 2004 -0500

    [PATCH] m68k: Sun-3 LANCE Ethernet
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    sun3lance updates from Sam Creasey:
      - Pass the correct flags to request_irq()
      - Add debug code for transmitting packets

commit 391c56957f2cabf05a63fc4efa2f4f9d88da938b
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Feb 24 10:00:15 2004 -0500

    [PATCH] Allow pcnet_cs to work with shared irq
    
    Here is a rediff'd version of the patch to fix shared irq handling in pcnet_cs
    and generic 8390 drivers.

commit b1072d0b5d50b6a72daa4d1df981290516330de6
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Feb 24 10:00:08 2004 -0500

    [PATCH] Re: IA32 (2.6.3 - 2004-02-18.22.30) - 4 New warnings (gcc 3.2.2)
    
    Error path (EISA) probe was using device before set.
    
    # This is a BitKeeper generated patch for the following project:
    # Project Name: Linux kernel tree
    # This patch format is intended for GNU patch command version 2.5 or higher.
    # This patch includes the following deltas:
    #	           ChangeSet	1.1567  -> 1.1568
    #	  drivers/net/dgrs.c	1.23    -> 1.24
    #
    # The following is the BitKeeper ChangeSet Log
    # --------------------------------------------
    # 04/02/19	shemminger@osdl.org	1.1568
    # fix bug in eisa error path.
    # --------------------------------------------
    #

commit 954a16dbc2437de35921604ca00e3d5a40c23538
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Tue Feb 24 09:50:10 2004 -0500

    [netdrvr e100] Response to Jeff's review plus some minor fixes.
    
    * define dump stats complete constant
    * add mwb() to keep order straight with HW when appending
      new resources to Rx and Tx queues
    * increment stats for rx_dropped and rx_over_errors

commit ce079934e3cf3866cd065373a1d4453147e96af5
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Tue Feb 24 09:44:36 2004 -0500

    [PATCH] e1000: handle register_netdev failure
    
    * driver not handling failures of register_netdev
      [Stephen Hemminger (shemminger@osdl.org)]

commit ad66e510094415cf80ed5c44667c726016e97e18
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Tue Feb 24 09:44:00 2004 -0500

    [PATCH] e1000: collision retry count too high
    
    * For half duplex, the IEEE says collision retry count should
      be 15 not 16.  Would cause really slow transfers on some hubs
      (i.e NetGear DS108).

commit 144300d034b11a0f8b7f19e92ac3faa81acfd2f0
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Tue Feb 24 09:43:32 2004 -0500

    [PATCH] e1000: delay may be too small
    
    * msec_delay macro wouldn't delay at all if x < 10, and
      wouldn't delay enough for x = 10.  Not a concern for
      2.6 (HZ=1000) but is for 2.4 (HZ=100).

commit 31efdae060fb272b9ba979614fec09c2a97a0b33
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Tue Feb 24 09:43:09 2004 -0500

    [PATCH] e1000: disable CSA fix for 82547
    
    * Multiple reports of system lock-ups with the CSA patch, so
      let's disable fix for now until we can understand why this
      is causing the hangs.  It was first thought that only pre-
      productions systems would hang, but that's not true.

commit e998ff1a1f085a027f4a0234ef2c95d7d6916613
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Tue Feb 24 09:42:49 2004 -0500

    [PATCH] e1000: disable TSO for now
    
    * Disable TSO as default setting until some hangs/resets caused
      with TSO enabled are root-caused.  TSO can still be manually
      enabled using ethtool -K.

commit 17449078d3d2c83015ef244ced75fa7787394a02
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Tue Feb 24 09:42:35 2004 -0500

    [PATCH] e1000: flow control
    
    * Bug fix: flow control high/low watermark settings not
      within Rx FIFO range: math error.

commit b948add37adf7c14a236fb5cfe69ca9e3bff9587
Author: Mike Phillips <phillim2@comcast.net>
Date:   Tue Feb 24 09:42:27 2004 -0500

    [PATCH] 3c359_microcode.h clean up - 2.6.3
    
    Small patch to clean up 3c359_micrcode.h, no other drivers in the kernel
    come anywhere near the file and the #if is superflous.
    
    Mike Phillips

commit 62d9097699ec6d4b14b03599741344aa0bc5a8f2
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Tue Feb 24 09:29:26 2004 -0500

    [PATCH] pcnet32.c fix compile error
    
    Arrgh.  I sent the wrong diff file.  This one fixes the compile error I
    introduced ;-(

commit d0ff82446333a1a06b1250f0b4dcd7337e4432bf
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Tue Feb 24 09:29:19 2004 -0500

    [PATCH] whitespace only change to pcnet32.c
    
    Last change for a while.  This modifies the whitespace only.
    consistent indentation, deletes trailing tabs, trailing spaces, etc.

commit 46c46cca497db3fc135f741e80c201ba6fb7e43e
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Tue Feb 24 09:29:12 2004 -0500

    [PATCH] pcnet32.c adds loopback test
    
    This adds the ability to do a local loopback test for the adapter.  This
    source was submitted by James Lewis <jklewis@us.ibm.com>.  Tested on PPC
    and IA32 systems.

commit f3f582fdf1f737d7e190a793937253cfa243a28c
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Tue Feb 24 09:29:04 2004 -0500

    [PATCH] pcnet32.c add PCI hot remove support
    
    This patch adds support for PCI hot remove.  Tested on PPC64 boxes.
    The driver has also been checked to comply with PCMCIA/cardbus remove
    requirements, but as I don't have a PCMCIA card, it is untested.
    If a PCMCIA card is removed, reads will return FFFF.  The FFFF will
    cause all while loops to exit.

commit 99ef022020841ccf277256e8b6f7ffed88ccca5c
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Tue Feb 24 09:28:57 2004 -0500

    [PATCH] pcnet32.c non-mii errors with ethtool
    
    pcnet32 devices which do not contain an mii respond incorrectly to
    ethtool commands.
    
    Reported by VANDROVE@vc.cvut.cz and Thomas Munck Steenholdt.

commit 6a6602c023d3a934164fd6539c2a35f23928e5e7
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Tue Feb 24 09:28:50 2004 -0500

    [PATCH] pcnet32.c handle failures in open
    
    If there are errors in the open routine, the driver does not correctly clean
    up and free resources.
    
    This also removes an unnecessary netif_wake_queue, correctly supports the
    debug parameter, and updates the version and date.

commit 30a43fcd1fc16d8764000109b4c1ef4ea197b0b3
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Tue Feb 24 09:28:42 2004 -0500

    [PATCH] 2.6.3 pcnet32.c change to use ethtool_ops
    
    This changes the driver to use ethtool_ops to be more modular.  There is a
    net delta of just a one line between the two implementations, but permission
    checking and copying to/from user space, etc. is all done in a consistent
    manner by ethtool.c

commit 63418afd1d290801869ab2016632212028aeaf16
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Tue Feb 24 09:28:35 2004 -0500

    [PATCH] 2.6.3 pcnet32.c convert to use netif_msg_*
    
    This patch converts the driver to use netif_msg_* for printing messages.
    Tested IA32.

commit 4fb7103dd06e54a25b6bc6324015f78ea9892522
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Tue Feb 24 09:28:26 2004 -0500

    [PATCH] 2.6.3 pcnet32.c wrong vendor ID fix
    
    This patch was originally sent by Jon Mason on Sat Jan 31.
    
    "I created a patch that allows pcnet32 adapters sold in IBM RS/6000 systems
    to be recognized in non-ppc computers.  The problem is that the Vendor ID
    of this adapter is incorrect.  There is a ppc specific workaround to get
    it working on that architecture (checkout
    http://lxr.linux.no/source/arch/ppc/kernel/pci.c?a=ppc#L87
    for the workaround), but it obviously won't fix the problem in non-ppc
    architectures."

commit c639e614a387cf1b65c87b67e89b28d33ab73b1f
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Feb 24 03:38:03 2004 -0500

    Add Documentation/networking/netif-msg.txt, describing the
    per-network-interface message logging standards for net drivers.
    
    Written by Donald Becker.

commit a49286ee9e1e7cf6f0453a4798c1984634c15e15
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Tue Feb 24 03:27:37 2004 -0500

    [PATCH] strip: use kernel min/max
    
    Domen Puncer schrieb:
    >
    > Just some suggestions...
    >
    >> #define ELEMENTS_OF(X) (sizeof(X) / sizeof((X)[0]))
    >
    > Remove this define and s/ELEMENTS_OF/ARRAY_SIZE/g
    >
    
    There are more occurances of redundant ARRAY_SIZEs in the kernel. I will
    keep that in mind!
    
    >
    >
    >>@@ -847,7 +845,7 @@
    >> static int allocate_buffers(struct strip *strip_info, int mtu)
    >> {
    >>        struct net_device *dev = strip_info->dev;
    >>-       int sx_size = MAX(STRIP_ENCAP_SIZE(MAX_RECV_MTU), 4096);
    >>+       int sx_size = max((int)STRIP_ENCAP_SIZE(MAX_RECV_MTU), 4096);
    >
    >
    > max_t?
    
    Changed that to max_t and min_t. A newbie queston: What should when be
    preferred and why?

commit 68b9ef718acf03217b2e5918916a9843015cba70
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Tue Feb 24 03:27:30 2004 -0500

    [PATCH] strip: remove warnings when !PROC_FS
    
    When !CONFIG_PROC_FS, I'm getting this warning:
    
    drivers/net/wireless/strip.c:1169: warning: `strip_seq_fops' defined but not used

commit 40e5c8acd9968b9d19b0ab20c66397223c6f0c58
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Tue Feb 24 03:27:22 2004 -0500

    [PATCH] ibmtr: use kernel min/max

commit 50c1416c77e3bdd05cf1c55ac7d646fe2d8d3f5d
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Tue Feb 24 03:27:15 2004 -0500

    [PATCH] ne: eliminate unused var. warning

commit e249c44bfbc9184d116e1ac6430822fb8d42faed
Merge: f675e43... 7886396...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Feb 24 00:20:39 2004 -0800

    Merge bk://linux-dj.bkbits.net/cpufreq
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 08c7694de859c164ec9ebc6598ccda4955d6580a
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Feb 23 22:04:40 2004 -0800

    PCI Hotplug: clean up the Makefile a bit more.
    
    Still need to fix up the pcie and shpc options to be saner for distros to use.

commit 0c86cc979b5421720bc244ccffcf07c6d1e5882d
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Feb 23 22:02:08 2004 -0800

    PCI Hotplug: remove unneeded ACPI Makefile rules.

commit 7f2ca98511da39498e253ca2b08c927fe654a79c
Author: Robert Picco <robert.picco@hp.com>
Date:   Mon Feb 23 21:48:30 2004 -0800

    [PATCH] ia64: add support for NUMA machines with CPU-only (memory-less) nodes
    
    This patch works around a limitation in the current NUMA code, which
    doesn't support CPU-only (memory-less) nodes.  With this patch
    CPU-only nodes are moved to a node with memory which is at the closest
    relative distance per the SLIT information.  Any node reassignments
    will result in the compression of the nodes and renumbering the nid
    values where appropriate.

commit f675e439ba494d62eb64e3752a778fc1f0e00507
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Mon Feb 23 21:30:10 2004 -0800

    [PATCH] typo fix in intermezzo patch
    
    	Sigh...  Build/fix bugs/rediff/send the old diff story...
    Sorry - just have noticed that ;-/

commit 304f3d56d4219a7205852046fc33e3fe22770731
Author: Matthew Wilcox <willy@debian.org>
Date:   Mon Feb 23 21:27:23 2004 -0800

    [PATCH] ia64: Add "install" make target
    
    i386 has a 'make install' target that I find rather useful.  This
    patch introduces it to ia64 too.
    
    Once http://bugs.debian.org/234557 is accepted, it'll work in Debian.
    Until then, you may wish to add your own ~/bin/installkernel or
    chmod a-x /sbin/installkernel.

commit 03d6c5b2945f8f06dfddcd8ef3c67361a499325c
Author: Andreas Gruenbacher <agruen@suse.de>
Date:   Mon Feb 23 20:29:27 2004 -0800

    [PATCH] CONFIG_REGPARM breaks non-asmlinkage syscalls
    
    With CONFIG_REGPARM=y, syscalls must be declared asmlinkage or else
    calling them will fail.
    
    This fix adds a few missing declarations for sys_fadvise64_64() and
    sys_remap_file_pages().

commit 15680951df03078a16edc9cec55310a5f526398c
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Feb 23 20:26:03 2004 -0800

    [PATCH] fix SCSI non-sector bio backed IO
    
    This fixes the SCSI layer to handle non-sector-aligned requests from
    SG_IO (and potentially anything else producing these requests) that
    could stall the machine and cause all sorts of funnies depending on the
    low level driver used.

commit 8dfb4dc9f89a8dc3ddb662251f77df524c2d85be
Author: James Bottomley <james.bottomley@steeleye.com>
Date:   Mon Feb 23 20:25:53 2004 -0800

    [PATCH] Undo SCSI 8-byte alignment relaxation
    
    This makes the default alignment requirements be 512 bytes for SCSI,
    the way it used to be.
    
    Jens will fix the SCSI layer problems, but low-level drivers might have
    other restrictions on alignment.

commit 4cbb1255244a2ff174b5b2e558ee9c746f1bac6e
Author: Dely Sy <dlsy@snoqualmie.dp.intel.com>
Date:   Mon Feb 23 19:08:29 2004 -0800

    [PATCH] PCI Hotplug: Patch to get polling mode in SHPC hot-plug driver properly working
    
    Here is the patch to get polling mode in SHPC hot-plug properly
    working.

commit 16f2dd0097091346a194b5a76f13a7297cacd0a7
Author: Linda Xie <lxiep@ltcfwd.linux.ibm.com>
Date:   Mon Feb 23 19:08:13 2004 -0800

    [PATCH] PCI Hotplug: fix rpaphp bugs
    
    The attached patch has a fix for the conflict between  fakephp and
    rpaphp so that fakephp and rpaphp can't be built into the kernel at the
    same time and a couple of  problems I missed in my previous patch.
    (Sorry about that).

commit 15417166888117cc5b2f3f1bdc4af3205c9d4d37
Author: Russell King <rmk-pci@arm.linux.org.uk>
Date:   Mon Feb 23 19:07:59 2004 -0800

    [PATCH] PCI: Introduce bus->bridge_ctl member
    
    GregKH mentioned confirmed that people have been waiting for this patch.
    Appologies, it had completely evaporated from my mind.
    
    This patch introduces the "bridge_ctl" member of pci_bus, which allows
    architectures to tweak the bridge control register (eg, for setting
    fast back to back modes etc) in pcibios_fixup_bus().
    
    Please note, though, that the value is only written back if
    pci_setup_bridge() is called.  This will be called if an architecture
    is using the generic PCI bus setup functionality in setup-bus.c.
    If an architecture doesn't, then it is the responsibility of the
    architecture to write this value to the bridge as appropriate.
    
    (That said, the bridge control register is only ever changed if an
    architecture is using setup-bus.c anyway, so there should be no
    overall functional change.)

commit 90eb0a11c9e1980ab478b334e4a1655977603e88
Author: Russell King <rmk-pci@arm.linux.org.uk>
Date:   Mon Feb 23 19:07:43 2004 -0800

    [PATCH] PCI: Don't report pci_request_regions() failure twice
    
    pci_request_regions() reports an error when pci_request_region() fails.
    However, since pci_request_region() already reports an error on failure,
    pci_request_regions() has some unwanted duplication.

commit 1f81ab782a51964cf1a21488195b53c68b4fddbb
Author: Russell King <rmk-pci@arm.linux.org.uk>
Date:   Mon Feb 23 19:07:29 2004 -0800

    [PATCH] PCI: Report meaningful error for failed resource allocation
    
    pci_assign_resource reports odd messages when resource allocation fails.
    This is because res->end and res->start are modified by allocate_resource.
    For example:
    
    PCI: Failed to allocate resource 1(0-ffffffff) for 0000:00:01.0
    
    The following patch reports whether it's an IO or memory resource, and
    includes the correct size.  For consistency, we report it in a similar
    way to the failure message in pci_request_region(), even though
    res->start is unlikely to be useful.

commit 04dd677150c468d10fad90f615cafdff66932527
Author: James Bottomley <james.bottomley@steeleye.com>
Date:   Mon Feb 23 17:53:03 2004 -0800

    [PATCH] fix IRQBALANCE Kconfig dependencies
    
    CONFIG_IRQBALANCE only affects arch/i386/kernel/io_apic.c, so you should
    only see it as an option if you actually have one of those.  This patch
    makes IRQBALANCE depend on X86_IO_APIC.

commit 223679d42f9727d14368822701244ae5cbc0f800
Merge: cda4702... 5e64a7e...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Feb 23 17:35:01 2004 -0800

    Merge bk://linux-scsi.bkbits.net/scsi-for-linus-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit cda470277bae199d84c836035f9b24f701196e4a
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Mon Feb 23 16:09:51 2004 -0800

    [PATCH] intermezzo ->permission() idiocy
    
    	... yes, Virginia, some perverts *do* tweak widely shared
    method tables and do that in very sensitive spots, at that...

commit d121801565a3604ce2e82d6f8150a5de287b9272
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Feb 23 16:03:49 2004 -0800

    [PATCH] ppc64 oops on /proc/cpuinfo
    
    This fixes the ppc64 /proc/cpuinfo oops introduced with the lmb
    cleanups.
    
    We are trying to slowly phase out the LMB stuff (it mostly duplicates
    functionality of bootmem...), this part got overlooked.

commit 023a78390690d4998e1e430da6e467a03bb8925a
Merge: be75813... 21435ae...
Author: Len Brown <len.brown@intel.com>
Date:   Mon Feb 23 10:21:42 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit 87384119190c78d74c5e1256fffa3e5604f515b9
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Mon Feb 23 05:57:00 2004 -0800

    [SPARC32]: Small SMP build fixes

commit e07f4d38daa4512b297d0e8a945837f33b29489c
Merge: 3ba735a... 95f6d0f...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Feb 23 05:42:38 2004 -0800

    Merge bk://bk.linux1394.org/ieee1394-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 3ba735a11f2efc93bf205b7cd2a521e211ba3260
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 23 13:54:17 2004 -0500

    IEEE1394(r1161): Major cleanup and addition of a ud-class, to make things even cleaner.

commit 3c504d62bde7dcf1d3d182ac94912588f0a15a86
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 23 09:41:21 2004 -0500

    ohci1394(r1160): Disable cross_bound() check, and add code to try to enable connected ports.

commit 161375cd018c7e695da06f711dcc54f0f70fb98d
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 23 09:30:53 2004 -0500

    IEEE1394(r1159): Merge run_packet_complete into kernel thread.

commit a0eb890e5f2f323617140f8ea8571893e884ea72
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 23 09:10:20 2004 -0500

    SBP2(r1158): We don't need a remove_host callback in sbp2.

commit 1a85b4b1aef384ea04ff26e55e01cff84eccca9c
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 23 08:34:39 2004 -0500

    IEEE1394(r1157): Create a kernel thread to handle all run_packet_complete() calls.

commit 95f6d0ffe43dd8f5c93f75889fd51ca7fb5fd1a1
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:50:28 2004 -0800

    [PATCH] ppc64: fix cmd_line bugs
    
    From: Anton Blanchard <anton@samba.org>
    
    There were a number of bugs in our cmd_line handling:
    
    - We were looking at cmd_line after it had been tokenised. Use saved_command
      line instead
    - Use strlcpy instead of memcpy/explicit NULL set.
    - Remove magic numbers in iseries cmd_line parsing

commit 924d42af79f2d61dca551429b3c09dd5179f355d
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 23 07:49:16 2004 -0500

    eth1394(r1156): Fix oddities when MacOSX is IRM. Also MacOSX sets an invalid sspd in the ARP reply.

commit f3f622562830148c862bf5d7da4537f9ee5291ab
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:46:17 2004 -0800

    [PATCH] ppc64: uniprocessor compile fixes
    
    From: Anton Blanchard <anton@samba.org>
    
    UP compile fixes.

commit 52b5a7dd16f2dc5c5459f650756e0d583e34d3db
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:46:07 2004 -0800

    [PATCH] ppc64: restore cpu names
    
    From: Anton Blanchard <anton@samba.org>
    
    Restore the old cpu names in /proc/cpuinfo, some applications parse this
    field.

commit e97a7991116b04cdca6358996ccf4b65c81b91c0
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:45:56 2004 -0800

    [PATCH] trivial oops formatting cleanups
    
    From: Anton Blanchard <anton@samba.org>
    
    Some trivial oops cleanups.

commit a04a893582507eecb9e14e3b6eee351ea1134fa1
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:45:46 2004 -0800

    [PATCH] fix for NUMA kernel on non NUMA machine
    
    From: Anton Blanchard <anton@samba.org>
    
    Set node 0 online, otherwise the recent cpu/memory topology stuff will oops
    on a non NUMA machine.

commit 87ca4494000cd524f697db7db6d4b1298aff7970
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:45:35 2004 -0800

    [PATCH] ppc64: set err to -ENODEV when a new node doesn't have "interrupt" property.
    
    From: Linda Xie <lxiep@us.ibm.com>
    
    set err to -ENODEV when a new node doesn't have "interrupt" property.

commit fb9d432596b266680cbc66d164abb425b7d1c2b3
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:45:25 2004 -0800

    [PATCH] ppc64: Fix __get_SP()
    
    From: Anton Blanchard <anton@samba.org>
    
    __get_SP used to be a function call which meant we allocated a stack
    frame before calling it. This meant the SP it returned was one frame
    below the current function. Lets call that bogusSP (and the real one
    SP).
    
    The new dump_stack was being tail call optimised so it remained one
    frame above bogusSP. dump_stack would then store below SP (as the ABI
    allows us to) and would stomp over the back link that bogusSP pointed
    to (__get_SP had set the back link up so it worked sometimes, just not
    all the time).
    
    Fix this by just making __get_SP an inline that returns the current SP.

commit ebcfac4e673c20030d9703d329f845942327b0b8
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:45:14 2004 -0800

    [PATCH] ppc64: don't link some non iSeries stuff
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    I think Ben introduced this new file and iSeries doesn't need it.

commit 761c2f3c90fd54b9f8519fa75f00e7d6bbeee3d1
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:45:03 2004 -0800

    [PATCH] ppc64: PER_CPU irq optimisations
    
    From: Anton Blanchard <anton@samba.org>
    
    Another decent optimisation found in the ia64 port, dont take the irq
    descriptor lock or do the note_interrupt stuff on PER_CPU irqs (ie IPIs).

commit 7ef1c5d191745b6758362c57a41646f328956561
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:44:53 2004 -0800

    [PATCH] ppc64: Clean up per cpu usage in segment table code.
    
    From: Anton Blanchard <anton@samba.org>
    
    Clean up per cpu usage in segment table code.

commit 0aec981439ff603bbfe48b88faa6ead73bda3171
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:44:42 2004 -0800

    [PATCH] ppc64: Make a number of segment table functions static.
    
    From: Anton Blanchard <anton@samba.org>
    
    Make a number of segment table functions static.
    Clean up one duplicated slbia.

commit e2caa6409af9bcdbd8338c3d15e6efe81542efb2
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:44:31 2004 -0800

    [PATCH] Add cpus and NUMA memory nodes to sysfs. Also add cpu physical id.
    
    From: Anton Blanchard <anton@samba.org>
    
    Add cpus and NUMA memory nodes to sysfs. Also add cpu physical id.

commit 1097a979feb7555322f96c6f95801c3686de84a8
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:44:21 2004 -0800

    [PATCH] ppc64: remove get_users in backtrace code
    
    From: Anton Blanchard <anton@samba.org>
    
    The might_sleep infrastructure doesnt like our get_users in the backtrace
    code, we often end up with might_sleep warnings inside might_sleep warnings.
    
    Instead just be careful about pointers before dereferencing them.
    
    Also remove the hack where we only printed the bottom 32bits of the WCHAN
    value.

commit e90f6a296718d888e940118b04de9a24d291242b
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:44:10 2004 -0800

    [PATCH] ppc64: Add stack overflow debugging
    
    From: Anton Blanchard <anton@samba.org>
    
    This adds stack overflow debugging much like x86. Its pretty agressive
    and checks if > 8kB out of 16kB of stack is used.

commit 7f26b5672e2ad4a5aea6b47022f98bfa69304a4c
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:44:00 2004 -0800

    [PATCH] ppc64: This cleans up the rtasd logic, and also makes it hotplug CPU safe.
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    This cleans up the rtasd logic, and also makes it hotplug CPU safe.

commit dc26ea3cab415e27e55f3f90a6294341a07116b4
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:43:49 2004 -0800

    [PATCH] ppc64: remove useless smp_message_pass args
    
    From: Anton Blanchard <anton@samba.org>
    
    smp_message_pass has a few args that are never used. Remove em.
    Also add memory missing memory barrier in smp_call_function_interrupt.

commit 576a9e87b479b1f58a06c701b254df905f56f7b0
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:43:38 2004 -0800

    [PATCH] ppc64 cpu spinup fixes
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    1) Check for cpuids >= NR_CPUS in prom_hold_cpus: we previously
       overflowed arrays when this happened, and checking it here ensures
       that it doesn't happen elsewhere.  Still move processors to
       secondary_hold (out of OF), but we won't release them.
    
    2) smp_iSeries_message_pass and smp_xics_message_pass don't need to
       iterate if given a specific CPU: cleanup and fix.
    
    3) kick_cpu variants don't need to check cpu range (caller is screwed
       anyway if this happened): replaced with BUG_ON for now.
    
    4) smp_openpic_probe and smp_xics_probe can use cpus_weight(): it's
       faster and simpler.
    
    5) User for_each_cpu/for_each_online_cpu as appropriate.

commit fbd7abeba85576ad14d1ea76c7eb46b55c85494e
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:43:29 2004 -0800

    [PATCH] ppc64: fix warning and compile error without CONFIG_SMP
    
    From: Hollis Blanchard <hollisb@us.ibm.com>
    
    fix warning and compile error without CONFIG_SMP

commit 41b592ca582beef38a05367ca8f03ef4aa77eaab
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:43:19 2004 -0800

    [PATCH] fix naming collision with asm-ppc64/vio.h
    
    From: Dave Boutcher <sleddog@us.ibm.com>
    
    fix naming collision with asm-ppc64/vio.h. The define would be set there and
    this file would not get pulled in.

commit 153c36fc6c0a19580604a85343d675bf4e0e9439
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:43:07 2004 -0800

    [PATCH] ppc64: Fix for valid nvram rtas tokens.
    
    From: Olaf Hering <olh@suse.de>
    
    Fix for valid nvram rtas tokens.

commit 9f53902c6b202c774fb3c8c33f137b120520a875
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:42:57 2004 -0800

    [PATCH] Add 970FX entry into the cputable.
    
    From: Jake Moilanen <moilanen@austin.ibm.com>
    
    Add 970FX entry into the cputable.

commit f557670560eb5df151a0b69fa9aa0a225b2a32b4
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:42:46 2004 -0800

    [PATCH] ppc64: Add -funit-at-a-time
    
    From: Anton Blanchard <anton@samba.org>
    
    Be like x86 and enable -funit-at-a-time.
    Use the check_gcc hook when enabling -mcpu=power4/-mtune=power4.

commit dd6af5b80424cb6a2414bed3f4cbdbcc30be7e58
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:42:36 2004 -0800

    [PATCH] ppc64: Add DEBUG_STACK_USAGE
    
    From: Anton Blanchard <anton@samba.org>
    
    Add DEBUG_STACK_USAGE to ppc64

commit f800efd5aee26167efbd8539a9ef5f00fae88c84
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:42:24 2004 -0800

    [PATCH] ppc64: print useful flags in oops, like x86
    
    From: Anton Blanchard <anton@samba.org
    
    print useful flags in oops, like x86

commit c03158bf7fe0fde31004a4e72e08176032d2db55
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:42:14 2004 -0800

    [PATCH] ppc64: Add a ppc64 archhelp.
    
    From: Jeremy Kerr <jk@ozlabs.org>
    
    Add a ppc64 archhelp.

commit 1f97703cc61047b49233a3d1dd8a21b917b86f42
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:42:01 2004 -0800

    [PATCH] Allow CROSS32_COMPILE to be set via environment variable
    
    From: Dave Hansen <haveblue@us.ibm.com>
    
    Allow CROSS32_COMPILE to be set via environment variable

commit d0d0ea0d533b925515a56adba2fa61ff250f701d
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:41:50 2004 -0800

    [PATCH] ppc64: add log_rtas_error()
    
    From: Nathan Fontenot <nfont@austin.ibm.com>
    
    Add log_rtas_error(), to be called in the event that a rtas call
    returns a hardware error (-1) so we can log additional information
    about the hardware error.

commit a0ccf69a7a4b9fa7b32093c2604641306e48c176
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:41:41 2004 -0800

    [PATCH] ppc64: add rtas slot-error-detail information
    
    From: Nathan Fontenot <nfont@austin.ibm.com>
    
    Add call to rtas to retrieve slot-error-detail information and
    log this data to nvram in an EEH event.

commit 142e043e8ada895d57cb3e1c08f05b85a42d30bb
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:41:30 2004 -0800

    [PATCH] ppc64: Fix for ppc64 SMT enablement bug provided by Jimi Xenidis and Michael Day
    
    From: Anton Blanchard <anton@samba.org>
    
    Fix for ppc64 SMT enablement bug provided by Jimi Xenidis and Michael Day

commit d61b021aaf981a82249956d692c6711461891e5c
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:41:21 2004 -0800

    [PATCH] ppc64: Remove duplicate pcibios_scan_all_fns definition
    
    From: Anton Blanchard <anton@samba.org>
    
    Remove duplicate pcibios_scan_all_fns definition

commit d479a1373e8ab6bafb9974f0889e02717765a7a9
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:41:10 2004 -0800

    [PATCH] ppc64: Potentially avoid an atomic operation in switch_mm.
    
    From: Anton Blanchard <anton@samba.org>
    
    This appeared in the ia64 port and sounds like a good idea. Potentially
    avoid an atomic operation in switch_mm.

commit d3059cbcf487d004d0efc50fb04a6513f2fe23b3
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:40:59 2004 -0800

    [PATCH] ppc64: cleanup lmb code
    
    From: Anton Blanchard <anton@samba.org>
    
    - remove LMB_MEMORY_AREA, LMB_IO_AREA, we only allocate/reserve memory
      areas now
    - remove lmb_property->type, lmb_region->iosize, lmb_region->lcd_size,
      no longer used
    - bump number of regions to 128, we'll hit this limit sooner or later
      with our big boxes (if we have more than 64 PCI host bridges the
      reserved array will fill up for example)
    - make all the lmb stuff __init
    - no need to explicitly zero struct lmb lmb now we zero the BSS early
    - we had two functions to dump the lmb array, kill one of them
    - move the inline functions into lmb.c, they are only ever called from
      there

commit a930a896c649e0835a86791935522a1eb1b55504
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 23 04:40:48 2004 -0800

    [PATCH] ppc64: remove dump_regs
    
    From: Anton Blanchard <anton@samba.org>
    
    There is a prototype for dump_regs on ppc32 and ppc64 but its never
    defined.  Remove it since it conflicts with something in
    drivers/atm/horizon.c.
    
    Also clean up ppc64 system.h a bit to match the ppc32 version.

commit 7587682ddb6a8b003850194c6bc6e16a34eb4cdd
Author: Matthew Wilcox <willy@debian.org>
Date:   Mon Feb 23 02:06:24 2004 -0800

    [PATCH] ia64: improve gate generation
    
    This patch fixes a couple of things.
     - gate.lds.s is generated in the obj tree, not the src tree.
     - It can be generated by the normal .s.S rule.
     - Adding the extra-y list prevents it from being rebuilt unnecessarily.

commit 5e64a7e9b95ae2c17de4e08a3990ef9efb39f8ea
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Mon Feb 23 03:07:54 2004 -0600

    SCSI: 53c700: reduce default tag depth to 4
    
    This is a nice safe depth for older devices (which
    we've been having trouble with at larger depths). It
    is still adjustable upwards using sysfs if anyone
    really needs a larger queue.

commit be758139ef276edd02ef19f52cc5231fe4b01be9
Author: Andries E. Brouwer <andries.brouwer@cwi.nl>
Date:   Mon Feb 23 00:34:15 2004 -0800

    [PATCH] tty utf8 mode
    
    This sounds like a good moment to come with this patch.
    
    This is essentially a five-year-old patch by Bruno Haible.  It
    introduces utf8 mode, and the effect it has on erasing input characters.
    
    (Side note - without stty support, this is not very useful, but now
    the infrastructure is in place)

commit e5bf46513e13e157bc1b29f2ff36293e5a60ca13
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Mon Feb 23 00:16:36 2004 -0800

    [PATCH] removal of bogus CONFIG_BINFMT_ELF uses
    
    	We never use CONFIG_BINFTM_ELF and CONFIG_BINFMT_ELF_MODULE
    anywhere in the source (they are used in makefiles, obviously).
    32bit-emulation binfmt_elf_... in arch/* still define those guys
    even though it hadn't been needed for years.
    
    	Junk removed.
    
    PS: BTW, CONFIG_BINFMT_ELF32 _is_ used in several places in arch/mips and it
    looks like they really want
    #if defined(CONFIG_BINFMT_ELF32) || defined(CONFIG_BINFMT_ELF32_MODULE)
    in these ifdefs, but that's a separate story...

commit bf862ba530a3182330629571deac76b60509f704
Author: Nathan Scott <nathans@sgi.com>
Date:   Mon Feb 23 00:16:26 2004 -0800

    [PATCH] blkdev_open/bd_claim vs BLKBSZSET
    
    I was modifying mkfs.xfs to use O_EXCL for 2.6, and hit a snag.
    It seems that once I've opened a block dev with O_EXCL I can no
    longer issue the BLKBSZSET ioctl to it.
    
    Making this change, the ioctl succeeds cos the original filp bdev owner
    from open now matches with the owner in the ioctl call.

commit 63bf3000e67c4b108f57bd0aca4ad22710582d6d
Merge: 8db4d06... f3617e9...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Feb 23 00:13:17 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit f3617e92249fbde44670da97371a7e5abf9c561f
Merge: 15af286... 6302eef...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Feb 23 00:11:12 2004 -0800

    Merge bk://kernel.bkbits.net/davem/tg3-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 8db4d06141bb730b901f635df99d015dba278a1c
Merge: b457c5c... 5d12615...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Sun Feb 22 23:31:32 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/sparc-2.6
    into kernel.bkbits.net:/home/davem/sparc-2.6

commit 15af2865df0d5fa8d3376ba4a72342f042f8d686
Merge: 4704aa6... 5d12615...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Sun Feb 22 23:27:11 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/tg3-2.6
    into kernel.bkbits.net:/home/davem/tg3-2.6

commit 6302eefcbdd267c14aaacbcb6168775bd6de2e7f
Merge: 5d12615... 0cf3713...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Sun Feb 22 23:23:57 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit 0cf37130f03f0e8acf1da0d7db03bcfa2072dd98
Author: Luiz Capitulino <lcapitulino@prefeitura.sp.gov.br>
Date:   Sun Feb 22 23:13:37 2004 -0800

    [PPPOE]: Kill unneeded ifdef/endif.

commit 17980dbf0859a0d2e815a8d978190b2193be9310
Author: Luiz Capitulino <lcapitulino@prefeitura.sp.gov.br>
Date:   Sun Feb 22 23:12:40 2004 -0800

    [PPPOE]: Handle disabled PROC_FS properly.

commit 748c75bdd7a577ebf595852b8fe79098a9399b31
Author: Walter Harms <wharms@bfs.de>
Date:   Sun Feb 22 23:11:34 2004 -0800

    [IPV6]: Handle kmem_cache_create() failure in route.c

commit d25a57c71b2c3421af71a8533f78be190a7bb1cf
Author: Walter Harms <wharms@bfs.de>
Date:   Sun Feb 22 23:10:59 2004 -0800

    [IPV6]: Handle kmem_cache_create() failure in ip6_fib.c

commit b74d93d25da40a0d1c040733fad505f41728de8d
Author: Walter Harms <wharms@bfs.de>
Date:   Sun Feb 22 23:10:06 2004 -0800

    [IPV4]: Handle kmem_cache_create() failure in ipmr.c

commit 53289490721d10b7b4f6bde507dbb1701ef55703
Author: Walter Harms <wharms@bfs.de>
Date:   Sun Feb 22 23:09:27 2004 -0800

    [IPV4]: Handle kmem_cache_create() failure in inetpeer.c

commit 6d9ad4411041efbea06eebe1e7e7bed8bb161f01
Author: Walter Harms <wharms@bfs.de>
Date:   Sun Feb 22 23:08:34 2004 -0800

    [NET]: Handle kmem_cache_create() failure in neighbour.c

commit 0d414623e34809d44e3a34eec11d84a5a7aba5f2
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sun Feb 22 22:54:03 2004 -0800

    [DECNET]: Zap MODULE ifdefs.

commit b52f99902c80c95b1d0d551a435e20bd5fce3812
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 23 01:46:44 2004 -0500

    IEEE1394(r1155): Get rid of another user of round_up_to_page().

commit 9552f3fff47382f55b8249e1a1f60008cb8cb2f7
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 23 01:32:41 2004 -0500

    IEEE1394(r1154): Cleanup dma routines, and use vmalloc for sglist allocation.

commit 5d12615b8549d93f1a77348309694b932ae949c5
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 22:16:13 2004 -0800

    [PATCH] Fix do_shmat() for CONFIG_SYSVIPC=n
    
    - The do_shmat() stub needs `static inline', not `inline'
    
    - We need errno.h for ENOSYS.

commit 56278f2205bca0373c1abbbd24efcce7c19e894a
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Feb 22 22:09:29 2004 -0800

    [NET]: Set default socket rmem/wmem values more sanely and consistently.
    
    1) Take into account the fact that struct sk_buff, which counts towards
       socket buffer limits, changes across different platforms.
    2) Give ipv4/ipv6 ICMP sockets more accurately the wmem limits they
       want.

commit 5da0c2c3b175c1217e5e4890c898628ca2a6bd22
Author: Manfred Spraul <manfred@colorfullife.com>
Date:   Sun Feb 22 21:28:40 2004 -0800

    [PATCH] rename shmat to make it clear it isn't a system call entrypoint
    
    This renames sys_shmat to do_shmat.  Additionally, I've replaced the
    cond_syscall with a conditional inline function.
    
    It touches all archs - only i386 is tested.

commit c59badd45db5534dad3efb50fa361340b198aaca
Author: Ben Collins <bcollins@debian.org>
Date:   Sun Feb 22 23:49:42 2004 -0500

    IEEE1394/Video1394(r1151): Fix typo in last commit

commit 8b7667947a780c03424c2370a43a893f5d020d47
Merge: 6e9aed3... 4ce0447...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Feb 22 20:02:46 2004 -0800

    Merge http://lia64.bkbits.net/to-linus-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit c54f2c7f8e6ae4c5c16c30d6b38adf20e49d3a71
Author: Matthew Wilcox <willy@debian.org>
Date:   Sun Feb 22 19:58:08 2004 -0800

    [PATCH] ia64: SAL version is not zero-padded
    
    The SAL version is encoded as a BCD number, but shouldn't be zero-padded.

commit 325af926998c3c0be5d09190399ed52da5cd186c
Author: Ben Collins <bcollins@debian.org>
Date:   Sun Feb 22 22:48:09 2004 -0500

    IEEE1394/Video1394(r1150): Initialize d->link list so that failures cleanup properly.

commit 934b6519ddc1a2c2631662afc6bd15201117a98f
Author: Pat Gefre <pfg@sgi.com>
Date:   Sun Feb 22 19:47:16 2004 -0800

    [PATCH] ia64: add Altix hotplug support

commit 4704aa6a60c892855bce24560fab520a77f7cd97
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Feb 22 19:35:32 2004 -0800

    [TIGON3]: Bump version and reldate.

commit bd8f3f31bb2e2701d7f929f38eb77c3b79b52c49
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Feb 22 19:33:18 2004 -0800

    [TIGON3]: Comment out card RAM validation in tg3_test_dma() for now.

commit d2979329eb8aa65d4eef931600f1b27c7385e382
Author: ken@miriam.com <ken@miriam.com>
Date:   Sun Feb 22 19:25:38 2004 -0800

    [TIGON3]: Add Apple tigon3 PCI device id.

commit b457c5cd10bc076002f099c807babe1cbfb96c4b
Merge: 6e9aed3... 1d0b87e...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Feb 22 18:05:36 2004 -0800

    Merge bk://kernel.bkbits.net/wesolows/sparc32-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit 21435ae6c87bc8ef0d8d351bafaf6c37a396712d
Merge: 484a1f9... 794f2c0...
Author: Len Brown <len.brown@intel.com>
Date:   Sun Feb 22 17:16:33 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit 51c6d71d1a689abfb51cdaf0cc10439f72d447da
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Sun Feb 22 19:51:34 2004 +0100

    [Bluetooth] Initial sysfs and device class support
    
    This patch adds the initial Bluetooth device class and sysfs support. This
    new code replaces the hotplug and HCI proc interface.

commit 46e0ae914c5aba7918e5fbd5aa35aa3e6c5b77c5
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Sun Feb 22 18:37:36 2004 +0100

    [Bluetooth] Copy all L2CAP signal frames to the raw sockets
    
    Currently only very few responses travel back to a L2CAP RAW socket, which
    is very bad if you need to see command responses. This patch copies every
    signal frame to all attached raw sockets.
    
    Patch from Collin R. Mulliner <collin@betaversion.net>

commit 6e9aed301836e982660ba8d2c305272c3a5bcf0e
Merge: c2395b5... 484a1f9...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Feb 22 09:09:57 2004 -0800

    Merge bk://kernel.bkbits.net/davem/bt-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 484a1f961217ab53fbc23e4908ef003c1a5335c1
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sun Feb 22 07:14:46 2004 -0800

    [PATCH] Disable debugging verbosity in macio_asic.c
    
    This undef's DEBUG by default in macio_asic, this is now working fairly
    well, and the actual output isn't really useful anyway.

commit 34ea1ab2d927d7d492846ba12b09e13234a6716d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:08:06 2004 -0800

    [PATCH] runtime PM deadlock fix
    
    From: Alexander Atanasov <alex@ssi.bg>
    
    dpm_runtime_suspend holds dpm_sem and calls dpm_runtime_resume which
    deadlocks.  Directly call runtime_resume instead.

commit ffaf2ab6653a94b3c348548eb2c2f07268ab000f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:07:55 2004 -0800

    [PATCH] Require GNU Make version 3.79.1 or later
    
    From: Adrian Bunk <bunk@fs.tum.de>
    
    GNU make 3.78 reproducible segfaults when building kernel 2.6.
    
    See http://marc.theaimsgroup.com/?l=linux-kernel&m=107333742902438&w=2
    
    Therefore, the minimum requirement for GNU make has to be raised in
    Documentation/Changes.
    
    GNU make 3.79.1 works.

commit e152aa13497ee8764d6242b48eac8485032a00e4
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:07:45 2004 -0800

    [PATCH] powernow-k8 frequency handling fix
    
    From: Pavel Machek <pavel@ucw.cz>
    
    In 2.6.3, cleanups arrived, and they got test for invalid frequencies
    wrong.
    
    Only first frequency is allowed to be < FID_TABLE_BOTTOM, but due to
    bug it cleanups it allowed no frequencies < FID_TABLE_BOTTOM. This
    fixes it.

commit 24048086abfcdee312f6c9251e1ecef239963d98
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:07:34 2004 -0800

    [PATCH] Fix fs/partitions/efi.c printk warnings
    
    Lots of these:
    
    fs/partitions/efi.c:387: warning: long unsigned int format, u64 arg (arg 2)
    fs/partitions/efi.c:387: warning: long unsigned int format, u64 arg (arg 3)
    fs/partitions/efi.c:387: warning: long unsigned int format, u64 arg (arg 2)
    fs/partitions/efi.c:387: warning: long unsigned int format, u64 arg (arg 3)
    fs/partitions/efi.c:395: warning: long unsigned int format, u64 arg (arg 2)
    fs/partitions/efi.c:395: warning: long unsigned int format, u64 arg (arg 3)
    
    because it is assuming that you can print a u64 with %ld on 64-bit machines.

commit 0579fac9447fe1d3f13ed3980611dd5fb46ba55d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:07:24 2004 -0800

    [PATCH] Fix ISDN v.110.
    
    From: David Woodhouse <dwmw2@infradead.org>
    
    Now that we coalesce ACKs for outgoing packets, the v.110 code needs to
    look at the size it's given rather than assuming it'll get precisely one
    callback for each packet sent...

commit f532bdf622d593f14c695f20113b7d6f21006d45
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:07:14 2004 -0800

    [PATCH] telephony: use kernel min/max
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    From: Michael Veeck <michael.veeck@gmx.net>
    
    Removes unnecessary min/max macros and use kernel.h macros instead.

commit da5f761ddc2f796dc5cabb60a5bd08ced6c947f0
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:07:04 2004 -0800

    [PATCH] janitor: media: use kernel min/max
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    From: Michael Veeck <michael.veeck@gmx.net>
    
    Remove unnecessary min/max macros and changes calls to use kernel.h macros
    instead.

commit a30bfc8ee77fdda3991bf637dae095a238251b34
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:06:52 2004 -0800

    [PATCH] From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    From: <WHarms@bfs.de>(Walter Harms)
    
    Hi list,
    while checking 2.6.1 for missing checks(). fs/jffs/inode-v23.c
    got overlooked somehow.
    
    This patch fixes:
    2 unguarded kmem_cache_create
    1 unguarded proc_mkdir

commit 8a65e057af736582f517392486b755afe69dd9f5
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:06:42 2004 -0800

    [PATCH] security oops fix
    
    From: Stephen Smalley <sds@epoch.ncsc.mil>
    
    Looking at d_splice_alias, it appears that the security_d_instantiate call
    in the first case (where it ends up moving an entry in place of the given
    dentry) should be passing 'new' rather than 'dentry' to ensure that the
    passed dentry is associated with the inode.  This patch should fix the
    problem.
    
    (Addresses bugzilla #2153)

commit e84f0355b3bb015d20361d7d56201febc32cfbcd
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:06:31 2004 -0800

    [PATCH] ext3: fix scheduling-in-spinlock bug
    
    ext3_error() sleeps, so don't call it with the lock held.

commit e4c77679d06edbf5a00072411faa985b52f1a6c0
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:06:20 2004 -0800

    [PATCH] Another x86-64 fix for problems from the recent merge
    
    From: Andi Kleen <ak@suse.de>,
          From Suresh.B.Siddha
    
    Fix another bug caused by the recent IA32e merge.  The full L1 cache size
    padding of the GDT didn't work with smaller cache line sizes.  Just revert
    that.
    
    I must admit I still don't understand why it didn't work, but it's better
    to have a working system for now.

commit 5f0295492ea93e6a89cdb0202afa611d8241e478
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:06:10 2004 -0800

    [PATCH] Fixes to CodingStyle
    
    From: Xose Vazquez Perez <xose@wanadoo.es>
    
    Even master's books bring errors :-).  URL has the errata and more
    information about the books

commit 66c7f95abfddaa2bee02e7354b8c92a7eee8887f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:06:00 2004 -0800

    [PATCH] mtrr: init section usage
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    This patch tries to clean up init section usage in
    arch/i386/kernel/cpu/mtrr/*.c.

commit db9a7868b3260d7a6e73f471eac0147c0979d1cf
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:05:49 2004 -0800

    [PATCH] IPMI warning fixes
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    When compiling the IPMI drivers on m68k, I needed a few more includes:
    
      - <asm/irq.h> (for disable_irq_nosync() and enable_irq())
    
      - <linux/types.h> (for size_t)
    
      - <asm/system.h> (for printk())

commit ae0ecb664a7c4d16fa2a737c50e2d5833b06cdd0
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:05:38 2004 -0800

    [PATCH] cleanup condsyscall for sysv ipc
    
    From: Manfred Spraul <manfred@colorfullife.com>
    
    Attached is a patch that replaces the #ifndef CONFIG_SYSV syscall stubs
    with cond_syscall stubs.

commit 4d273aae880c83772e924bee8b261d3123311078
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:05:27 2004 -0800

    [PATCH] nbd: remove PARANOIA and other cleanups
    
    From: Paul Clements <Paul.Clements@SteelEye.com>
    
    This patch removes the PARANOIA define (it was always defined anyway).  It
    also removes the requests_in/out counters (which weren't always accurate,
    and are superfluous anyway, since the block layer keeps its own in_flight
    counter).  Also some minor cleanup of comments.

commit 07172aeaacaa46781312f5f8310c2be3d029e71b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:05:17 2004 -0800

    [PATCH] nbd: fix set_capacity call
    
    From: Paul Clements <Paul.Clements@SteelEye.com>
    
    This patch fixes the initial set_capacity call so that it matches nbd's
    internal device size (nbd_device->bytesize).

commit 902415ed1574b75e629bbd85d9d5aa652c63e9bd
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:05:05 2004 -0800

    [PATCH] Kconfig help: dm-crypto && cryptoloop
    
    From: bert hubert <ahu@ds9a.nl>
    
    Current bitkeeper features a cryptoloop which is not safe for journaled
    file systems and also a Device Mapper target which is.  The patch below
    updates Kconfig to that effect.

commit df84e5eb0ee0c942fcaa4408ac9d43b9cf73b352
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:04:55 2004 -0800

    [PATCH] add range checking to sys_sysctl()
    
    If you pass a huge nlen value into sys_sysctl() it will loop for hours
    printing billions of question marks, so range-check the arguments.
    
    Also, remove the code which informs the user that the sysctl is obsolete: it
    allows unprivileged users to spam the logs.

commit 93d1187270d54f53b8516dd8e88dc7f2ec883905
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:04:44 2004 -0800

    [PATCH] m68k: M68k core spelling
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k core spelling fix (from Michael Hayes)

commit cb74ba0d864691f33765a78c01510ded5e08f2fa
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:04:34 2004 -0800

    [PATCH] m68k: Dummy dma mapping
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Add a dummy <asm-generic/dma-mapping-broken.h> for systems that don't support
    the new DMA API, and make m68k use it if !CONFIG_PCI

commit 297b5efbf77b0fd7150de785d0a97af1a6f011f9
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:04:22 2004 -0800

    [PATCH] m68k: Mac IOP spelling
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Mac IOP spelling fix (from Matthias Urlichs)

commit 8d7693f86e9388e17b6351852459ec6f94960eb1
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:04:12 2004 -0800

    [PATCH] m68k: M68k FPU emu broken link
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k FPU emu: Remove reference to non-existing website

commit 83e6a186ff0c63cd28c5484e21220245d6aa76d2
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:04:01 2004 -0800

    [PATCH] m68k: M68k cmpxchg
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Add missing implementation of cmpxchg() (from Andreas Schwab, Roman
    Zippel and me)

commit 8c6184f6eb699531a6a0e05ce791059fffc1a3f8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:03:51 2004 -0800

    [PATCH] m68k: M68k call trace output
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Improve formatting of call trace output (from Matthias Urlichs)

commit eeaf3b6be27d8cc8a67fddaa687f19e3ffb26632
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:03:40 2004 -0800

    [PATCH] m68k: M68k module loader
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Add missing relocation support to module loader (from Matthias Urlichs)

commit 1f768a03cb309003c08ee7be31a64a48891186b7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:03:30 2004 -0800

    [PATCH] m68k: arch/m68k/mm/Makefile cleanup
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Clean up arch/m68k/mm/Makefile logic

commit cc62c4f7095d8df25c17295f0e5d21145ab84adb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:03:18 2004 -0800

    [PATCH] m68k: M68k configuration
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Update M68k configuration logic:
      - Introduce CONFIG_MMU_MOTOROLA and CONFIG_MMU_SUN3
      - Move Sun-3 config selection to the top since all other platforms conflict
        with it
      - Sun-3 implies MMU_SUN3
      - All other platforms imply MMU_MOTOROLA
      - Sun-3 implies M68020
      - Sun-3x implies M68030
      - Sun-3 kernels cannot support 68030, 68040, or 68060

commit 21afbe0d24b7d4b0f38547dbcd3b411bded194ea
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:03:09 2004 -0800

    [PATCH] m68k: Amifb modedb bug
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Amifb: Fix bugs in the video mode database:
      - ntsc-lace lacks the yres value
      - a2024-15 is 15 Hz, not 10

commit 2732e425dc16fef69968833cf62fb0e694260e20
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:02:58 2004 -0800

    [PATCH] m68k: M68k uses drivers/Kconfig
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Use drivers/Kconfig and fix up some remaining dependencies:
      - M68k no longer uses rtc.c
      - M68k never has AGP
      - CONFIG_ZORRO depends on CONFIG_AMIGS

commit c697f655a9950b9f96da7d7ee20ee66a49e0e81f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:02:47 2004 -0800

    [PATCH] m68k: M68k MCA cleanup
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k: Remove obsolete MCA definition

commit 9b714116b555ee1c3079d4f2933a1ae915847f92
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:02:36 2004 -0800

    [PATCH] m68k: Atari name clashes
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Atari Falcon: Prepend falcon_ to some Atari Falcon definitions to solve name
    clashes in some drivers.

commit 79db2b5f3ac78e97bb2069be86b0d7adab6a6b72
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:02:26 2004 -0800

    [PATCH] m68k: Sun-3 missing sbus_readl()
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Sun-3 sbus: Add missing definition of sbus_readl() (from Sam Creasey)

commit 92ddcd90615e7b8b80839550dda98ae56c2ba126
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:02:15 2004 -0800

    [PATCH] m68k: Sun-3 console fix
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Sun-3: Use dummycon if CONFIG_DUMMY_CONSOLE is defined only (from Sam
    Creasey)

commit 26c80c9fe75a4e61f3678d7c1217be4f77978aec
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:02:04 2004 -0800

    [PATCH] m68k: mm init warning
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k mm: Kill warning (from Sam Creasey)

commit 4a1231877203c9ca47d5ba48650e44878ac774ee
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:01:54 2004 -0800

    [PATCH] m68k: offsets.h generation
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k offsets.h: Move arch/m68k/kernel/m68k_defs.h to include/asm/offsets.h
    and use gen-asm-offsets framework (from Andreas Schwab and Ray Knight)

commit 086a07821d0f3594f4e05914ca1fd30ca4e83d6d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:01:23 2004 -0800

    [PATCH] NBD rmmod oops fix
    
    From: Paul Clements <Paul.Clements@SteelEye.com>
    
    Fix a module unload oops, as well as fix some return codes (so nbd-client
    can exit with the proper error code, rather than 0, when an error occurs).

commit 562123b5e1c5e73e141748e687b45321484804d1
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:01:12 2004 -0800

    [PATCH] dynamic pty allocation
    
    From: "H. Peter Anvin" <hpa@transmeta.com>
    
    Remove the limit of 2048 pty's - allocate them on demand up to the 12:20
    dev_t limit: a million.

commit d6ca389041ddde6d1d3a7d17c2d79a0713081fd7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:01:00 2004 -0800

    [PATCH] fix shmat
    
    From: Nick Piggin <piggin@cyberone.com.au>
    
    sys_shmat() need to be declared asmlinkage.  This causes breakage when we
    actually get the proper prototypes into caller's scope.

commit 7f22b58ab4421e7f3f73ca77820d6091e1f44408
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:00:49 2004 -0800

    [PATCH] Intel i830 AGP fix
    
    From: Terence Ripperda <tripperda@nvidia.com>
    
    When coming out of standby, some chipsets lose their configuration in pci
    config space.  this includes not just the agp master register being lost, but
    chipset-specific information, such as the physical address of the gatt table
    and other settings.  Calling this configure routine again restores those
    settings.
    
    Dave said he was adding chipsets to this list on an "as needed and tested"
    basis.  I ran across this problem I believe on a Dell Inspiron 4100 with
    nv11.  (there had been some similar problems with specific nv11 systems when
    doing apm with the 2.4 kernel, I suspect, but haven't been able to verify,
    it's the same problem).

commit 05fa7c2cae3eb3a062c6279a47dd25405e4ad30b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:00:39 2004 -0800

    [PATCH] more serial driver fixups
    
    From: Russell King <rmk@arm.linux.org.uk>
    
    Here is a patch which updates various serial drivers in the kernel to make
    them less broken than they were before.  Nevertheless, they are still
    broken.
    
    The improvement is to make these drivers use the tiocmget/tiocmset methods,
    which are present in the 2.6 kernel.
    
    Many of these have been incorrectly converted from the old global IRQ
    locking without regard for SMP issues, or still use the old global IRQ
    locking methods which are no longer present in 2.6 kernels.
    
    The full message thread can be found at:
    
    http://groups.google.com/groups?hl=en&lr=&ie=UTF-8&threadm=1dvnl-5Pr-1%40gated-at.bofh.it&rnum=1&prev=/groups%3Fhl%3Den%26lr%3D%26ie%3DISO-8859-1%26q%3DOutstanding%2Bfixups%26btnG%3DGoogle%2BSearch%26meta%3Dgroup%253Dlinux.kernel

commit 258b92e84db6285fc83d6fef3af8fc93f7c0a916
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 22 07:00:27 2004 -0800

    [PATCH] serial fixups
    
    From: Russell King <rmk@arm.linux.org.uk>
    
    Convert a bunch of serial drivers to new-style ioctl handling.

commit 3394b347940da0529bd5ae7925b2064e23b9a5ae
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Feb 22 06:29:23 2004 -0800

    [IPV6]: Fix typo in Al's module_init changes.

commit 7b6efd9f9739877644889fb9c2d881572aaffb76
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Sun Feb 22 15:03:38 2004 +0100

    [Bluetooth] Cleanup drivers Kconfig file
    
    This patch makes some cosmetic cleanups to the Kconfig file for the
    Bluetooth drivers.

commit aefdbd6d07d2ee2bc8095d18b0708468677a339c
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Feb 22 05:49:36 2004 -0800

    [IPV6]: Kill unloadable noise in af_inet6.c

commit 104c7aaada9b7bcee88f5627360adedbe0105112
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sun Feb 22 05:48:17 2004 -0800

    [IPV4/IPV6]: Convert tunnel drivers to unconditional module_init.

commit 84557b408ea30beefc640a662afe14b850822f9e
Merge: 22a4bcc... bcc3181...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Feb 22 00:28:39 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-rmk
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit bcc3181b1a540f33b97679599a5ace133ed2aa5a
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Feb 22 23:47:06 2004 +0000

    [ARM] Remove non-existent Kconfig source statement.
    
    A bit too over-eager to minimise the delta resulted in this Kconfig
    file trying to source a currently non-existent Kconfig file.

commit 7d2f6ae841a756bf2ed723b8121ce423a67ca4a5
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Feb 22 23:40:31 2004 +0000

    [ARM] Fix late abort handler for Thumb code.
    
    ARM720T processors use the "late" abort option, which means we have to
    correct the base address of any page fault ourselves.  However, we
    were mis-correcting the thumb "push" instruction, causing the retried
    instruction to fail in a spectacular way.

commit 66d76f3e875d493c22e24da8132058563b8a37e1
Author: Peter Teichmann <mail@de.rmk.(none)>
Date:   Sun Feb 22 17:16:19 2004 +0000

    [ARM PATCH 1719/1] Acornfb update
    
    Patch from: Peter Teichmann, edited by Russell King.
    
    * a bugfix to the pseudo palette handling in 16/32 bit modes: the
      pseudo palette is always kept in 32 bit integers
    * a bugfix to setcolreg() in 16 bit modes: there have to be 32 colour
      registers (this has nothing to do with the 16 pseudo palette
      colours, it is a bit misleading that setcolreg() is used both for
      pseudo palette setup and DIRECTCOLOR colour translation)
      (The behaviour should be selected using the visual and the rgb
       representation rather than the current BPP setting. --rmk)
    * change 16 bit visual from TRUECOLOR to DIRECTCOLOR
    * take the limited bandwidth of the RiscPC video memory into account
      for acornfb_valid_pixrate()
    * acornfb_vidc20_find_rates() now takes into account the differences
      between VRAM and DRAM when setting the FIFO preload value. With
      VRAM, the FIFO can be set to the highest possible setting because
      there are no latency considerations for other memory accesses.
      However, in 64 bit bus mode the FIFO preload value must not be set
      to VIDC20_CTRL_FIFO_28 because this will let the FIFO overflow.
      See VIDC20 manual page 33 (6.0 Setting the FIFO preload value).
    
    * select Multifreq monitor as default, increase frequency range for
      Multifreq monitor (this is of course a philosophical question, but
      I believe a sensible default setting should not impose too much
      limits to the user)
      (I dropped this change because it is known that some monitor
       hardware shipped with Acorn machines does not take kindly to
       wrong timing signals.  If people really care, they should use
       the kernel command line to select the correct monitor type. --rmk)

commit 2a089f7e7a6e35ebb312ee1365a80c3f6238feb9
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Feb 22 17:00:26 2004 +0000

    [ARM] Dynamically allocate SA1100 PCMCIA sockets.

commit cd2cb093a098ed53360f33fa0e879a7c926c9d6b
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Feb 22 16:36:28 2004 +0000

    [ARM] Update SA1111 Neponset code to use safe GPIO functionality.
    
    Use the SA1111 GPIO functionality added by the previous cset to
    ensure that GPIOs are modified atomically.

commit e5b400ee1c1a778f8f40f86ce2e1c7987aa4d323
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Feb 22 15:53:40 2004 +0000

    [ARM] Add safe sa1111 IO handling.
    
    This introduces a set of functions which allow the SA1111 IO pins to
    be safely modified with no fear of other kernel threads interfering.

commit 1d0b87e88e9095a99ea96ba4bc02a015b13815d2
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sat Feb 21 22:34:59 2004 -0800

    [SPARC32]: Remove cli/sti from all arch code.

commit c2395b56dd0a848f35813df6685d843574a09263
Merge: 22a4bcc... 51c6d71...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Sat Feb 21 21:49:15 2004 -0800

    Merge http://linux-mh.bkbits.net/bluetooth-2.6
    into kernel.bkbits.net:/home/davem/bt-2.6

commit b5b26f78542ff30e259973c211d89f1cbd7f1369
Author: Kai Mäkisara <kai.makisara@kolumbus.fi>
Date:   Sat Feb 21 21:51:29 2004 -0600

    [PATCH] Sysfs class support for SCSI tapes
    
    This is a new version of the patch I sent two weeks ago. The code is the
    same but now diffed against 2.6.3. Some documentation has been added.
    Creation and removal of the st device files has been tested with
    udev-018.
    
    The patch adds support for /sys/class/scsi_tape. It also removes the links
    to/from the st files in /sys/cdev/major.
    
    A file is created for each mode and rewind/non-rewind device for each
    tape drive. Here is an example for one drive:
    > ls /sys/class/scsi_tape/
    st0m0  st0m0n  st0m1  st0m1n  st0m2  st0m2n  st0m3  st0m3n
    
    In addition to the automatic links (dev, driver), each directory contains
    files that export some of the mode parameters:
    > ls /sys/class/scsi_tape/st0m0
    default_blksize      default_density  dev     driver
    default_compression  defined          device
    
    A link is made from the SCSI device directory back to the mode 0
    auto-rewind class file:
    > ls -l
    /sys/devices/pci0000:00/0000:00:1e.0/0000:02:01.1/host1/1:0:5:0/tape
    lrwxrwxrwx    1 root     root           39 2004-02-05 23:14
    /sys/devices/pci0000:00/0000:00:1e.0/0000:02:01.1/host1/1:0:5:0/tape ->
    ../../../../../../class/scsi_tape/st0m0

commit f199c752995e947610fa75c2828739347d9051ba
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sat Feb 21 19:16:00 2004 -0800

    [SPARC32]: Remove use of PF_USEDFPU

commit 22a4bcc2abf49bf6b888baeadcbe76279f3c45c7
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sat Feb 21 17:56:53 2004 -0800

    [PATCH] fix /proc/ide/<hwif> for IDE PCI modules
    
    From: Andrey Borzenkov <arvidjaar@mail.ru>
    
    Also add dummy create_proc_ide_interfaces()
    for CONFIG_PROC_FS=n (per Linus' suggestion).

commit 5cdb4c53913fcb908c12ac2df6701d764fadd4e4
Author: Ben Collins <bcollins@debian.org>
Date:   Sun Feb 22 01:09:09 2004 -0500

    IEEE1394(r1149): Convert some hardcoded values to constants. Add pbook suspend/resume handlers.

commit 2f7c0cc48267f947c7329d88be9c62bfce30b8b2
Merge: fd35598... 6991479...
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Feb 21 12:52:22 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/ieee1394-2.6

commit fd35598a20a26a21b62298405c0df666d323150c
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Feb 21 09:26:37 2004 -0500

    IEEE1394/SBP2(r1148): Fix a few bugs, and add set blk_queue_dma_alignment to 512.

commit 54105201ba05bbff8e7e569abe731b8af364fc06
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sat Feb 21 01:29:01 2004 -0800

    [SPARC32]: Remove stale SMP irq implementation.

commit 699147963924c5747866e525848484a30c49d875
Merge: 603ba04... 8f5c8c6...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sat Feb 21 00:00:29 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 603ba04d34b28a67e4efdbd28d74888a9318d266
Merge: 427502f... 45cf898...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Feb 20 23:59:10 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-serial
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 427502ff88af14292c136be1c3639c9b9e2969ad
Author: Bjorn Helgaas <bjorn.helgaas@com.rmk.(none)>
Date:   Sat Feb 21 22:44:43 2004 +0000

    [SERIAL] Fix /proc serial info for MMIO ports
    
    Patch from: Bjorn Helgaas
    
    This patch against 2.6.2 fixes a minor issue with /proc/tty/drivers/*,
    which currently doesn't show MMIO address information.  Current
    sample output:
    
            # cat /proc/tty/driver/serial
            serinfo:1.0 driver revision:
            0: uart:16450 port:00000000 irq:65 tx:72 rx:0 RTS|DTR
            1: uart:16550A port:00000000 irq:65 tx:2950 rx:0 RTS|DTR
            ...
    
    Output with the attached patch:
    
            # cat /proc/tty/driver/serial
            serinfo:1.0 driver revision:
            0: uart:16450 mmio:0xF8031000 irq:65 tx:72 rx:0 RTS|DTR
            1: uart:16550A mmio:0xFF5E0000 irq:65 tx:2403 rx:74 RTS|DTR
            ...

commit 28a1fbf7d427b0a3bc4de1c3bcf6fb1ada4fb1db
Author: Bjorn Helgaas <bjorn.helgaas@com.rmk.(none)>
Date:   Sat Feb 21 22:39:59 2004 +0000

    [SERIAL] Discover ACPI serial ports before plug-in ports
    
    Patch from: Bjorn Helgaas
    
    This makes us discover ACPI serial ports before PCI ones.  The ACPI
    ports tend to be built-in, and discovering them late means their ttyS
    names move around if PCI serial ports are added or removed.  I think
    it makes more sense to have relatively predictable and consistent
    names for the built-in hardware.

commit 6c4a6df37bd81653419ff9b1b0a30c316935eef9
Author: Mark Hindley <mark@net.rmk.(none)>
Date:   Sat Feb 21 14:54:36 2004 +0000

    [SERIAL] fix 8250_pnp resource allocation
    
    Patch from: Mark Hindley
    
    Patch below to ensure that 8250_pnp sets necessary flags so that 8250
    driver will reserve ioports.
    
    Before, I was logging errors like
    
    Feb 20 08:42:37 titan kernel: Trying to free nonexistent resource <000003e8-000003ef>
    
    on module unload.

commit 351d7dda6f4bf63b29db713f27eab10cf1f2e78d
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Feb 21 01:46:17 2004 -0500

    IEEE1394/ETH1394(r1147): Make sure to set update_config_rom on add host.

commit 228beab6e6d8effd262145ede94762a3b81c663c
Author: Ben Collins <bcollins@debian.org>
Date:   Sat Feb 21 00:47:03 2004 -0500

    IEEE1394(r1146): Make the probe callback return an error if problems, and unbind drivers on failure.

commit 8f5c8c636639763f91f74b173a2873cfff50ebf4
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Fri Feb 20 21:16:43 2004 -0800

    [IPV6]: Kill MODULE ifdeffing, common init for sysctls.

commit 62bc1c6dac8de52bd753b0c68ae6b2285d4788dc
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Fri Feb 20 21:10:51 2004 -0800

    [IPV4]: Do not return -EAGAIN on blocking UDP socket, noticed by Olaf Kirch.

commit 45cf898bb4c8dad48c3cc5c10dc2506523901f46
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Fri Feb 20 17:11:23 2004 -0800

    [PATCH] Remove use of "current" identifier in via-pmu
    
    Andrew spotted this one, here's the fix:
    
    Remove usage of "current" as a variable name and structure member
    in the battery management code of PowerMac via-pmu and apm-emu
    drivers

commit e3475ce5c8dfed322d2a3065abf0b4af9d807692
Author: Yoshinori Sato <ysato@users.sourceforge.jp>
Date:   Fri Feb 20 17:10:47 2004 -0800

    [PATCH] H8/300 Kconfig / defconfig update
    
    delete obsolute CONFIG

commit b700a3d511d5ae032572093ffdf782d9c01ef5b0
Author: Yoshinori Sato <ysato@users.sourceforge.jp>
Date:   Fri Feb 20 17:10:37 2004 -0800

    [PATCH] H8/300 io.h bussizing problem fix
    
    - fix warning
    - byte swap miss fix
    - 16bit bus access problem fix

commit 26d5929e903df6813c4557cbe04e19079300106c
Author: Yoshinori Sato <ysato@users.sourceforge.jp>
Date:   Fri Feb 20 17:10:25 2004 -0800

    [PATCH] H8/300 warning fix
    
    Fix any warnings

commit 7478d7b804b0c6fd49b32ef7755bc0a619483b18
Author: Yoshinori Sato <ysato@users.sourceforge.jp>
Date:   Fri Feb 20 17:10:15 2004 -0800

    [PATCH] H8/300 include cleanup
    
    - duplicate define marge.
    - unused define delete.
    - reduced code size.

commit c9a89dec5e35fc309255af1604c922b54d488e6f
Author: Yoshinori Sato <ysato@users.sourceforge.jp>
Date:   Fri Feb 20 17:10:04 2004 -0800

    [PATCH] H8/300 start_thread problem fix
    
    Illegal usp corrected a set problem in starting of thread.

commit a2dbe7109eaa39a869de8c3b11a4d02c1b37e94a
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Fri Feb 20 17:07:36 2004 -0800

    [PATCH] Fix use of sector_t in swim3 driver
    
    This driver won't build with CONFIG_LBD due to a 64 bits division.
    
    Use the "simple" fix of a cast down to 32 bits, this is only
    a floppy driver, no need to do sector_div.

commit 0f2b4de420d9120060afba1ad96c3de080ce02a1
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Fri Feb 20 16:53:01 2004 -0800

    [PATCH] ppc32: Export cpu_possible_map
    
    cpu_possible_map is needed by some modules, export it.

commit 6621ee9d4fe76dd63d78b43202247bf4cdd2ac0e
Author: David S. Miller <davem@redhat.com>
Date:   Fri Feb 20 16:52:51 2004 -0800

    [PATCH] Synchronize sungem RX complation path
    
    While perusing the driver I noticed a workaround we don't have in the
    Linux driver.  The comment I added explains the issue.

commit aa9555165b38dece29b537e3b33bfa2127759250
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Fri Feb 20 16:52:40 2004 -0800

    [PATCH] ppc32: rework l2 cache code
    
    This patch removes the code that tweaked the L1 cache when setting
    up the L2 one. That was added a while ago in the intend of making
    things more robust but ended up breaking earlier 750 CPU setup.
    
    Also fix some crap in the L1 cache code that is only used for the
    powermac sleep at this point.

commit 861f069a806dde3385c055fffd8438515c5e1b42
Author: Ben Collins <bcollins@debian.org>
Date:   Fri Feb 20 14:10:49 2004 -0500

    IEEE1394 is no longer experimental, but eth1394 is.

commit da57b2aa0cda1845ad06712c937184cd938fb36e
Merge: a2f98d5... 6dc30fc...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Fri Feb 20 03:02:17 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit a2f98d572ac1dd3461aaad3f823438d255e9c292
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Fri Feb 20 02:49:14 2004 -0800

    [PKT_SCHED]: Missing linux/init.h includes in sch_{arm,dsmark}.c

commit a4c844769e25ba573a7c313dd1dae34610fd3a6d
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Fri Feb 20 02:41:57 2004 -0800

    [PKT_SCHED]: Convert to {subsys,module}_initcall(), fix init failure bugs in sch_teql.c
    
    pktsched_init() and tc_filter_init() converted to subsys_initcall().
    initialization of individual qdisc and tcf_proto switched to
    module_init().  Some of them used to be registered twice if built-in, BTW.
    init failure handling in sch_teql.c fixed - it used to leave objects
    (both qdisc and netdev) registered if insmod failed.

commit 4ce0447a7f3302d31a042e0cbf649ee8cb2506d2
Author: Jeremy Higdon <jeremy@sgi.com>
Date:   Fri Feb 20 01:47:40 2004 -0800

    [PATCH] ia64: Fix 64 bit DMA mapping problem with PCI cards on SN2
    
    PCI cards were forced to 32 bit addresses.  There is significant
    extra overhead to DMA setup with 32 bit, and it is fairly easy to
    run out of mapping resources.
    
    This patch reenables 64 bit DMA mapping for PCI cards.

commit 6dc30fc274e54ce93478e2a9ae12c10f36216f27
Merge: 05de55a... 1d50e5e...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Feb 20 01:33:47 2004 -0800

    Merge ppc970.osdl.org:/home/torvalds/v2.5/mips
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 1d50e5e7a6e0325b1a652c4be296a71dc54a6e96
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Feb 20 01:33:18 2004 -0800

    [PATCH] MIPS mega-patch
    
    From: Ralf Baechle <ralf@linux-mips.org>
    
    Below following 125547 lines of patches, all to arch/mips and
    include/asm-mips.  I'm going to send the remaining stuff of which the one
    or other bit may need to be discussed in smaller bits.

commit 05de55a47c534d4aefd2c6f381d1e562fec039eb
Merge: 56880b1... 6ed7173...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Feb 20 01:16:08 2004 -0800

    Merge bk://bk.linux1394.org/ieee1394-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 56880b138eccc57e70336c623ca69c911f158c3a
Merge: 95a0811... 01bdc78...
Author: Ben Collins <bcollins@debian.org>
Date:   Fri Feb 20 09:11:20 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/ieee1394-2.6

commit 01bdc78f5aeccdf22d86b7a164dd07bcb78ea9a8
Author: Ben Collins <bcollins@debian.org>
Date:   Fri Feb 20 08:44:21 2004 -0500

    IEEE1394: Revision sync

commit 525f0d54366931c1c56342f0d7c8f5341dd7e5c3
Author: Ben Collins <bcollins@debian.org>
Date:   Fri Feb 20 08:37:15 2004 -0500

    IEEE1394/SBP2(r1144): Convert sbp2 to do one scsi_host per unit-directory.

commit 6ed7173458c11f11a248cfafe390f3c38a835216
Merge: f50d697... 7752a71...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Feb 20 01:12:36 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-serial
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 7752a71efcb48edcdc8fa7e1fb8244b4bed9660b
Author: Holger Schurig <h.schurig@de.rmk.(none)>
Date:   Fri Feb 20 16:52:31 2004 +0000

    [ARM PATCH] 1670/1: PXA serial driver
    
    Patch from Holger Schurig
    
    PXA Serial port (FFUART, BTUART, STUART) and console support
    
    This patch works perfectly here with "console=ttyS0,115200" in the
    kernel command line. It contains Jean-frederic Clere fix to detect
    STUART and BTUART.
    
    Nico said that I should post it to your patch tracker. It replaces patch 1662/1

commit f50d69762072534f7a9c15f5d7ff1bb59f95eaef
Merge: 95a0811... 53ab4d8...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Feb 20 01:06:58 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-rmk
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 53ab4d80a6b0e97b66f010d5094bf80eabefc30f
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 20 22:58:35 2004 +0000

    [ARM] Fix Acorn VIDC sound driver.
    
    Update the Acorn VIDC sound interrupt handler to return IRQ_HANDLED.

commit 56141cc33282c523cb7b1f5441fcbc8f269e327a
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 20 19:53:49 2004 +0000

    [ARM] Fix ambakmi to use amba_request_regions() and the correct IRQ.

commit 90e01543492f832ca96130aae457e067c622960f
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Feb 20 19:42:14 2004 +0000

    [ARM] Make Acorn I2C build again.
    
    Unfortunately some i2c drivers were missed when the "name" element of
    struct device was removed.  This cset fixes these drivers.

commit 0b5a9b4ca6b10265de69eb202cee15d99a45c003
Author: Deepak Saxena <dsaxena@net.rmk.(none)>
Date:   Fri Feb 20 19:24:06 2004 +0000

    [ARM PATCH] 1761/1: Remove SA1111_PCI_FAKEDEV (take 2)
    
    Patch from Deepak Saxena
    
    Follows your suggestion and also removes the #ifdef around
    pci_unmap_addr and friends. Since pci.h should only be getting
    included if PCI is enabled by PCI drivers and core, we shouldn't
    need the NOP version.

commit 04275968089ff7aa4fddd29fb5b9b016da82c4c3
Author: Tony Lindgren <tony@com.rmk.(none)>
Date:   Fri Feb 20 10:09:26 2004 +0000

    [ARM PATCH] 1759/1: Add ARM925 support, updated
    
    Patch from Tony Lindgren
    
    The following patch adds the ARM925 processor support.
    
    This patch is based on the proc-arm925.S in 2.4 kernel, and it has been
    modified to be more like the ARM926 support in the 2.6 kernel, except for
    the cache flushing and initialization. Also, this patch fixes the
    writeback cache flushing for most part.
    
    There are still some issues with writeback cache flushing with devices
    using direct memory access, such as USB OHCI. It is recommended to use
    the writethrough instead if using USB. This is the default for OMAP-1510.
    OMAP-1610 does not have these issues, as it uses ARM926 core.
    
    This patch includes the update for the processor functions to be armv4t
    instead armv5t as suggested here:
    
    http://www.arm.linux.org.uk/developer/patches/viewpatch.php?id=1740/1

commit 25c1b1d6b3ffa9922995946c6f979a234e05a2ba
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Fri Feb 20 00:15:08 2004 -0800

    MPT Fusion driver 3.00.03 update
    
    From: "Moore, Eric Dean" <Emoore@lsil.com>
    
    Here's a new patch for MPT Fusion driver version 3.00.03
    
    It address issues with proper hot plug implementation.

commit e784f0149901a9afbe7a5dafe947001e848fc1f4
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 19 23:55:31 2004 -0800

    [PATCH] ia64: fix sched.c compile warning

commit 144abfc2830e661ac6c0b90360af4e487f838a9e
Merge: 95a0811... 9abdae1...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 23:47:11 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/network-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit 77ec183a50507f1d68930886e446fcf30927e386
Author: Mark Haverkamp <markh@osdl.org>
Date:   Thu Feb 19 23:38:25 2004 -0800

    [PATCH] aacraid reset handler
    
    Adds a reset handler to the aacraid template

commit 7bfdc29f072b33cf1df1eefdee1227465f08707f
Author: Geert Uytterhoeven <geert@linux-m68k.org>
Date:   Thu Feb 19 23:35:13 2004 -0800

    [PATCH] Sun-3x ESP SCSI clean up
    
    Sun-3x ESP SCSI: Remove obsolete cruft

commit 8e221e3dfe9341da17d5d5a0e152dd2c9834f86d
Author: Geert Uytterhoeven <geert@linux-m68k.org>
Date:   Thu Feb 19 23:33:52 2004 -0800

    [PATCH] NCR53C9x slave_{alloc,destroy}()
    
    NCR53C9x: Add missing slave_{alloc,destroy}() (from Kars de Jong and Matthias
    Urlichs). This affects the following drivers:
      - Amiga Blizzard 1230, Blizzard 2060, CyberStorm, CyberStorm Mk II, Fastlane,
        and Oktagon SCSI
      - DECstation NCR53C94 SCSI
      - Jazz ESP 100/100a/200 SCSI
      - Mac 53C9x SCSI
      - MCA NCR 53c9x SCSI
      - Sun-3x SCSI (was already fixed on its own)

commit 9abdae11c4a4d1a19885182290250749c6b2640a
Author: Harald Welte <laforge@gnumonks.org>
Date:   Thu Feb 19 23:09:03 2004 -0800

    [NETFILTER]: Remove unused structure member in NAT, from Patrick McHardy.

commit 2d5f5170998c77a476445bc889a7dca2dd294aa1
Author: Harald Welte <laforge@gnumonks.org>
Date:   Thu Feb 19 22:52:20 2004 -0800

    [NETFILTER]: Resync with 2.4.x
    
    - Update listhelp.h to benefit from prefetching
    - More efficient selective_cleanup() impl. in conntrack
    - Export number of conntrack buckets via r/o sysctl.

commit 95a0811445da78d527e87e826d7ef27c98e25d2e
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Feb 19 22:29:11 2004 -0800

    Fix silly thinko in sungem network driver.
    
    From David Miller.

commit 0e434c00f2cbf15aeba534f461942d81ce16c39e
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Feb 19 19:57:08 2004 -0800

    [PATCH] ICS IDE is not a PCI IDE interface
    
    Don't list icside.o in drivers/ide/pci/Makefile - it's in drivers/ide/arm.

commit 2d6d3d27318950901f58fd2609ecf6f476165183
Merge: 44bd49d... f1db380...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Feb 19 19:26:10 2004 -0800

    Merge bk://kernel.bkbits.net/gregkh/linux/pci-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit eb5ade9620008172a2e4464f839467bd875bd59e
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Thu Feb 19 19:04:10 2004 -0800

    [IPV4]: Make ip_auto_config a late initcall.

commit 231ae6681bc589044d79050c3849a278d1785775
Author: Art Haas <ahaas@airmail.net>
Date:   Thu Feb 19 19:03:02 2004 -0800

    [NETFILTER]: C99 initializers in ip_conntrack_standalone.c

commit 44bd49d58002b7817d46cd27c0da8ece703da13f
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Feb 19 18:25:25 2004 -0800

    [PATCH] PCI Hotplug: fix build warnings on 64 bit processors

commit 20fbc0755d223c0c3a7354f000aa8b8927c78f04
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 18:10:16 2004 -0800

    [IPV6]: Make ipv6_skip_exthdrs take const skb arg.

commit ec95cfa6b0cb3a8fdbe2690c88787b4ae0cddb55
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 18:06:54 2004 -0800

    [NETFILTER]: Include net/ipv6.h in ip6_tables.c

commit b861bca6a99d9afaf3d66e95906d1608ade9c35f
Author: Hideaki Yoshifuji <yoshfuji@linux-ipv6.org>
Date:   Thu Feb 19 17:42:55 2004 -0800

    [IPV6]: Use udpv6_queue_rcv_skb for multicast delivery.
    
    Noticed by Takashi Hibi.

commit 2aedfd65e3bc7a17919c0819fa571eb27a979992
Author: David Stevens <dlstevens@us.ibm.com>
Date:   Thu Feb 19 17:40:25 2004 -0800

    [IGMP/MLD]: Validate filter size against optlen.

commit 84f280e92760f4a85ee706efcdfcaf872c84619f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Feb 19 17:38:16 2004 -0800

    [WAN]: Fix single_open confusion in wandev_show.

commit be18dd534df3473ec1c81bbebaab435fef73ddfc
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Thu Feb 19 17:30:07 2004 -0800

    [NETFILTER]: Fix ipv6 TCP/UDP matching wrt. extension headers

commit a0d49aa6e59706db98836d67a8d1f907ac5d99b2
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Thu Feb 19 17:29:47 2004 -0800

    [IPV6]: In ipv6_skip_exthdr(), access frag header correctly.

commit f1db380aeba8d26216e1a4ac423fd614a50e8b4c
Merge: e665d18... 520c380...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Thu Feb 19 17:23:30 2004 -0800

    Merge kernel.bkbits.net:/home/wesolows/sparc32-2.6
    into kernel.bkbits.net:/home/davem/sparc-2.6

commit d96e1faccd0d9a074c70d690bd7fcb050c6c5e10
Author: Martine Silbermann <martine.silbermann@hp.com>
Date:   Thu Feb 19 17:20:38 2004 -0800

    [PATCH] PCI: update MSI Documentation
    
    After getting feedback from Tom,I made some changes to the patch
    Attached is a revised version.

commit 2e862d404ed35c1f4456b3061f2706678eaa019e
Merge: e665d18... 14810e1...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Feb 19 16:57:34 2004 -0800

    Merge kroah.com:/home/linux/BK/bleed-2.6
    into kroah.com:/home/linux/BK/pci-2.6

commit 794f2c08112a6f023256fe5914597731fc9fb6e8
Merge: 7d202bd... 1a52d0e...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Feb 19 12:06:40 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.3
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.3

commit 520c380c4da4ad5dd7fe2bace9646f286182cfd5
Merge: 67da11a... 7e52702...
Author: Keith M. Wesolowski <wesolows@kernel.bkbits.net>
Date:   Thu Feb 19 08:15:19 2004 -0800

    Merge kernel.bkbits.net:/home/repos/linux-2.5
    into kernel.bkbits.net:/home/wesolows/sparc32-2.6

commit 7e527026c78f6f49bc13640caa6ab1c0640c9f02
Merge: 3dc2393... f9f2c0b...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Thu Feb 19 08:05:27 2004 -0800

    Merge ssh://kernel.bkbits.net/sparc32-2.6
    into foobazco.org:/sources/2.5-sparc-todave

commit f9f2c0baa7c48eab9216fa3a5c6bc1327f0e2e97
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Thu Feb 19 07:58:02 2004 -0800

    [SPARC32]: Nuke a.out build cruft
    
    This removes C_LABEL and asm/cprefix.h as well as NEW_GAS.  These were
    used to support building on SunOS and with ancient binutils.

commit e665d1854c00a0f0b2b12bebb600470a2e123cb9
Merge: 67da11a... 39cf403...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Thu Feb 19 07:36:17 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/sparc-2.6
    into kernel.bkbits.net:/home/davem/sparc-2.6

commit 39cf4035f36b30d231910a7b05e1b6d02c479071
Merge: 56f914b... 3dc2393...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 07:30:03 2004 -0800

    Merge bk://kernel.bkbits.net/wesolows/sparc32-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit 56f914bec0adcd0a51fc903962cd2d48aed77a15
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 07:15:37 2004 -0800

    [SPARC64]: Update defconfig.

commit 3dc2393660641332f6e9e73363d469301de2c2af
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Thu Feb 19 07:15:19 2004 -0800

    [SPARC32]: Do similar macro casting for {in,out}{b,w,l}() as we do for {read
    ,write}{b,w,l,q}().

commit 5aff06e586de1429ff0b4a1a3072ebc7a97a73c1
Merge: 59db583... c75b4c2...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 07:08:54 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/sparcwork-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit 67da11af7dd0ecc7012a9a7e1475585b799f636d
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Feb 19 06:48:46 2004 -0800

    Include the <linux/dma-mapping.h> header file for DMA mapping.
    
    You know you want it. Give it to me.

commit c75b4c2a0d73a6e45c650474a2a34158807d1cc6
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 06:26:24 2004 -0800

    [SPARC64]: Do similar macro casting for {in,out}{b,w,l}() as we do for {read,write}{b,w,l,q}().

commit deba3240e5a44bf868a08efc48a6cdf84aa7f01f
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 06:21:35 2004 -0800

    [I2C]: Use correct port address typing in i2c-elv.c

commit 59db583040a3f0629c21b0dea425e4df1a9c9676
Author: Carlos Puchol <cpg@puchol.com>
Date:   Thu Feb 19 06:14:58 2004 -0800

    [PATCH] initial support for transmeta's efficeon processors
    
    This implements the initial support for the AGP gart in Transmeta's
    Efficeon processors.
    
    This code is based on linus' code from a while ago.  Peter and I adapted
    it for the current kernel.
    
    The note at the top indicates how it was tested, known issues, and so
    forth.  It is working quite well, and we'll work to fix the minor issues
    and test it some more with s3, more cards, other southbridges, etc.,
    next.

commit 193c0042700a44cb6fdfdf333926e833bfb41a99
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Feb 19 09:06:00 2004 -0500

    IEEE1394(r1143): Fix FCP requests, broken by my change for list_for_each_entry().

commit 8709c2e3f45643dc5c6e44458da96ba2054c404a
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 06:04:44 2004 -0800

    [MEDIA]: Use '%z' printf format for size_t/ptrdiff_t types in w9968cf.c.

commit 1e4e4da7a28b1756e62fb2c1408846d15632a9d6
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 06:00:29 2004 -0800

    [SUNDANCE]: Fix casting so u64 printk does not warn on some 64-bit platforms.

commit 9534896edbc2851d7f6a30e9c5f453c1f449f599
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 05:54:31 2004 -0800

    [SKFDDI]: Use unsigned long for resource base/size.

commit 683f95ce159f6da4a724c1b4bde99e100f981ea7
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 05:52:24 2004 -0800

    [MEDIA]: Use '%z' printf format for size_t.

commit ad1acddcf468fc4109fe7ed159bc89d750d054e7
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 05:47:33 2004 -0800

    [MEDIA]: Print out pointers correctly in dst.c

commit 9926109d8cbfe5d26a6ed5cd70517dbe69462213
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 05:45:04 2004 -0800

    [SMBFS]: Use '%z' printf format for size_t types.

commit 3c35893a88406bf4f92a46403de0f57e82b73725
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Thu Feb 19 05:43:37 2004 -0800

    [PATCH] fix /proc/ide/<chipset> for IDE PCI modules
    
    Make IDE PCI drivers register /proc/ide/<chipset> entries themselves.

commit a425c254062bd0fb1d846e823504e361e804c539
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 05:43:30 2004 -0800

    [NFSD]: Fix u64 printk warnings on some 64-bit platforms.

commit c6141a615c1bfd00c41a8c632781820b3adcde10
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Thu Feb 19 05:43:26 2004 -0800

    [PATCH] remove unused ide_end_taskfile()
    
    Additionally ide_end_drive_cmd() contains all functionality of this function.

commit 04a97afb99ccd43fbbef8babeb7e78e86d090638
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Thu Feb 19 05:43:17 2004 -0800

    [PATCH] remove dead/unfinished taskfile version of ide_cmd_ioctl()

commit 8eeeb1b99c701a4a40ff5d6f456d789338aa1058
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Thu Feb 19 05:43:08 2004 -0800

    [PATCH] remove bogus comment and code from ide_unregister_driver()
    
    When ide_remove_proc_entries() is called, driver specific /proc/ide/hdx/
    entries have been already removed by ->cleanup()->ide_unregister_subdriver().

commit 09eb39e82657c5ea1f8eabd22a94c992373d594c
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Thu Feb 19 05:42:59 2004 -0800

    [PATCH] kill default_flushcache() and ide_drive_t->flushcache

commit 01225f82b51121fa12ef5fc41a67d2ae633e4165
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Thu Feb 19 05:42:50 2004 -0800

    [PATCH] kill default_shutdown() and ide_drive_t->shutdown

commit bd877aaf172d919ba4fed911150e65e2918076c7
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Thu Feb 19 05:42:40 2004 -0800

    [PATCH] kill useless IDE_SUBDRIVER_VERSION

commit ff7e1b286f0ec6080f24c21240a78c3dc6de05fb
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Thu Feb 19 05:42:31 2004 -0800

    [PATCH] keep documentation of kernel parameters in one place only

commit 6b9c49c821b3011f5b95e165f798659c4879fb5a
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Thu Feb 19 05:42:22 2004 -0800

    [PATCH] remove dead kernel parameters
    
    Remove "hdx=flash" (ignored since 2.5.63) and "hdx=slow"
    (ignored since 2.5.41) kernel parameters.
    
    Also remove "slow" entry from /proc/ide/hdx/settings
    and "ata_flash", "nobios" and "slow" fields from ide_drive_t.

commit 2960d4715d0a2abc9621d242d51f6c1f923582ca
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 19 05:42:12 2004 -0800

    [PATCH] x86_64 uniproc build fix
    
    From: Andi Kleen <ak@suse.de>
    
    This fixes some more problems introduced by the IA32e merge on x86-64
    
    - Make it compile on UP again.
    - Let the microcode driver build as a module

commit ffe6dc3c0c7d45b027293016fbbb6a4c5422afb5
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 19 05:42:02 2004 -0800

    [PATCH] smbfs: remove debug code
    
    Remove an unneeded WSET() which snuck in there.

commit 416cd06a92c7f8f739ac883b6ab23f1301575d54
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 19 05:41:53 2004 -0800

    [PATCH] Fix the display of max-ever-used-stack in sysrq-T output
    
    The sysrq-T output currently tries to display the mimimum amount of free
    stack which each task has ever had available.  It has been busted for years,
    because we forgot to zero out the stack when it is first created.
    
    Fix that up, adding a conig option for it.
    
    If the option is disabled, or the arch is not x86 then the free stack usage
    will display as zero.

commit d7790f206ca8f0e5e5f0c6b7dbd8794293903e62
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 19 05:41:44 2004 -0800

    [PATCH] v850 ptrace.c task_struct leak
    
    From: Herbert Poetzl <herbert@13thfloor.at>
    
    sys_ptrace() for v850, if pid == 1, doesn't put the struct task_struct
    (child), the following patch should fix that ...

commit d7f0439b1b6ed7c3c8096975018766c8fd797406
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Feb 19 05:41:35 2004 -0800

    [PATCH] ppc64 compile fix
    
    From: Arjan van de Ven <arjanv@redhat.com>
    
    fix obvious non-C-standard stubs on ppc64

commit 7916fdb09a13fc36b62166b0df41703c50af9726
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 05:39:24 2004 -0800

    [I2C]: If comparing against ULONG_MAX, use ulong type, in lm85.c

commit cdb7bc8f235e3f76a1cd39947810a7de0c915fae
Merge: 0f8b375... d27099d...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Feb 19 05:39:11 2004 -0800

    Merge bk://kernel.bkbits.net/gregkh/linux/usb-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 0f8b375f0f484ccd781c5a55b89dbe36de830757
Merge: 1f0bb3e... 6bac5a4...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Feb 19 05:38:19 2004 -0800

    Merge bk://gkernel.bkbits.net/net-drivers-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 1f0bb3eb737387ab147c02bca0075b29f62eb772
Merge: 6bea918... 18d1ca4...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Feb 19 12:56:14 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/e100-2
    into redhat.com:/spare/repo/net-drivers-2.5

commit 820dbc21510bb2150dbcc7e493c8031c324f8559
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 05:38:03 2004 -0800

    [FREEVXFS]: Fix u64 printk warnings on some 64-bit platforms.

commit 6bac5a4d57ed1460f6bf41fe3c244db52f6edc39
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Feb 19 05:36:48 2004 -0800

    [PATCH] Fix a DMA underrun problem with pmac IDE
    
    This fixes the behaviour of the pmac "macio" IDE driver when a DMA
    transfer happen to get less data out of the device than expected when
    setting up the DMA commands (the device underruns).  This is very common
    with recent ATAPI stuffs and used to cause problem & disable DMA.  This
    patch fixes the way we handle that condition, thus also fixing DVD
    burning on a bunch of recent pmacs.

commit 945350d101ee6235b4daa1b0907b86316b01f4b0
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Feb 19 05:36:39 2004 -0800

    [PATCH] Be careful about memory ordering in sungem driver
    
    Some barriers between setting up the DMA regions and writing the
    descriptor addresses would be most useful.
    
    I had some in my 2.4 version but they got lost someway, probably me not
    properly merging with davem at this point.  The 970 is definitely more
    agressive at re-ordering stores than previous CPUs...
    
    Here is a patch adding some (probably too much, but better safe than
    sorry).

commit 3ff024904c9ba4b37fbbb736d35a0b07435dd532
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 05:30:34 2004 -0800

    [I2C]: Fix resource address typing in i2c-voodoo3.c

commit 5707221a0675e57ea81974d05032e0e4ccde75e2
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 05:29:27 2004 -0800

    [I2C]: Use correct port address types in i2c-velleman.c

commit fe86999eb08894e93052d599c292a0e23b69b4f6
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 05:27:16 2004 -0800

    [I2C]: Fix resource address typing.

commit ba2208ee7dff7f1a35f629898c3ad17dd2e4cb33
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Feb 19 05:19:03 2004 -0800

    [SPARC64]: Update defconfig.

commit 4100b26ee69a8d6cb1e4117b03578b9b0852e170
Author: Sebastian Henschel <linux@de.rmk.(none2)>
Date:   Thu Feb 19 12:47:07 2004 +0000

    [ARM] URL change for linux-on-laptops
    
    Patch from: Sebastian Henschel
    
    Attached is a cosmetic patch for arch/arm/Kconfig which updates the
    URL for Kenneth's page and introduces the URL of tuxmobil.org.

commit 16eadb50790bb5bb17ee9cc907eaae432e3d5ea2
Merge: 70b1932... c1b2007...
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Feb 19 06:07:21 2004 -0500

    Merge

commit d27099da5dbb945e66f4edade59a8f636de7e373
Merge: 70b1932... da74190...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Feb 19 01:12:16 2004 -0800

    Merge kroah.com:/home/greg/linux/BK/bleed-2.6
    into kroah.com:/home/greg/linux/BK/usb-2.6

commit c1b2007c66fed7e4b9a417a1654cdc668143c970
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Feb 19 04:08:49 2004 -0500

    IEEE1394(r1142): Use a kernel thread to rescan devices so we don't block the writer.

commit 6c816ad16a169ff9815e34e5654efb54980ee237
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Feb 19 03:33:50 2004 -0500

    IEEE1394(r1141): Add an "ignore_drivers" global default.

commit 18d1ca4f30e8c549b41162b70ab7cc01651c2252
Merge: 70b1932... 9e2b8d7...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Feb 19 00:25:15 2004 -0800

    Merge http://lia64.bkbits.net/to-linus-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit da741905a353184807e6ac6b9932d9eedc5c7a66
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Feb 19 00:19:27 2004 -0800

    USB storage: sync up with some missing unusual_devs entries that were in my tree.

commit 6e483b0a94a459b255151dbe5af9652f16c0cde7
Author: Andries E. Brouwer <andries.brouwer@cwi.nl>
Date:   Wed Feb 18 23:42:36 2004 -0800

    [PATCH] USB: add comments to sddr09.c
    
    People ask how to write the CIS on a SmartMedia card using an sddr09
    reader/writer.  The patch below documents the required command (but does
    not add the code).
    
    Two years ago or so I used this to fix the CIS on a card that my camera no
    longer wanted to accept.  A Linux utility to do this might be useful, but
    the problem always is that we do not really have a good mechanism.
    
    How does one tell a driver that it has to do something special?  Add yet
    another ioctl?

commit d7176726d92897e464066302a9815a6e21dd5dc4
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 18 23:38:41 2004 -0800

    [PATCH] propogate errors from misc_register to caller
    
    The patch to check for / in class_device is not enough.
    The misc_register function needs to check return value of the things it calls!

commit 6850c4afe829b5689c7096cc68f4679cc985952a
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Wed Feb 18 23:35:35 2004 -0800

    [PATCH] USB: fix up compile errors in uhci driver.

commit b2e723deffb54afa6f5bed1c75b707699cc66ea1
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Feb 18 23:34:39 2004 -0800

    [PATCH] USB: Use driver-model logging in the UHCI driver
    
    The main item in this patch is the conversion of the UHCI driver from
    using the old usb.h logging macros to the new driver-model dev_xxx
    macros.
    
    There are a few other minor changes too: updated version number, author,
    copyright, and maintainer information, removed some unneeded error
    messages, added some line breaks, added a convenience macro for the device
    pointer.

commit 254a79b9401c61903dcd8a5282a253041acebe9e
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Feb 18 23:34:09 2004 -0800

    [PATCH] USB: Repair unusual_devs.h entry
    
    On Fri, 20 Feb 2004, Gustavo Guillermo wrote:
    
    > Ok, I tested the patch, The camera works, just as in the old Kernel,
    > Thanks, I'm including as an atachment the /proc/bus/usb/devices from
    > kernel 2.4.x and 2.6.x, and the kernel log for 2.4.x, but ooops, I forgot
    > to biold 2.4.x with full debug, if someone need it I will do.
    >
    > Please include this FIX in the Next Release.
    
    Greg, I now feel confident that this patch should be applied.

commit 3d11e93daf61c173968cc7c2258f4a4e22477e48
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Feb 18 23:32:56 2004 -0800

    [PATCH] USB: Another unusual_devs.h update
    
    On Thu, 19 Feb 2004, Agustin De Igartua wrote:
    
    > Initializing USB Mass Storage driver...
    > usb-storage: This device (04e6,0002,0100 S 06 P 50) has unneeded SubClass and Protocol entries in unusual_devs.h
    >    Please send a copy of this message to <linux-usb-devel@lists.sourceforge.net>scsi0 : SCSI emulation for USB Mass Storage devices
    
    Thank you for sending this in.  Greg, here's the patch.

commit 40f0e2b8bc299b3d4151fad29fceb40c0459d72a
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Feb 19 00:48:54 2004 -0500

    IEEE1394(r1140): Add a bus rescan bus_attr file, and an ignore_driver attr for ud's

commit 3dc9046fe5706a62d1088b14de30319e025941a0
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Feb 19 00:45:39 2004 -0500

    IEEE1394/SBP2(r1139): Some cleanups, and a better, more unique id for ieee1394_id attribute.

commit 117ace2604ec35f03c6a7b356061eab4a4e45623
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Wed Feb 18 21:09:14 2004 -0800

    [PATCH] sys_device_[un]register() are not syscalls
    
    sys_xyz() names in Linux are all syscalls... except for
    sys_device_register() and sys_device_unregister().
    
    This patch renames them so that the sys_ namespace is once
    again used only by syscalls.

commit 9e2b8d7faf06471e000544de7fde79a3902dcd2d
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Wed Feb 18 19:28:05 2004 -0800

    ia64: Back-port from libunwind: fix off-by-one error in kernel-unwinder.
    
    There are no known failures due to this bug, but it's clearly a bug and
    given the right compiler, it could trigger and lead to bad stack traces etc.

commit c95f5b8dd33c5ef1c02af4888618881ce9a95351
Author: Pat Gefre <pfg@sgi.com>
Date:   Wed Feb 18 19:06:58 2004 -0800

    [PATCH] ia64: cleanup SN2 pci_bus_cvlink.c
    
    I incorporated (at least in spirit I hope) hch's suggestions on the fixup code
    put in some kfrees that I was missing and static for sn_alloc_pci_sysdata
    (thanks Bartlomiej Zolnierkiewicz).  White space clean up.

commit fbcbb319f15e19668739ca16b0e565ddcc72e659
Merge: 70b1932... 584c6db...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Wed Feb 18 19:04:28 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/sparcwork-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit df39ffc5567b3f03bb6260ff0dca8ad7bbbb2f71
Author: Martin Hicks <mort@sgi.com>
Date:   Wed Feb 18 18:50:29 2004 -0800

    [PATCH] ia64: clean up SN2 setup.c
    
    Cleanup the SN setup.c file.  Add __init and static to functions where
    required.

commit 6a62de5f7b11adf2d6054806e411a981aeb5a988
Author: Martin Hicks <mort@sgi.com>
Date:   Wed Feb 18 18:49:01 2004 -0800

    [PATCH] ia64: SN2 header file cleanups
    
    Here is a patch to clean up some of the Altix header files and includes.
    
    I've run the patch past the appropriate people at SGI and they seem happy
    with the changes.

commit 4235198ed63a0e36db5f0b69b7e04796aa2507ef
Author: Pat Gefre <pfg@sgi.com>
Date:   Wed Feb 18 18:47:27 2004 -0800

    [PATCH] ia64: on SN2, skip init_platform_hubinfo() if on the simulator

commit 00be8a06da6384e177165455a33201a9e56ac700
Author: Pat Gefre <pfg@sgi.com>
Date:   Wed Feb 18 18:46:32 2004 -0800

    [PATCH] ia64: on SN2, use the pda to count interrupts

commit 70b1932013a6380f35d4d84d1b39e64616b15c1d
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:40:04 2004 -0800

    [PATCH] show_task() is not SMP safe
    
    From: Arnd Bergmann <arnd@arndb.de>
    
    Christian Bornträger noticed that the kernel can crash after <SysRq>-T.  It
    appears that the show_task function gets called for all tasks, which does
    not work if one of the tasks is running in a system call on another CPU.
    In that case the result of thread_saved_pc and show_stack is undefined and
    likely to cause a crash.
    
    For tasks running in user space on other CPUs, show_task() is probably
    harmless, but I'm not sure if that's true on all architectures.
    
    The patch below is still racy for tasks that are about to sleep, but it
    demonstrates the problem.

commit 87f095b8e4710137fd086ed28c3b2b086dd4437e
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:39:53 2004 -0800

    [PATCH] show_task() fix and cleanup
    
    show_task() is preinting negative numbers for free stack due to arithmetic
    against the wrong pointer.
    
    Fix that up, and clean up a few related things.
    
    show_task still has bogus code which atempts to work out how much stack the
    task has ever used - it cannot work because we don't actually zero out the
    stack pages when allocating them.  We should fix that, or take it out.

commit a25a6d9af6241d1fbc961fc55375f843c3139092
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:39:43 2004 -0800

    [PATCH] print some x86 build options during oopses
    
    I find this handy sometimes: it makes the oops output include info as to
    whether the user has selected CONFIG_PREEMPT, CONFIG_SMP or, particularly,
    CONFIG_DEBUG_PAGEALLOC.  It can save one email round-trip.

commit c1588714543b1284baf62ac082b3bc24d9c4eb73
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:39:33 2004 -0800

    [PATCH] config option for irqbalance
    
    From: "Martin J. Bligh" <mbligh@aracnet.com>
    
    Make irqbalance into a config option - some people (jgarzik, arjan, etc)
    wanted to be able to disable it and do things from userspace instead.  This
    patch allows each camp to do their own thing, which seems fair ;-)

commit 39e237fde471632796a7e307625a532ec8aef692
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:39:22 2004 -0800

    [PATCH] ia32: disallow NUMA on PC subarch
    
    From: "Martin J. Bligh" <mbligh@aracnet.com>
    
    Disallow NUMA on the i386 PC subarch (it doesn't work, nor was it intended
    to).

commit a0d3ab68294a9bf617e85cfff9490897e2370db1
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:39:12 2004 -0800

    [PATCH] ia32: pfn_to_nid fix
    
    From: "Martin J. Bligh" <mbligh@aracnet.com>
    
    Makes sure pfn_to_nid is defined for all combinations of subarches, and that
    it's defined before it's used so we don't run into implicit declaration
    problems.

commit 766e012ad6da18cd940874bcf3afe38574b8916a
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:39:02 2004 -0800

    [PATCH] fix pfn_valid on ia32 discontigmem
    
    From: "Martin J. Bligh" <mbligh@aracnet.com>
    
    Fix pfn_valid for architctures with discontiguous memory.  This only
    changes the NUMA definition, and it leaves the NUMA-Q definition as was,
    because it's faster that way, it's in hotpaths, and our memory is always
    contiguous.

commit 05789ebc3647e48aaa554d1c456935c044d82fb6
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:38:51 2004 -0800

    [PATCH] fix access() POSIX compliance
    
    From: Andreas Gruenbacher <agruen@suse.de>
    
    The fix for permission() that makes it compliant with POSIX.1-2001
    apparently was lost.  Here is the patch I sent before.  (The relevant lines
    from the standard text are cited in
    http://www.ussg.iu.edu/hypermail/linux/kernel/0310.2/0286.html.  The fix
    proposed in that posting did not handle directories without execute
    permissions correctly.)
    
    
    Make permission check conform to POSIX.1-2001
    
    The access(2) function does not conform to POSIX.1-2001: For root
    and a file with no permissions, access(file, MAY_READ|MAY_EXEC)
    returns 0 (it should return -1).

commit 808fde0a47620ad3bcc5ac7867a04c3005fdb97b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:38:40 2004 -0800

    [PATCH] gcc-3.5: bonding
    
    drivers/net/bonding/bond_alb.c: In function `bond_alb_xmit':
    drivers/net/bonding/bond_alb.c:1188: error: invalid lvalue in assignment

commit 5d11ce4d95e26b5d71bf0e7932a4a0013738dee5
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:38:29 2004 -0800

    [PATCH] use noinline for rest_init()
    
    gcc-3.4 incorretly inlines rest_init() into start_kernel(), causing things to
    crash when the .text.init section gets unloaded.  Use noinline to prevent
    that.

commit ce9209830680a4f351614fcc07ac6ea03d99012e
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:38:18 2004 -0800

    [PATCH] Add noinline attribute
    
    From: Andi Kleen <ak@muc.de>
    
    This patch adds the `noinline' function attribute.  It can be used to
    explicitly tell the compiler to not inline functions.
    
    We need this due to what is, IMO, a bug present in gcc-3.4 and current
    gcc-3.5 CVS: the compiler is inlining init/main.c:rest_init() inside
    init/main.c:start_kernel(), despite the fact that thay are declared to be
    placed in different text sections.

commit b882d4443755e112e90d1fc7049adff7c75aba17
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:38:07 2004 -0800

    [PATCH] Use -funit-at-a-time on ia32
    
    From: Andi Kleen <ak@muc.de>
    
    The upcomming gcc 3.4 has a new compilation mode called unit-at-a-time.
    What it does is to first load the whole file into memory and then generate
    the output. This allows it to use a better inlining strategy, drop unused
    static functions and use -mregparm automatically for static functions.
    
    It does not seem to compile significantly slower.
    
    This is also available in some of the 3.3 based "hammer branch"
    compilers used in distributions (at least in SuSE and Mandrake)
    
    Some tests show impressive .text shrinkage from unit-at-a-time.
    
    e.g. here is the same kernel compiled with -fno-unit-at-a-time and
    -funit-at-a-time with a gcc 3.4 snapshot. The gains are really
    impressive:
    
       text    data     bss     dec     hex filename
    4129346  708629  207240 5045215  4cfbdf vmlinux-nounitatatime
    3999250  674853  207208 4881311  4a7b9f vmlinux-unitatatime
    
    .text shrinks by over 130KB!. And .data shrinks too.
    
    At first look the numbers look nearly too good to be true, but they have been
    verified with several configurations and seem to be real. It looks like
    we have a lot of stupid inlines or dead functions. I'm really not
    sure why it is that much better. But it's hard to argue with hard
    numbers.
    
    [A bloat-o-meter comparision between the two vmlinuxes can be found in
    http://www.firstfloor.org/~andi/unit-vs-no-unit.gz . It doesn't show
    any obvious candidates unfortunately, just lots of small changes]
    
    With the gcc 3.3-hammer from SuSE 9.0 the gains are a bit smaller, but
    still noticeable (>100KB on .text)
    
    This patch enables -funit-at-a-time on ia32 if the compiler is gcc-3.4 or
    later.  We had several reports of gcc-3.3 producing very early lockups.

commit e852f3182f3ea80239e1b46eecadf57604c39bd9
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:37:55 2004 -0800

    [PATCH] Add CONFIG for -mregparm=3
    
    From: Andi Kleen <ak@muc.de>, me.
    
    Using -mregparm=3 shrinks the kernel further:
    
    (compiled with gcc 3.4, without -funit-at-a-time, using the later and
    together with -Os shrinks .text even more, making over 700KB difference)
    
    4129346  708629  207240 5045215  4cfbdf vmlinux
    3892905  708629  207240 4808774  496046 vmlinux-regparm
    
    This one helps even more, >236KB .text difference. Clearly worth
    the effort.
    
    This patch adds an option to use -mregparm=3 while compiling the kernel.  I
    did an LTP run and it showed no additional failures over an non regparm
    kernel.
    
    According to some gcc developers it should be safe to use in all gccs that
    are still supports (2.95 and up)
    
    I didn't make it the default because it will break all binary only modules
    (although they can be fixed by adding a wrapper that calls them with
    "asmlinkage").  Actually it may be a good idea to make this default with
    2.7.1 or somesuch.
    
    We add new kbuild infrastructure: the command
    
    	scripts/gcc-version.sh $(CC)
    
    will print out the version of gcc in a canonical 4-digit form suitable for
    performing numerical tests against.
    DESC
    arch/i386/Makefile,scripts/gcc-version.sh,Makefile small fixes
    EDESC
    From: Serge Belyshev <33554432@mtu-net.ru>
    
    arch/i386/Makefile:
    *  omitted $(KBUILD_SRC)/ in script call.
    
    scripts/gcc-version.sh:
    *  GNU tail no longer supports 'tail -1' syntax.
    
    We should consider adding -fweb option:
    
       vanilla:
       $ size vmlinux
          text    data     bss     dec     hex filename
       3056270  526780  386056 3969106  3c9052 vmlinux
    
       with -fweb:
       $ size vmlinux
          text    data     bss     dec     hex filename
       3049523  526780  386056 3962359  3c75f7 vmlinux
    
       Also note 0.1 ... 1.0% speedup in various benchmarks.
       This option is not enabled by default at -O2 because it
       (like -fomit-frame-pointer) makes debugging impossible.

commit 56cf70578f93237aab62d02fd14071d998338e06
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:37:44 2004 -0800

    [PATCH] page_add_rmap(): remove meaningless test
    
    Remove page validity test.  I had a warning in there for a few weeks, no
    reports of it happening.

commit 86c662db040406a7fe77f036df72f418b3f7fe1c
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:37:32 2004 -0800

    [PATCH] slab: hexdump for check_poison
    
    From: Manfred Spraul <manfred@colorfullife.com>
    
    The patch is designed improve the diagnostics which are presented when the
    slab memory poison detector triggers.
    
    
    check_poison_obj checks for write accesses after kfree by comparing the
    object contents with the poison value.  The current implementation contains
    several flaws:
    
    - it accepts both POISON_BEFORE and POISON_AFTER.  check_poison_obj is
      only called with POISON_AFTER poison bytes.  Fix: only accept
      POISON_AFTER.
    
    - the output is unreadable.  Fix: use hexdump.
    
    - if a large objects is corrupted, then the relevant lines can scroll of
      the screen/dmesg buffer.  Fix: line limit.
    
    - it can access addresses behind the end of the object, which can oops
      with CONFIG_DEBUG_PAGEALLOC.  Fix: bounds checks.
    
    Additionally, the patch contains the following changes:
    
    - rename POISON_BEFORE and POISON_AFTER to POISON_FREE and POISON_INUSE.
      The old names are ambiguous.
    
    - use the new hexdump object function in ptrinfo.
    
    - store_stackinfo was called with wrong parameters: it should store
      caller, i.e.  __builtin_return_address(0), not POISON_AFTER in the
      object.
    
    - dump both the object before and after the corrupted one, not just the
      one after.
    
    Example output:
    <<<
    Slab corruption: start=194e708c, len=2048
    Redzone: 0x5a2cf071/0x5a2cf071.
    Last user: [<02399d7c>](dummy_init_module+0x1c/0xb0)
    010: 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 7b
    030: 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 63
    Prev obj: start=194e6880, len=2048
    Redzone: 0x5a2cf071/0x5a2cf071.
    Last user: [<00000000>](0x0)
    000: 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b
    010: 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b 6b
    <<<

commit c03544ddab373e1b0a07eef7bc44a02dad224ab8
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:37:22 2004 -0800

    [PATCH] prevent ptrace from altering page permissions
    
    From: Roland McGrath <roland@redhat.com>
    
    Under some circumstances, ptrace PEEK/POKE_TEXT can cause page permissions
    to be permanently changed.  Thsi causes changes in application behaviour
    when run under gdb.
    
    Fix that by only marking the pte as writeable if the vma is marked for
    writing.  A write fault thus unshares the page but doesn't necessarily make
    it writeable.

commit a177d62cba196bf5affec5f778b092f5d7c91f54
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:37:12 2004 -0800

    [PATCH] slab: print slab name in kmem_cache_init()
    
    Print the name of the offending slab if we're going to go BUG in
    kmem_cache_init().

commit 8b5f47aae9e37100848dd9a2aed748d73c444d30
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 16:37:00 2004 -0800

    [PATCH] ramdisk cleanup
    
    Fairly pointless coding-style cleanups which I've been sitting on for ages.
    The ramdisk driver is still buggy: it drops pagecache when unmounted.  I
    still need to fix this.
    
    Apparently it also displays data corruption under load even when not
    unmounted.

commit fb81a906a555038d7554fa6059d237ea20374b3f
Author: Patrick Mansfield <patmans@us.ibm.com>
Date:   Wed Feb 18 14:21:05 2004 -0500

    [PATCH] have CONFIG_SCSI_PROC_FS depend on CONFIG_PROC_FS
    
    Patch against recent 2.6: have CONFIG_SCSI_PROC_FS depend on
    CONFIG_PROC_FS, as configuring CONFIG_SCSI_PROC_FS without
    CONFIG_PROC_FS prevents scsi core from initializing.

commit 5dc63aa18649a32d15bb4c8a0d683ae8cc21f797
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Feb 18 14:17:25 2004 -0500

    [PATCH] move remaining definitions from drivers/scsi/scsi.h to include/scsi
    
    Simple move for a bunch of definitions so driver can finally stop doing
    the -Idriver/scsi mess.  I'd like to get it out ASAP because the distros
    are going to branch their first 2.6 releases soon and the vendors will
    want to support those basically forever.

commit 8a5669b08a6c47cc195830428589fec5c77bb472
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Wed Feb 18 14:15:06 2004 -0500

    [PATCH] qla2xxx -- FCP_RSP IU check during command completion.
    
    While processing command completions in qla2x00_status_entry()
    interrogate the FCP_RSP IU in case of any FCP protocol errors (FCP-3,
    9.4.11) during command execution.  If there were any failures, schedule
    a retry of the command via DID_BUS_BUSY.
    
    [Corrected patch attached.  Thanks to RA for pointing this out.]

commit 5f84f92467da5d6c274090943e3d4c8212be96fe
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Wed Feb 18 14:08:19 2004 -0500

    [PATCH] qla2xxx -- Properly schedule mailbox command timeouts.
    
    For mailbox commands which the firmware internally times-out in
    2 * R_A_TOV, the driver should timeout no sooner than 2.5 * R_A_TOV so
    we do not inappropriately schedule an ISP abort.

commit 69e1a9482e5773c89fac28a272921b571657ceb0
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Feb 18 14:06:25 2004 -0500

    [PATCH] fix up NCR5380 private data
    
    Use the private data passed to request_irq instead of looping over all
    controllers.  The patch was ACKed by Alan a while ago.
    
    Note that the patch only looks so huge because of the two leves of
    indentation removed by the tiny chage.

commit 26281b1448443be121bf15ae0a23a66f1d765dbb
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Feb 18 14:05:30 2004 -0500

    [PATCH] fix up ini9100 interrupt handling
    
    Currently is has a different irq handler for every "supported" chip.
    Make use of the private data passed to request_irq instead.

commit 4f68a7739c09f2bb4d92725030c6807b9dc2bde9
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Feb 18 14:03:08 2004 -0500

    [PATCH] Remove CONFIG_SCSI_DC390T_NOGENSUPP
    
    Now that the Am53C974 driver is gone it doesn't make sense to not
    support all Am53C974-based cards, and the amount of code under the ifdef
    is tiny anyways.

commit e2723daf9a6450f4fadca9ffd1cfe1629bfb7dc5
Author: Brian King <brking@us.ibm.com>
Date:   Wed Feb 18 14:01:01 2004 -0500

    [PATCH] SCSI: Make retries obey host_self_blocked flag
    
    The following patch against 2.6.2 will prevent the midlayer from
    issuing retries if host_self_blocked is set. This was raised as an
    issue here:
    
    http://marc.theaimsgroup.com/?l=linux-scsi&m=107357742430401&w=2

commit 052f3330f7ee4aab55d53586b97d08f9175d83d6
Author: David S. Miller <davem@redhat.com>
Date:   Wed Feb 18 13:40:49 2004 -0500

    [PATCH] qla2xxx: remove flush_cache_all

commit 149d022bb4e3fa459dc0d5de4cf0020b60c8bbd5
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Feb 18 13:37:30 2004 -0500

    [PATCH] remove flush_cache_all() from qla1280
    
    It's not needed with the new DMA API and isn't exported to modules on
    some architectures.  (See davem's qla2xxx patch for reference)

commit 176be0016c894fbbea4cca32069843243949ddb7
Author: Mark Haverkamp <markh@osdl.org>
Date:   Wed Feb 18 10:35:51 2004 -0500

    [PATCH] add card types to aacraid driver
    
    This patch adds support for new RAID cards.  Also removes two cards from
    the list that were never products.
    
    
     Makefile  |    2
     aacraid.h |   21 +++
     linit.c   |   32 +++-
     rkt.c     |  416 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
     rx.c      |   10 -
     5 files changed, 465 insertions(+), 16 deletions(-)

commit b89846747b3845ece9e31629800a60a2cdf7b607
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Feb 18 09:38:06 2004 -0500

    IEEE1394(r1138): Cleanup nodemgr probe, and fix a bug with the driver update.

commit 06d1514e85d1e5161a3e081880bc2e9244fe7e8a
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Feb 18 06:15:10 2004 -0800

    [PATCH] fixes to ColdFire/5407 startup code
    
    Correct the cache setup bits for the 5407. This enables the write
    buffers properly (despite what the previous comment said). This
    combined with fixed cache flushing code provides a nice performance
    boost on the 5407.
    
    Also fix the ROMfs setup to only move the ROMfs region if it is actually
    configured.

commit 6106a23e9a6f6275680168f2037502362355d2aa
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Feb 18 05:45:08 2004 -0800

    [PATCH] add m68k elf relocation types to elf.h
    
    Added ELF relocation type defines.  These are needed by the module
    loading code for m68knommu.

commit 85bf4b02b96e6c6ee233961b15dc464202ae89c0
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Feb 18 05:41:28 2004 -0800

    [PATCH] allow configuration for shared flat binary support
    
    This adds the configuration option to enable the uClinux shared flat
    binary support.  The code support is already in the binfmt_load code,
    just the config option is missing.

commit a6c1bb842b6b6360d308db155d80a2d6101cda3b
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Feb 18 05:41:19 2004 -0800

    [PATCH] fix memory leaks in binfmt_flat loader
    
    Fix a number of memory leaks in the uClinux binfmt_flat loader.  All are
    related to not cleaning up properly on failure conditions.

commit 6cb9b20a13349b05e21e92d48bb330ca7fe8892e
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Feb 18 08:24:55 2004 -0500

    IEEE1394(r1137): Check to make sure we have a hostinfo in sbp2_host_reset.

commit 98fabcaab54ecd736cfc0f290e9e05cffb0294a0
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 05:00:18 2004 -0800

    [PATCH] aio sysctl parms
    
    From: Janet Morgan <janetmor@us.ibm.com>
    
    It looks like aio_nr and aio_max_nr were intended to be sysctl parameters.

commit 9c27c441c924a4220b7578ff21f8eec29d3eb24e
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 05:00:09 2004 -0800

    [PATCH] mark ftape un-removable
    
    From: Christoph Hellwig <hch@lst.de>
    
    I've just grepped over the tree for reamining MOD_INC_USE_COUNT users, and
    ftape is a really horrible one, it relies on MOD_{INC,DEV}_USE_COUNT in the
    most horrible places + it's own bookkepping and the <= 2.4 may unload
    hooks.  And although I don't have the hardware I can guarantee it doesn't
    work as expected.
    
    So let's just remove the module_exit handler and mark it unremovable, if
    someone wants to fix up ftape later it's fine with me, but it's a really
    scary driver..

commit c5ec49503f0ad99edbd9be12c43c759a28a323d2
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 05:00:00 2004 -0800

    [PATCH] Add C99 initializers to arch/i386/pci/fixup.c
    
    From: "Art Haas" <ahaas@airmail.net>
    
    Here's a small patch that adds C99 initializers to the file.

commit 1295f3375ee01ca30f1ee9ce706310a56138c6f8
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:59:51 2004 -0800

    [PATCH] crc32.c copyright fix
    
    From: Matt Domsch <Matt_Domsch@dell.com>
    
    Patch below applies to both 2.4.25 and 2.6.3, and replaces the public
    domain statement and non-warranty with the GPL, as is permitted by the code
    being in the public domain, and is done with legal advice.

commit 7541c77e4d038366d5642701a511ade2ccd1138d
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:59:42 2004 -0800

    [PATCH] tuner driver fixes
    
    From: Gerd Knorr <kraxel@bytesex.org>
    
    "options tuner type=2" is just there for historical reasons and should
    only be used/needed if the main driver doesn't allow to configure the
    tuner type.  I'm not sure whenever I can remove that altogether without
    breaking anything.  There are several users of the tuner module, some
    outside the standard kernel tree ...
    
    > >         if (type < TUNERS) {
    > > +               t->type = type;
    > >                 printk("tuner: type forced to %d (%s) [insmod]\n",
    > >                        t->type,tuners[t->type].name);
    > >                 set_type(client,type);
    
    That is wrong, it will break in other corner cases, it may cause the
    set_type() function not doing the initializations.
    
    The prink can also be dropped because set_type does that too.  The patch
    below removes that.  It also makes the kernel messages a bit more verbose
    and adds support for two new tuners.

commit 61ac12a0eb10224867fa820a5639a7b1feca7bf5
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:59:33 2004 -0800

    [PATCH] wireless/Kconfig enable/select complete replacement
    
    From: mcgrof@studorgs.rutgers.edu (Luis R. Rodriguez)
    
    Complete the migration from Kconfig's undocumented "enable" to "select".

commit 499104b6a0075edf7e1fe2ba5b6123f335f26897
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:59:24 2004 -0800

    [PATCH] Fix sprintf modifiers in usr/gen_init_cpio.c for cygwin
    
    From: Pragnesh Sampat <pragnesh.sampat@timesys.com>
    
    The file initramfs_data.cpio is slightly different when generated on
    cygwin, compared to linux, which causes the kernel to panic with the
    message "no cpio magic" (See Documentation/early-userspace/README).
    
    The problem in cpio generation is due to the difference in sprintf
    modifiers on cygwin.  The code uses "%08ZX" for strlen of a device node.
    printf man pages discourages "Z" and has 'z' instead.  Both of these are
    not available on cygwin sprintf (at least some versions of cygwin).  The
    net result of all of this is that the generated file literally contains
    "ZX" and then the strlen after that and messes up that 110 offset etc.  The
    file is 516 bytes long on the system that I tested and on linux it is 512
    bytes.
    
    The fix below just uses "%08X" for that field.

commit aa81900ec1ee8cc5f3ae56db52ad9b59a90cfe4a
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:59:15 2004 -0800

    [PATCH] smbfs: support the loop driver
    
    From: Urban Widmark <urban@teststation.com>
    
    Add the necessary bits for loop-over-smbfs.

commit 560362dafe4de60db70f2c298a53f4613453a78b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:59:06 2004 -0800

    [PATCH] Codingstyle update
    
    From: Michael Frank <mhf@linuxmail.org>

commit f6dfc2651b74d6302d96349f21cd57deb961690b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:58:57 2004 -0800

    [PATCH] Remove overenthusiastic BUG in smp_boot_cpus
    
    From: "Martin J. Bligh" <mbligh@aracnet.com>
    
    There's no real need to BUG and stop the system from booting if the BIOS
    spec'ed apicid for the boot CPU isn't correct - we can continue perfectly
    well with the real one.

commit 8c357c02fb96d7ac1ece715dfbea2ec4d0b980e5
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:58:48 2004 -0800

    [PATCH] sf16fmr2 radio card driver
    
    From: "ZIGLIO, Frediano, VF-IT" <Frediano.Ziglio@vodafone.com>
    
    Add a new driver for the SF16FMR2 Radio card.

commit 68d0141646c41f9f5bf1ee8b446abf032c2350f1
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:58:38 2004 -0800

    [PATCH] Inefficient TLB flush fix
    
    From: Martin Hicks <mort@wildopensource.com>
    
    This is a patch based on one that Jack Steiner sent to the ia64 list in
    November.  The original thread can be found at:
    
    http://marc.theaimsgroup.com/?l=linux-ia64&m=106869606922555&w=2
    
    I created the little wrapper function that was requested.  I think the only
    other arch, other than ia64, that doesn't at least include asm-generic/tlb.h
    is arm.
    
    
    Something appears broken in TLB flushing on IA64 (& possibly other
    architectures).  Functionally, it works but performance is bad on systems
    with large cpu counts.
    
    The result is that TLB flushing in exit_mmap() is frequently being done via
    IPIs to all cpus rather than with a "ptc" instruction or with a new
    context..

commit 9d02772a1c2c6cd9705ba17c4ff49e9db5e3cd85
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:58:29 2004 -0800

    [PATCH] menuconfig: fix the check for ncurses-devel
    
    From: Sam Ravnborg <sam@ravnborg.org>
    
    Corrected check for missing ncurses-devel when executing "make menuconfig".
    Now tell user to install 'ncurses-devel' if check fails.

commit 4550fd734acd873360788e5e5f8265fb45f3aa84
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:58:20 2004 -0800

    [PATCH] Fix make rpm when using RH9 or Fedora..
    
    From: Thomas Davis <tadavis@lbl.gov>
    
    Doing a 'make rpm' will fail with the current RH9/Fedora RPM macros.
    
    The failure message is this:
    
    Processing files: kernel-debuginfo-2.6.3rc1mm1-12
    error: Could not open %files file /usr/src/redhat/BUILD/kernel-2.6.3rc1mm1/debugfiles.list: No such file or directory
    
    The fix is this patch:

commit 542c3b0adde702e8773b43f5903f9e46105e532e
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:58:11 2004 -0800

    [PATCH] dm-crypt
    
    From: Christophe Saout <christophe@saout.de>
    
    Adds a crypto module for device-mapper.  The intent here is to remove
    cryptoloop ASAP, to pull the remapping gunk out of the loops driver and to
    migrate people onto dm-crypt.  It is on-disk compatible with existing
    cryptolop installations.
    
    See http://www.saout.de/misc/dm-crypt/ for usage details.

commit 7ee4ef584a582a24ce17b5af8e631146a7356f43
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:58:01 2004 -0800

    [PATCH] Disable bootmem warning
    
    From: Andi Kleen <ak@suse.de>
    
    Make the "hm, page reserved twice" message dependent on CONFIG_DEBUG_BOOTMEM.

commit 725fb82e87127023870aa299b1944234217d6dc3
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:57:52 2004 -0800

    [PATCH] ide-tape: remove obsolete onstream support
    
    From: Willem Riede <wrlk@riede.org>
    
    
    The onstream drives, be they scsi, atapi, ieee1394 or usb, are supported by the
    osst driver.  When the drives were new, code was introduced in ide-tape
    independently, but never really maintained since.  There are issues with the
    drives I found and dealt with in osst, that ide-tape doesn't address.
    
    So this code in ide-tape is both redundant and imperfect.  I assumed from
    http://marc.theaimsgroup.com/?l=linux-kernel&m=107550547613846&w=2 that there
    was buy in for removing it.
    
    When this patch is applied, ide-tape will refuse to attach to an onstream DI
    drive, and will write to syslog to use ide-scsi + osst instead.

commit fc5b4cfea2303887e2a840e3242daf2b77641f73
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:57:43 2004 -0800

    [PATCH] do_swap_page() return value fix
    
    From: BlaisorBlade <blaisorblade_spam@yahoo.it>
    
    An exhausted do_swap_page() should return VM_FAULT_OOM rather than -ENOMEM.

commit 851c937d1f2b539769f37ff86347c5adf4aad561
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:57:34 2004 -0800

    [PATCH] slab: remove extraneous printk
    
    From: "David S. Miller" <davem@redhat.com>
    
    From: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    
    If I create some kmem cache on 64-bit with like 3 u32's in it, it should
    silently just work and not warn.

commit 2328d92a649711aed184534a0de0ee1d2e91d3ab
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:57:25 2004 -0800

    [PATCH] Fix race in epoll_ctl(EPOLL_CTL_MOD)
    
    From: Davide Libenzi <davidel@xmailserver.org>
    
    A potential race can happen in epoll_ctl(EPOLL_CTL_MOD) where an event can
    happen in between f_op->poll() and the lock on ep->lock (we cannot call
    f_op->poll() inside a lock, and the f_op->poll() callback does not carry
    any info at the current time - missing wake_up_info() already ;).  In that
    case the event would be removed.  We can easily leave the event inside the
    ready list and have the ep_send_events() logic do the job for us at later
    time.  (Thanks to david.lee@teracruz.com for reporting the thing, since it
    shouldn't have been a nice one ;)

commit 2268bb304be10a41c00781dd2a1cf981377c0923
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:57:16 2004 -0800

    [PATCH] add clock_was_set() to all architectures
    
    From: Anton Blanchard <anton@samba.org>
    
    Add clock_was_set to all architectures.  I'm disappointed this wasnt done by
    whoever wrote the code.
    
    (It is a callback which the arch-specific RTC-updating code must make when
    someone sets the time).

commit 580c4c3b4476f9baadd4be483fd75b315bea3530
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:57:07 2004 -0800

    [PATCH] Module headers cleanup
    
    From: Brian Gerst <bgerst@didntduck.org>
    
    Cleans up some leftovers from the old module loader:
    
    - Remove unused defines from modules.h
    
    - Remove unused file modsetver.h

commit e954d91056cf051eb0fa50c440f0cc603df03e4a
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:56:58 2004 -0800

    [PATCH] Documentation on how to debug modules
    
    From: Alex Goddard <agoddard@purdue.edu>
    
    How to debug module loading problems.  The wording is a slightly changed
    version of what Rusty said.

commit 43630c2cf39121fef7c8e49dff028b320870c80b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:56:48 2004 -0800

    [PATCH] Fix __release_region() race
    
    From: MAEDA Naoaki <maeda.naoaki@jp.fujitsu.com>
    
    I am testing PCI hot-plug in 2.6.2 kernel, but sometimes a struct resource
    tree in kernel/resource.c was broken if multiple hot-plug requests are
    issued at the same time.
    
    The reason is lots of drivers call release_region() on hot removal, and
    __release_region(), which is invoked by release_region() macro, changes the
    tree without holding a writer lock for resource_lock.
    
    I think __release_region() must hold a writer lock as well as
    __request_region() does.
    
    A following patch fixes the issue in my environment.

commit b75add94ae319a72f0eb31ac8482ac12057dce30
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:56:39 2004 -0800

    [PATCH] remove max_anon limit
    
    From: Tim Hockin <thockin@sun.com>
    
    Remove the max_anon via dynamically allocation.  We also change the
    idr_pre_get() interface to take a gfp mask, which should have always been
    there.

commit 7de09205dfa6911306464954015921fc90a9eafd
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:56:30 2004 -0800

    [PATCH] oprofile: add Pentium Mobile support
    
    From: Philippe Elie <phil.el@wanadoo.fr>
    
    From: Will Cohen <wcohen@redhat.com>
    
    Add oprofile support for Pentium Mobile (P6 core).  Pentium Mobile needs to
    unmask LVPTC vector, since it doesn't hurt other P6 core based cpus we do
    it unconditionally for all these.
    
    This patch require userspace tools >= 0.8 (only in sourceforge cvs currently)

commit 3a67d0c3cb2f8065d9fb63aeabe07a5525af3edf
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:56:21 2004 -0800

    [PATCH] oprofile: ARM infrastructure
    
    From: Philippe Elie <phil.el@wanadoo.fr>
    
    From: Zwane Mwaikambo <zwane@arm.linux.org.uk>
    
    This patch adds infrastructure code and enables ARM to utilise the timer
    int oprofile driver.  There is PMU code under development for the XScale
    but that is still forthcoming.  In the meantime you can use the timer int
    driver with an updated Oprofile-CVS userspace (SF is a bit slow, please
    allow 24hrs).

commit 01d5c986e8c3e88a54349564b40ea5d9b1671839
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:56:11 2004 -0800

    [PATCH] Oprofile: fix nmi_timer_int detection
    
    From: Philippe Elie <phil.el@wanadoo.fr>
    
    From: Zwane Mwaikambo <zwane@arm.linux.org.uk>
    
    The nmi_timer_int oprofile driver was enabling itself unconditionally if an
    SMP kernel was being used on a UP system without an IOAPIC.
    
    Tested on a P5 using NMI timer int driver and UP system using timer int
    driver both running an SMP kernel.
    
    2004-02-11  Zwane Mwaikambo <zwane@arm.linux.org.uk>
    
    	* arch/i386/kernel/nmi.c: export nmi_active
    	* arch/i386/oprofile/nmi_timer_int.c: use it to check if owe can use
    	  an nmi interrupt

commit 9d6f9be191b8003f7e61c81a57475a95d24e0adc
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:56:02 2004 -0800

    [PATCH] 3c59x: bring back the `enable_wol' option
    
    Some machines appear to have BIOS problems which are causing 3c59x adapters
    to come up in a powered-off state when WOL and PM are enabled.
    
    So bring back the 2.4 `enable_wol' module option which disables wake-on-lan
    unless the user specifically asked for it.

commit f96489a246d873c1995d52ff8ffc3a33427e8cb4
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:55:53 2004 -0800

    [PATCH] cleanup patch that prepares for 4Kb stacks
    
    From: Arjan van de Ven <arjanv@redhat.com>
    
    I have 4Kb stacks + IRQ stacks working in my tree.  The biggest part of the
    4K-stacks work is changing hardcoded 8Kb assumptions to the proper,
    pre-existing define for this.  That part of the patch is appropriate in
    general, even when 4Kb stacks might not be.

commit 0c39a2fa0c7cf6b60c6b78ab7c4934ef1ca3318d
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:55:44 2004 -0800

    [PATCH] fix display of NBD in /proc/partitions
    
    The recent change to /proc/partitions which prevents it from displaying
    removeable media accidentally caused 128 NBD and 16 ramdisk partitions to
    appear in /proc/partitions instead.
    
    So add a specific gendisk flag which says "don't show me in /proc/partitions"
    and use that.

commit 0b9ce3ae5d378c02e6d3fb53fa6c6a51c38ac8ba
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:55:35 2004 -0800

    [PATCH] skip offline CPUs in show_free_areas
    
    From: Christoph Hellwig <hch@lst.de>
    
    Don't try to display the per-cpu information for CPUs which aren't there.

commit 6a69bfeed836db64c6c3e16881d28c887bf52322
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:55:26 2004 -0800

    [PATCH] off_t in nfsd_commit needs to be loff_t
    
    From: Neil Brown <neilb@cse.unsw.edu.au>,
    
    From: Miquel van Smoorenburg <miquels@cistron.nl>
    
    While I was stress-testing NFS/XFS on 2.6.1/2.6.2-rc, I found that
    sometimes my "dd" would exit with:
    
    	#  dd if=/dev/zero bs=4096 > /mnt/file
    	dd: writing `standard output': Invalid argument
    	1100753+0 records in
    	1100752+0 records out
    
    After adding some debug printk's to the server and client code and some
    tcpdump-ing, I found that the NFSERR_INVAL was returned by nfsd_commit on
    the server.
    
    Turns out that the "offset" argument is off_t instead of loff_t.  It isn't
    used at all (unfortunately), but it _is_ checked for sanity, so that's
    where the error came from.

commit ce8b13c94d766c44623108fbbcb80ae25d45f56d
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:55:17 2004 -0800

    [PATCH] drivers/char/vt possible race
    
    From: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    
    I falled again on the crash in con_do_write() with driver->data beeing
    NULL.  It happens during boot, when userland is playing open/close games
    with tty's, I was intentionally typing keys like mad during boot trying to
    trigger another problem when this one poped up.
    
    Looking at the code, I'm not sure how protected we are by the above (tty)
    layer, paulus told me to not rely on anything like locking coming from
    there, so I decided to extend the scope of the console semaphore one more
    bit to cover races between calls to con_open, con_close and con_write.
    Note that in con_do_write, I intentionally drop the semaphore to avoid
    keeping it held when waiting on the local buffer, and I added some sanity
    checks on tty->driver_data with some printk's in case we still have an open
    race by the tty layer.  At least, now, the couple vc_allocated &
    tty->driver_data should be protected though.

commit 9b6722edafc3be41d21a1cf0efc98cef3d2bed88
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:55:08 2004 -0800

    [PATCH] /proc thread visibility fixes
    
    From: Kingsley Cheung <kingsley@aurema.com>
    
    Is is possible to examine the data of tasks currently existing in the system
    which are not threads of the same thread group.
    
    For example, the only task in the group where init is group leader is itself:
    
    gen2 02:50:44 ~: ls /proc/1/task
    1
    
    However, I can then read the contents of 'stat' for any other task in the
    system:
    
    gen2 02:49:45 ~: cat /proc/1/task/$$/stat
    1669 (bash) S 1668 1669 1669 34816 1730 256 1480 6479 12 4 8 5 5 17 15 0 1 0
    +8065 3252224 451 4294967295 134512640 134955932 3221225104 3221222840
    +4294960144 0 65536 3686404 1266761467 3222442959 0 0 17 0 0 0
    
    I had a look at fs/proc/base.c and found that the 'lookup' functions for
    these directories were checking that the task in question existed, but
    overlooked the following:
    
    1.  In the function proc_pid_lookup, a check is required to ensure that
        the task in question is a thread group leader.  Without the check, any
        task can have its data retrieved accordingly.  Consider the following.
        There is a multithreaded process 1777.
    
    gen2 23:22:47 /proc/1777: ls task
    1777  1778  1779  1780  1781  1782  1783  1784  1785  1786  1787  1788
    
    However, I can read the stat file for its thread 1778 as follows:
    
    gen2 23:22:50 /proc/1777: cat /proc/1778/stat
    1778 (multithreadtest) T 1777 1777 1672 34816 1672 64 0 0 0 0 14 17 0 0 15 0 12 0 8871 24727552 104 4294967295 134512640 134515104 3221222496 1077365276 4294960144 0 0 0 0 3222479248 0 0 -1 1 0 0
    
    But 1778 is not meant to show up in /proc/, as intended right?:
    
    gen2 23:22:56 /proc/1777: ls /proc/
    1     1365  1661  1793  881        dma          kcore       scsi
    10    1371  1662  18    9          driver       kmsg        self
    1014  1372  1663  2     909        execdomains  loadavg     slabinfo
    1032  14    1664  3     963        fb           locks       stat
    1062  15    1665  4     966        filesystems  mdstat      swaps
    1066  16    1666  5     buddyinfo  fs           meminfo     sys
    1067  1605  1669  6     bus        ide          misc        sysrq-trigger
    1087  1610  1670  7     cmdline    interrupts   modules     sysvipc
    1095  1611  1671  736   cpuinfo    iomem        mounts      tty
    11    1641  1672  8     crypto     ioports      mtrr        uptime
    12    1658  17    807   devices    irq          net         version
    13    1660  1777  810   diskstats  kallsyms     partitions  vmstat
    
    2.  The other part of the bug is in the function proc_task_lookup.  Here
        there needs to be a check that the task X is indeed a thread of the
        thread group Y when we read /proc/<Y>/task/<X>.
    
    Right now, this check does not exist, which allows for any existing
    task to have its data read from another thread group directory.  The
    following reads the stat directory of my bash shell from the thread
    group 1.
    
    gen2 23:28:07 ~: cd /proc/1
    gen2 23:28:10 /proc/1: ls
    auxv     cwd      exe  maps  mounts  stat   status  wchan
    cmdline  environ  fd   mem   root    statm  task
    gen2 23:28:11 /proc/1: ls task
    1
    gen2 23:28:27 /proc/1: cat task/$$/stat
    1671 (bash) S 1670 1671 1671 34817 1802 256 1953 8101 12 4 10 6 9 26 15 0 1 0 5789 3252224 454 4294967295 134512640 134955932 3221225104 3221222840 4294960144 0 65536 3686404 1266761467 3222442959 0 0 17 0 0 0

commit 8bbb25c3087995d66d6c0c0cd111b5b8bdd50837
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:54:59 2004 -0800

    [PATCH] Minor cross-compile issues
    
    From: Pratik Solanki <pratik.solanki@timesys.com>
    
    - Fix include path for build.c so that it finds asm/boot.h.
      /usr/include/asm/boot.h may not be present when cross-compiling on a
      non-Linux machine.
    
    - $(CONFIG_SHELL) instead of sh.

commit 2da050c495c5844e7feba3662bb4a274c9447901
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:54:50 2004 -0800

    [PATCH] cpufreq_scale() fixes
    
    From: Dominik Brodowski <linux@dominikbrodowski.de>
    
    Use do_div on 32-bit archs in cpufreq_scale, and native "/" on 64-bit
    archs.

commit f9d4cdfcaca93884ca6eda81ee1e0d0e9a6923b0
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:54:41 2004 -0800

    [PATCH] defer panic for too many items in boot parameter line
    
    From: Werner Almesberger <werner@almesberger.net>
    
    When passing too many unrecognized boot command line options (which become
    arguments or environment variables), the 2.6 kernel panics (unlike 2.4,
    which just ignores the extra items).  Unfortunately, this happens before
    the console is initialized, so all you get is a kernel that dies quickly,
    for no apparent reason.
    
    This is particularly irritating if using UML with
    init=something wi th a lot of ar gu men t s
    
    The patch below delays the panic until after console_init.
    
    (akpm: I mainly added this in because we have other places where the
    panic-later-on machinery is needed).

commit 0ad0b87dfc18c3aaabddc580b8d2dad7faebf4d1
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:54:32 2004 -0800

    [PATCH] adfs: remove a kernel 2.2 #ifdef
    
    From: Adrian Bunk <bunk@fs.tum.de>
    
    The patch below removes a kernel 2.2 #ifdef from fs/adfs/adfs.h .
    
    Note that this #ifdef was only present in the header, the implementation
    of adfs_bmap was already removed.

commit 4f3a949195849511f23f6508e24c4cbcd3c0884c
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:54:23 2004 -0800

    [PATCH] kbuild documentation fix
    
    From: Ryan Boder <icanoop@bitwiser.org>
    
    Explains how to compile external modules in
    Documentation/kbuild/modules.txt.

commit c9700b7e697474cc6ddf051626e6d4264c0593b0
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:54:14 2004 -0800

    [PATCH] remove kernel 2.2 #ifdef's from {i,}stallion.h
    
    From: Adrian Bunk <bunk@fs.tum.de>
    
    The patch below removeskernel 2.2 #ifdef's from {i,}stallion.h .

commit 32856f320b2fa86776cdc0b8980c27dd2596e7a0
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:54:05 2004 -0800

    [PATCH] OSS: remove #ifdef's for kernel 2.0
    
    From: Adrian Bunk <bunk@fs.tum.de>
    
    The patch below removes two #ifdef's for kernel 2.0 from OSS.

commit e9dc2e518981044c7513452f47064b5ebcf32e1e
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:53:55 2004 -0800

    [PATCH] Rename bitmap_snprintf() and cpumask_snprintf() to *_scnprintf()
    
    From: Joe Korty <joe.korty@ccur.com>
    
    Rename bitmap_snprintf() to bitmap_scnprintf() and cpumask_snprintf() to
    cpumask_scnprintf(), as these functions now belong to the scnprintf family
    of functions.

commit 3aa6ed84be153fe2b674114e7f8eafe8123aff9c
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:53:46 2004 -0800

    [PATCH] MCE fixes and cleanups
    
    Andi notes that the
    
    	smp_call_function(foo);
    	foo();
    
    in there is incorrect on preemptible kernels.
    
    Fix that by using on_each_cpu(), which takes care of such things.
    
    Also, remove the open-coded timer from here.  We have
    schedule_delayed_work().
    
    And remove the `timerset' variable, which doesn't do anything.

commit 2d943d4450ba85d497c93b66fe931b9ef200ab6b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:53:37 2004 -0800

    [PATCH] Fix printk level on non fatal MCEs
    
    From: Andi Kleen <ak@suse.de>
    
    For various reasons non fatal Machine Checks can happen on Athlons (e.g.
    we have reports that laptops like to trigger them on suspend/resume)
    
    They are not necessarily fatal and often only minor hardware glitches.
    
    But what's annoying is that they're KERN_EMERG and pollute your console and
    scare the user into writing confused kernel bug reports.
    
    This patch just replaces the KERN_EMERGs with KERN_INFO for now.  Longer
    term I think it would be better to log this stuff into a separate log.

commit 660ab10c0295875dd388fcc82603c237ad21dcba
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:53:28 2004 -0800

    [PATCH] 8259 timer ack fix
    
    From: "Maciej W. Rozycki" <macro@ds2.pg.gda.pl>
    
    Fix up the 8259 ack handling for buggy SMM firmware.
    
    See http://www.ussg.iu.edu/hypermail/linux/kernel/0203.2/0956.html
    
    Apparently the embedded 8259A-compatible core is not fully functional.
    This patch lets the I/O APIC-driven NMI watchdog to function correctly.
    Credit to Ross Dickson for discovering this.

commit d4634c58336825c7d983b6a42891494993bab8a5
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:53:19 2004 -0800

    [PATCH] dm: drop BIO_SEG_VALID bit
    
    From: Joe Thornber <thornber@redhat.com>
    
    I just noticed that bio_clone copies the BIO_SEG_VALID bit from the original
    bio when it was set.  When we modify bi_idx or bi_vcnt afterwards the segment
    counts are invalid and the bit must be dropped (though it is fairly unlikely
    that it has already been set).  [Christophe Saout]

commit 01fce686498704a3c9800a3fa4e8a18a4412083b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:53:10 2004 -0800

    [PATCH] dm: Remove redundant spin lock in dec_pending()
    
    From: Joe Thornber <thornber@redhat.com>
    
    Remove redundant spin lock in dec_pending()

commit bc55399312412673215cc93f3f24c35ca2381e4c
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:53:01 2004 -0800

    [PATCH] dm: Zero size target sanity check
    
    From: Joe Thornber <thornber@redhat.com>
    
    Add sanity check to dm_table_add_target() against zero length targets.
    [Christophe Saout]

commit 2c2eae811a4ab41e25fdda8dea1dcc59f756b396
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:52:52 2004 -0800

    [PATCH] dm: Correct GFP flag in dm_table_create()
    
    From: Joe Thornber <thornber@redhat.com>
    
    For some reason dm_table_create() was allocating GFP_NOIO rather than
    GFP_KERNEL.

commit 6b1b56f960ed422ba668f269d168e26e2ac87666
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:52:43 2004 -0800

    [PATCH] dm: Tidy up the error path for alloc_dev()
    
    From: Joe Thornber <thornber@redhat.com>
    
    Tidy up the error path for alloc_dev()

commit 54e37e093f693e78cc74c1e46cdd40dff3a0b28f
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:52:34 2004 -0800

    [PATCH] dm: Maintain ordering when deferring bios
    
    From: Joe Thornber <thornber@redhat.com>
    
    Make sure that we maintain ordering when deferring bios.

commit a0befbbc35e58ed9b4b040f63157c4125bb3c822
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:52:25 2004 -0800

    [PATCH] dm: Get rid of struct dm_deferred_io in dm.c
    
    From: Joe Thornber <thornber@redhat.com>
    
    Remove struct dm_deferred_io from dm.c.  [Christophe Saout]

commit 0901c174189e028a98419c983535e6453c041880
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:52:16 2004 -0800

    [PATCH] dm: Move to_bytes() and to_sectors() into dm.h
    
    From: Joe Thornber <thornber@redhat.com>
    
    Move to_bytes() and to_sectors() into dm.h

commit c087ec3de86a8a51cd47a0b221c71690ee84fb3b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:52:07 2004 -0800

    [PATCH] dm: Export dm_vcalloc()
    
    From: Joe Thornber <thornber@redhat.com>
    
    Export dm_vcalloc()

commit 1797a796c7333ed02bfd8883bbaafaec867ddeb2
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:51:58 2004 -0800

    [PATCH] md: Allow partitioning of MD devices.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    With this patch, md used two major numbers for arrays.
    
    One Major is number 9 with name 'md' have unpartitioned md arrays, one per
    minor number.
    
    The other Major is allocated dynamically with name 'mdp' and had on array for
    every 64 minors, allowing for upto 63 partitions.
    
    The arrays under one major are completely separate from the arrays under the
    other.
    
    The preferred name for devices with the new major are of the form:
    
      /dev/md/d1p3  # partion 3 of device 1 - minor 67
    
    When a paritioned md device is assembled, the partitions are not recognised
    until after the whole-array device is opened again.  A future version of
    mdadm will perform this open so that the need will be transparent.

commit 5077fef0ba932822af4f2f15e22bbcd73a0a8da4
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:51:49 2004 -0800

    [PATCH] md: Dynamically limit size of bio requests used for raid1 resync
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Currently raid1 uses PAGE_SIZE read/write requests for resync, as it doesn't
    know how to honour per-device restrictions.  This patch uses to bio_add_page
    to honour those restrictions and ups the limit on request size to 64K.  This
    has a measurable impact on rebuild speed (25M/s -> 60M/s)

commit 89654f5b8eb5b884eabab2ae333c0c2618afd5ea
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:51:40 2004 -0800

    [PATCH] md: Avoid unnecessary bio allocation during raid1 resync
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    For each resync request, we allocate a "r1_bio" which has a bio "master_bio"
    attached that goes largely unused.  We also allocate a read_bio which is
    used.  This patch removes the read_bio and just uses the master_bio instead.
    
    This fixes a bug wherein bi_bdev of the master_bio wasn't being set, but was
    being used.
    
    We also introduce a new "sectors" field into the r1_bio as we can no-longer
    rely in master_bio->bi_sectors.

commit d0d464b1c7a85af0de259ee523ac438ea3dbe2a9
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:51:31 2004 -0800

    [PATCH] md: Remove some un-needed fields from r1bio_s
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    next_r1 is never used, so it can just go.
    
    read_bio isn't needed as we can easily use one of the pointers in the
    write_bios array - write_bios[->read_disk].  So rename "write_bios" to "bios"
    and store the pointer to the read bio in there.

commit ebf7768ec706d92dbf3e284116f22720e0f70da9
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:51:22 2004 -0800

    [PATCH] md: Discard the cmd field from r1_bio structure
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    The only time it is really needed is to differentiate a retry-on-fail from a
    write-after-read-for-resync request to raid1d.  So we use a bit in 'state'
    for that.

commit c1dd448e7fd78512ac8a88b2723120fb77c2e121
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:51:13 2004 -0800

    [PATCH] md: Split read and write end_request handlers
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Instead of having a single end_request handler that must determine whether it
    was a read or a write request, we have two separate handlers, which makes
    each of them easier to follow.

commit a2c4e506faa36fc575ff95ab5ee685869e664923
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:51:04 2004 -0800

    [PATCH] md: Print "deprecated" warning when START_ARRAY is used.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    The "START_ARRAY" ioctl depends on major/minor numbers (as stored in the raid
    superblock) are stable over reboots, which is increasingly untrue.
    
    There are better ways to start an array (e.g.  with mdadm) so we mark the
    ioctl as deprecated for 2.6, and will remove it in 2.7.

commit 67afcb4ff2d8307b953446f50d75baf029e2aa7a
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:50:55 2004 -0800

    [PATCH] kNFSd:fix build problems in nfs w/o proc_fs on 2.6.0-test5
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    From: Stephen Hemminger <shemminger@osdl.org>
    Date: Fri, 12 Sep 2003 11:31:06 -0700
    
    NFS won't build w/o CONFIG_PROC_FS.  Looks like typo's (or a C++
    programmer) in stats.h

commit 2a0807bd546bdaeea6d8c50703540c51c81f9a2a
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:50:46 2004 -0800

    [PATCH] kNFSd: convert NFS /proc interfaces to seq_file
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    From: shemminger@osdl.org Sat Sep  6 09:19:50 2003
    Date: Fri, 5 Sep 2003 16:19:30 -0700
    
    Converts /proc/net/rpc/nfs and /proc/net/rpc/nfsd to use the simpler
    seq_file interface.

commit bbcc5fa8698595b500772dc17840772acd9f8f86
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:50:37 2004 -0800

    [PATCH] kNFSd: ip_map_init does a kmalloc which isn't checked...
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    There is no way to return an error from a cache init routine, so instead we
    make sure to pre-allocate the memory needed, and free it after the lookup
    if the lookup failed.

commit 9417bd876933c8d72662f15379c1e79721bbf86c
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:50:28 2004 -0800

    [PATCH] kNFSd: Allow sunrpc/svc cache init function to modify the "key"
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    When adding a item to a sunrpc/svc cache that contains kmalloced data it is
    usefully to move the malloced data out of the key object into the new cache
    object rather than copying (as then we would need to cope with kmalloc
    failure and such).  This means modifying the original.
    
    If the kmalloced data forms part of the key, then we must not move the data
    out until after the key isn't needed any more.  So this patch moves the
    call to "INIT" on a new item (which fills in the key) to *after* the item
    has been found (or not), and also makes sure we only call the HASH function
    once.
    
    Thanks to "J.  Bruce Fields" <bfields@fieldses.org>
    
    also
    
     1/ remove unnecessary assignment
     2/ fix comments that lag behind implementation.

commit 16b82dca522b6078bf27b7edc60aa24e66e1c4cb
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:50:19 2004 -0800

    [PATCH] kNFSd: Fix possible scheduling_while_atomic in cache.c
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    We currently call cache_put, which can schedule(), under a spin_lock.  This
    patch moves that call outside the spinlock.

commit c65febbb18a998a9aeb23caec312d08105753652
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:50:10 2004 -0800

    [PATCH] #if versus #ifdef cleanup
    
    From: Valdis.Kletnieks@vt.edu
    
    15 changes of #if to #ifdef and 2 places CONFIG_FOO should be
    defined(CONFIG_FOO).  This gets rid of spurious warnings if you build with
    "-Wundef" so you get a warning if you have a preprocessor command like:
    
    #if CONFIG_ETRAX_DS1302_RSTBIT == 27
    
    and you'll be told if it's substituting a zero rather than silent
    weirdness and unexpected code generation.

commit b7df53b3b5e3f74e6dbc943e6ae077e8077d0da9
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:50:01 2004 -0800

    [PATCH] MIPS: New 2.6 serial drivers
    
    From: Ralf Baechle <ralf@linux-mips.org>
    
    Three new MIPS-specific serial drivers.  ip22.c is derived from the sparc
    zilog driver; guess we should write a generic Zilog driver somewhen ...

commit 95b387a4e9773b98248f9d6594692cd07ecad4b6
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:49:52 2004 -0800

    [PATCH] Enable coredumps > 2GB
    
    From: Andi Kleen <ak@muc.de>
    
    Some x86-64 users were complaining that coredumps >2GB don't work.
    
    This will enable large coredump for everybody.  Apparently the 32bit
    gdb/binutils cannot handle them, but I hear the binutils people are working
    on fixing that.  I doubt it will harm people - unreadable coredumps are not
    worse than no coredump and it won't make any difference in space usage if
    you get a 1.99GB or a 2.5GB coredump.  So just enable it unconditionally.
    If it should be really a problem for 32bit the rlimit defaults in
    resource.h could be changed.
    
    For file systems that don't support O_LARGEFILE you should just get an
    truncated coredumps for big address spaces.

commit bf98c406fea794d63676838c1d760360d7ad4460
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:49:43 2004 -0800

    [PATCH] devfs: race fixes and cleanup
    
    From: Andrey Borzenkov <arvidjaar@mail.ru>
    
    - use struct nameidata in devfs_d_revalidate_wait to detect when it is
      called without i_sem hold; take i_sem on parent in this case.  This
      prevents both deadlock with devfs_lookup by allowing it to drop i_sem
      consistently and oops in d_instantiate by ensuring that it always runs
      protected
    
    - remove dead code that deals with major number allocation.  The only
      remaining user was devfs itself and patch changes it to
    
    - use register_chardev to get device number for internal /dev/.devfsd and
      /dev/.statd.
    
    - remove dead auto allocation flag as well
    
    - remove code that does module get on dev open - it is handled by fops_get.
       Use init_special_inode consistently
    
    - get rid of struct cdev_type and bdev_type - both have just single dev_t
      now

commit 01d1a791d1a13df17b649459eec6830f226c7163
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:49:34 2004 -0800

    [PATCH] snprintf fixes
    
    From: Juergen Quade <quade@hsnr.de>
    
    Lots of places in the kernel are using [v]snprintf wrongly: they assume it
    returns the number of characters copied.  It doesn't.  It returns the
    number of characters which _would_ have been copied had the buffer not been
    filled up.
    
    So create new functions vscnprintf() and scnprintf() which have the
    expected (sane) semaptics, and migrate callers over to using them.

commit 53b15b863e95defe1487a67e6ca5502a0b4d3e5f
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:49:23 2004 -0800

    [PATCH] bd_set_size i_size handling
    
    We need to hold i_sem while running i_size_write().  But that seems like a
    lot of fuss and deadlock potential.  So just write the dang thing.

commit eaaec5b5db3d64efec42ce7c28c484f8e2cf8b8f
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:49:14 2004 -0800

    [PATCH] Mark intermezzo as broken
    
    The NGROUPS changes broke it, and we're not sure how to fixit, and nobody
    appears to be working on or testing intermezzo.

commit a937b06ed59067eb1cc93390b8f13bbfab229458
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:49:05 2004 -0800

    [PATCH] NGROUPS 2.6.2rc2 + fixups
    
    From: Tim Hockin <thockin@sun.com>,
          Neil Brown <neilb@cse.unsw.edu.au>,
          me
    
    New groups infrastructure.  task->groups and task->ngroups are replaced by
    task->group_info.  Group)info is a refcounted, dynamic struct with an array
    of pages.  This allows for large numbers of groups.  The current limit of
    32 groups has been raised to 64k groups.  It can be raised more by changing
    the NGROUPS_MAX constant in limits.h

commit 7e594425ebac8ca16c7fc787e4ee76801a653d46
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:48:54 2004 -0800

    [PATCH] bonding alias revert and documentation fix
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    Jeff Garzik disliked the bonding driver knowing it was called "bond0".
    Remove that alias, and revert documentation.

commit 69b848dd13b926a735ba482787c815044ecc543f
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:48:45 2004 -0800

    [PATCH] add some more MODULE_ALIASes
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    New MODULE_ALIASes in:
    1) arch/i386/kernel/microcode.c
    2) drivers/char/genrtc.c
    3) drivers/ide/ide-tape.c
    4) drivers/net/bonding/bond_main.c
    5) drivers/net/bsd_comp.c
    6) drivers/net/ppp_deflate.c
    7) drivers/net/ppp_generic.c

commit bf5e91d7e2c5009c25c6561c0803d76fba0980b4
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:48:35 2004 -0800

    [PATCH] Documentation: remove /etc/modules.conf refs
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    Someone complained about the number of references to /etc/modules.conf in
    the documentation.  While fixing them up (and examples where changed),
    removed those which are redundant due to MODULE_ALIAS.

commit 4aef21323244a0ae9cba7dc42740db926c61c504
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:48:24 2004 -0800

    [PATCH] AMD Elan is a different subarch
    
    From: Adrian Bunk <bunk@fs.tum.de>
    
    - AMD Elan is a different subarch, you can't configure a kernel that runs
      on both the AMD Elan and other i386 CPUs
    
    - added optimizing CFLAGS for the AMD Elan

commit b26c400f980f2aa7f6b7dd832114a368897faa45
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:48:15 2004 -0800

    [PATCH] gcc 2.95 supports -march=k6 (no need for check_gcc)
    
    From: Adrian Bunk <bunk@fs.tum.de>
    
    gcc 2.95 supports -march=k6 (no need for check_gcc)

commit 53720dcf0f764df4a72c8a79f37d4cd7fdc2b303
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:48:05 2004 -0800

    [PATCH] add Pentium M and Pentium-4 M options
    
    From: Adrian Bunk <bunk@fs.tum.de>
    
    add Pentium M and Pentium-4 M options:
    
    - add MPENTIUMM (equivalent to PENTIUMIII except for a bigger
      X86_L1_CACHE_SHIFT)
    
    - document that MPENTIUM4 is the right choice for a Pentium-4 M

commit 7453596ad5a0bef83b6ea65e835bbde8b66df5b9
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:47:56 2004 -0800

    [PATCH] Limit hashtable sizes
    
    From: "Chen, Kenneth W" <kenneth.w.chen@intel.com>
    
    The issue of exceedingly large hash tables has been discussed on the
    mailing list a while back, but seems to slip through the cracks.
    
    What we found is it's not a problem for x86 (and most other
    architectures) because __get_free_pages won't be able to get anything
    beyond order MAX_ORDER-1 (10) which means at most those hash tables are
    4MB each (assume 4K page size).  However, on ia64, in order to support
    larger hugeTLB page size, the MAX_ORDER is bumped up to 18, which now
    means a 2GB upper limits enforced by the page allocator (assume 16K page
    size).  PPC64 is another example that bumps up MAX_ORDER.
    
    Last time I checked, the tcp ehash table is taking a whooping (insane!)
    2GB on one of our large machine.  dentry and inode hash tables also take
    considerable amount of memory.
    
    Setting the size of these tables is difficult: they need to be constrained on
    many-zone ia64 machines, but this could cause significant performance
    problems when there are (for example) 100 million dentries in cache.
    Large-memory machines which do not slice that memory up into huge numbers of
    zones do not need to run the risk of this slowdown.
    
    So the sizing algorithms remain essentially unchanged, and boot-time options
    are provided which permit the tables to be scaled down.

commit 86c1b9ae018c99ad7c97e62e74f66c22c70e403f
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:47:47 2004 -0800

    [PATCH] Use CPU_UP_PREPARE properly
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    The cpu hotplug code actually provides two notifiers: CPU_UP_PREPARE
    which preceeds the online and can fail, and CPU_ONLINE which can't.
    
    Current usage is only done at boot, so this distinction doesn't
    matter, but it's a bad example to set.  This also means that the
    migration threads do not have to be higher priority than the
    others, since they are ready to go before any CPU_ONLINE callbacks
    are done.
    
    This patch is experimental but fairly straight foward: I haven't been
    able to test it since extracting it from the hotplug cpu code, so it's
    possible I screwed something up.

commit 79caa7d5b44affe200c2a642b6a182cebd313429
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:47:38 2004 -0800

    [PATCH] Remove More Unneccessary CPU Notifiers
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    Three more removed CPU notifiers extracted from the hotplug CPU patch.
    
    kernel/softirq.c: the tasklet cpu prepration callback is useless:
    the vectors are already initialized to NULL.  Even with the hotplug
    CPU patches, they're of little or no use.
    
    fs/buffer.c: once again, they are already initialized to zero.
    
    mm/page_alloc.c: once again, already initialized to zero.

commit d01feda8147d3b393b7887c8e1a05edc4b17b2ed
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:47:29 2004 -0800

    [PATCH] Minor workqueue.c cleanup
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    Move duplicated code to __queue_work(), and don't set the CPU for
    queue_delayed_work() until the timer goes off.  The second one only has an
    effect on CONFIG_HOTPLUG_CPU where the CPU goes down and the timer goes off
    on a different CPU than it was scheduled on.

commit 35651c8cc709a1f2c0afacb86c5b610d77c41d9e
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:47:20 2004 -0800

    [PATCH] Remove kstat cpu notifiers
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    Some well-meaning person put a notifier in for CPUs to update the kstat
    structures in sched.c.  However, it does nothing, and even with the full
    hotplug CPU patch, it still does nothing.
    
    Simple counters very rarely need anything done when CPUs come up or go
    down.  If you have per-cpu caches, or per-cpu threads, you need to do
    something.  But very rarely for stats.

commit 933ba10234f68f44af3a72afb3c0810b082c5a0e
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:47:11 2004 -0800

    [PATCH] kthread primitive
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    These two patches provide the framework for stopping kernel threads to
    allow hotplug CPU.  This one just adds kthread.c and kthread.h, next
    one uses it.
    
    Most importantly, adds a Monty Python quote to the kernel.
    
    Details:
    
    The hotplug CPU code introduces two major problems:
    
    1) Threads which previously never stopped (migration thread,
       ksoftirqd, keventd) have to be stopped cleanly as CPUs go offline.
    2) Threads which previously never had to be created now have
       to be created when a CPU goes online.
    
    Unfortunately, stopping a thread is fairly baroque, involving memory
    barriers, a completion and spinning until the task is actually dead
    (for example, complete_and_exit() must be used if inside a module).
    
    There are also three problems in starting a thread:
    1) Doing it from a random process context risks environment contamination:
       better to do it from keventd to guarantee a clean environment, a-la
       call_usermodehelper.
    2) Getting the task struct without races is a hard: see kernel/sched.c
       migration_call(), kernel/workqueue.c create_workqueue_thread().
    3) There are races in starting a thread for a CPU which is not yet
       online: migration thread does a complex dance at the moment for
       a similar reason (there may be no migration thread to migrate us).
    
    Place all this logic in some primitives to make life easier:
    kthread_create() and kthread_stop().  These primitives require no
    extra data-structures in the caller: they operate on normal "struct
    task_struct"s.
    
    Other changes:
    
    - Expose keventd_up(), as keventd and migration threads will use kthread to
      launch, and kthread normally uses workqueues and must recognize this case.
    
    - Kthreads created at boot before "keventd" are spawned directly.  However,
      this means that they don't have all signals blocked, and hence can be
      killed.  The simplest solution is to always explicitly block all signals in
      the kthread.
    
    - Change over the migration threads, the workqueue threads and the
      ksoftirqd threads to use kthread.
    
    - module.c currently spawns threads directly to stop the machine, so a
      module can be atomically tested for removal.
    
    - Unfortunately, this means that the current task is manipulated (which
      races with set_cpus_allowed, for example), and it can't set its priority
      artificially high.  Using a kernel thread can solve this cleanly, and with
      kthread_run, it's simple.
    
    - kthreads use keventd, so they inherit its cpus_allowed mask.  Unset it.
      All current users set it explicity anyway, but it's nice to fix.
    
    - call_usermode_helper uses keventd, so the process created inherits its
      cpus_allowed mask.  Unset it.
    
    - Prevent errors in boot when cpus_possible() contains a cpu which is not
      online (ie.  a cpu didn't come up).  This doesn't happen on x86, since a
      boot failure makes that CPU no longer possible (hacky, but it works).
    
    - When the cpu fails to come up, some callbacks do kthread_stop(), which
      doesn't work without keventd (which hasn't started yet).  Call it directly,
      and take care that it restores signal state (note: do_sigaction does a
      flush on blocked signals, so we don't need to repeat it).

commit ad77865cc25cd19c1516f2f22d845402d6d88f8d
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:47:01 2004 -0800

    [PATCH] ACPI PM timer
    
    From: Dominik Brodowski <linux@dominikbrodowski.de>,
          John Stultz <johnstul@us.ibm.com>,
          Dmitry Torokhov
    
    Add the ACPI Powermanagement Timer as x86 kernel timing source.  Unlike the
    Time Stamp Counter, it is a reliable timing source which does not get
    affected by aggressive powermanagement features like CPU frequency scaling.
    
    Some ideas and some code are based on Arjan van de Ven's implementation for
    2.4, and on R.  Byron Moore's drivers/acpi/hardware/hwtimer.c.
    
    
    We also replace the loop based delay_pmtmr with a TSC based delay_pmtmr,
    which resolves a number of issues caused by the loop based delay.  Unsynced
    TSCs as well frequency changing TSCs will effect the length of __delay(), but
    it seems this method works best.

commit ee6afa31bb58dda9e748c0382e413f6a41c6afec
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:46:52 2004 -0800

    [PATCH] loop: remove redundant initialisation
    
    From: "Yury V. Umanets" <umka@namesys.com>
    
    This removes a redundant assignment in loop.

commit 685eba2c0d2315728eb0d514998f7c669650afc4
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:46:43 2004 -0800

    [PATCH] loop.c doesn't fail init gracefully
    
    From: BlaisorBlade <blaisorblade_spam@yahoo.it>
    
    loop_init doesn't fail gracefully for two reasons:
    
    1) If initialization of loop driver fails, we have an call to
       devfs_add("loop") without any devfs_remove; I add that.
    
    2) On lwn.net 2.6 kernel docs, Jonathan Corbet says: "If you are calling
       add_disk() in your driver initialization routine, you should not fail
       the initialization process after the first call."
    
    So I make loop.c conform to this request by moving add_disk after all
    memory allocations.

commit 56b63427a7aa8acad19e0651c1489f73f3d01d8d
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:46:34 2004 -0800

    [PATCH] loop: BIO handling fix
    
    From: Ben Slusky <sluskyb@paranoiacs.org>
    
    One more patch --- this fixes a minor bio handling bug in the filebacked
    code path. I'd fixed it incidentally in the loop-recycle patch.
    
    I don't think you could actually see damage from this bug unless you
    run device mapper on top of loop devices, but still this is the correct
    behavior.

commit 3185e663d57141fd19980417b753c48f0c9918c8
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:46:25 2004 -0800

    [PATCH] remove useless highmem bounce from loop/cryptoloop
    
    From: Ben Slusky <sluskyb@paranoiacs.org>
    
    The attached patch changes the loop device transfer functions (including
    cryptoloop transfers) to accept page/offset pairs instead of virtual
    addresses, and removes the redundant kmaps in do_lo_send, do_lo_receive,
    and loop_transfer_bio. Per Andrew Morton's request a while back.

commit a34c0ae9ebd6ba36cb5b3b12ffe8b3ef83a50c0b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:46:16 2004 -0800

    [PATCH] loop: remove the bio remapping capability
    
    This patch removes the loop feature wherein we remap BIOs for block-backed
    loop.  So file-backed and block-backed loop are handled identically.
    
    It cleans up the code a lot and fixes the low-on-memory lockups which
    block-backed loop currently suffers.
    
    What we lose is the journalling ordering guarantees which
    exts-on-loop-on-blockdev had.  But dm-crypt provides that.

commit 749e32b6f44069585527dd1f1ce06297614413e5
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:46:08 2004 -0800

    [PATCH] ppc64: iseries IRQ fix
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    This patch lets 2.6.3-rc4 build and boot on an PPC64 iSeries box (at least
    for my configuration).  The veth.o bit in the networking Makefile got there
    by accident and should be removed anyway ...
    
    There is more to make it work properly (note the "Temporary hack"), but
    this gets us closer.

commit 7f4afd7a805a7214a3de8948a2412b49a837e34b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:45:59 2004 -0800

    [PATCH] ppc64: fix debugger() warnings
    
    From: Anton Blanchard <anton@samba.org>
    
    Fix compile warnings and add some type safety to debugger macros.

commit 06c3f1d6e20474fd6f39d2ca67319d08a4a933b8
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:45:50 2004 -0800

    [PATCH] ppc64: fix saved_command_line/cmd_line lengths
    
    From: Anton Blanchard <anton@samba.org>
    
    cmd_line was twice the size of saved_command_line but we did a strcpy from
    the larger into the smaller.  Create COMMAND_LINE_SIZE and use it.

commit 2115cc34d1024e9d3e003298565df222c32f66dc
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:45:41 2004 -0800

    [PATCH] ppc64: Fix prom.c warnings
    
    arch/ppc64/kernel/prom.c:200: warning: missing braces around initializer
    arch/ppc64/kernel/prom.c:200: warning: (near initialization for `hmt_thread_data[0]')
    arch/ppc64/kernel/prom.c: In function `prom_hold_cpus':
    arch/ppc64/kernel/prom.c:1090: warning: implicit declaration of function `_get_PIR'

commit 5434d62a6479dcbb2e55c4bda19f1216ea770aff
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:45:32 2004 -0800

    [PATCH] msg.h needs list.h
    
    msg.h uses list_head.  (I'm not sure what config actually required this, but
    it is legit).

commit b23c4682e53a5cccb647dda89752ecff8cf67824
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:45:23 2004 -0800

    [PATCH] Remove BDEV_RAW and friends
    
    These no longer do anything.
    
    This patch changes modules API.  It was acked by Arjan@RH and Hubert@Suse.

commit 80c085f996a1e514e39de845eba065b9b3a79bc6
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:45:13 2004 -0800

    [PATCH] early printk tweaks
    
    - Use __pa() around the VGA base address: more friendly for the 4g/4g split.
    
    - Use cpu_relax() rather than open-coding rep_nop().
    
    - Default to 9600 baud
    
    - Move documentation to Documentation/kernel-parameters.txt
    
    - Make CONFIG_EARLY_PRINTK disableable if CONFIG_EMBEDDED

commit 6b2672bf43b9e6755576d8277e0725be813b4d3a
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:45:04 2004 -0800

    [PATCH] ia32 early printk
    
    From: Andi Kleen <ak@muc.de>
    
    Implement VGA and serial early printk on x86.  We just include the x86_64
    version.

commit cf4389cb6a6f73aaffd4e05dbcc7a68eb00b5e7c
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:44:55 2004 -0800

    [PATCH] Fix for PPP activ/passiv filter
    
    From: Karsten Keil <kkeil@suse.de>
    
    I found a bug in the PPPIOCSPASS PPPIOCSACTIVE IOCTL implementation in
    kernel 2.5/2.6.
    
    The current pppd code use a empty filter (uprog.len=0) to detach the filter
    in the kernel, but this code was removed in 2.5.71 while fixing a compiler
    warning.
    
    Here the new patch, also with better limit checking.
    
    The second patch check for flen == 0 in the filter check too, since later
    in this code a filter[flen - 1] access is done, which is not so funny with
    flen 0.  Maybe it's not really needed anymore, since with the first patch
    it would not longer called with flen=0.
    
    paulus says:
    
        It looks correct.  Previously we had (and in 2.4 we still have)
    
            if (uprog.len > 0 && uprog.len < 65536) {
    		...
    
        which gave warnings since uprog.len is unsigned short.  So someone
        decided that both parts of the condition were redundant.

commit 93ab17e83085e02dfbe87948b3d15c487da7f89d
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:44:45 2004 -0800

    [PATCH] i4l: hisax deadlock fix
    
    From: Karsten Keil <kkeil@suse.de>
    
    This patch fix a deadlock in HiSax (reported from David Woodhouse
    <dwmw2@infradead.org>).  upper layer was called back while holding the card
    lock fix is to move the wakeup call into BH handler to avoid direct
    callbacks.

commit bb257be4df047321b9f12d6a22270aacbcd03fd1
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 04:44:35 2004 -0800

    [PATCH] ISDN udpate
    
    From: Karsten Keil <kkeil@suse.de>
    
    - new port of 2.4 I4L core to 2.6
    
    - new port of 2.4 I4L HiSax to 2.6
    
    - fixes for I4L CAPI subsystem to make it stable in 2.6
    
    - fix parameter handling of AVM ISA cards (calle)
    
    - cleanup ISDN config variables
    
    - SMP in act2000 and pcbit driver
    
    - remove check_region in act2000
    
    - mark hysdn, isdnloop and divert as BROKEN_ON_SMP

commit f7d6fe842e69a9697df83029976d15216edefccb
Merge: f5106b1... 4859cfb...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Feb 18 03:13:32 2004 -0800

    Merge bk://linux-dj.bkbits.net/cpufreq
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 4859cfbbda7de3a663c865ca5ec208f3fdcacda2
Author: Dave Jones <davej@redhat.com>
Date:   Thu Feb 19 02:48:43 2004 +0000

    [CPUFREQ] Add extra __init markers to longrun driver.
    Caught by Randy Dunlap.
    longrun_cpu_init() only gets called during startup, and calls
    other __init routines.

commit 9b16e7c8deefb624f920d7e22fb2a078f4d43155
Author: Dave Jones <davej@redhat.com>
Date:   Thu Feb 19 02:46:52 2004 +0000

    [CPUFREQ] Add extra __init markers to longhaul driver.
    Caught by Randy Dunlap.
    longhaul_cpu_init only gets called during startup, and calls
    other __init routines.

commit f5106b15009a335c36d590c98862079f8d1f78d9
Merge: ad92059... 5b4f4d1...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Feb 18 01:58:12 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 5b4f4d199f6f7ed721f2133fa440ff1fa2e61826
Merge: 6a3e473... eecc0af...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Feb 18 01:56:59 2004 -0800

    Merge bk://gkernel.bkbits.net/net-drivers-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit eecc0af5eb47356f5e0b013b16c5e5691872a2b5
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 09:52:03 2004 -0500

    [PATCH] tulip printk warning fix
    
    Don't assume the size of a dma_addr_t

commit f16f29b7182ddaa5ca2a9fd39923e252924cc9a7
Author: François Romieu <romieu@fr.zoreil.com>
Date:   Wed Feb 18 09:34:42 2004 -0500

    [PATCH] 2.6.3 - drivers/net/sis190.c - Tx desc overflow
    
    Tx descriptor overflow - take II.
    
    Assume tp->dirty_tx = NUM_TX_DESC/2, tp->cur_tx = NUM_TX_DESC - 1,
    watch "entry" go beyond NUM_TX_DESC. Actually this is where the same
    bug in r8169 driver comes from.

commit 714da82948d16a2d403563e0d4a4d1cb1084ac57
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Wed Feb 18 09:29:38 2004 -0500

    [PATCH] tr/3c359: handle kmalloc failures during init
    
    From: Pablo Menichini <pablo@menichini.com.ar>
    and maximilian attems <janitor@sternwelten.at>
    
    
    while looking at kj mails from 200212 and 200301
    this patch slept through
    originally from: Pablo Menichini <pablo@menichini.com.ar>
    rediffed and compile tested
    patch applies on plain 2.6.0
    
    maximilian attems <janitor@sternwelten.at>
    
    handle kmalloc failures during init
    
    diff -puN drivers/net/tokenring/3c359.c~tr3c_kmalloc drivers/net/tokenring/3c359.c
    
    
     linux-261-bk4-kj1-rddunlap/drivers/net/tokenring/3c359.c |   13 +++++++++++++
     1 files changed, 13 insertions(+)

commit 5f0ccf264387042010f57eb989fe7686a7338baa
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Wed Feb 18 09:29:31 2004 -0500

    [PATCH] 2.6.3 pcnet32.c transmit hang fix
    
    The transmit routine will stop interrupting and hang, causing the
    tx_timeout routine to attempt to restart the device when the 32-bit
    cur_tx counter wraps below dirty_tx.  If the device had called
    netif_stop_queue it will never call netif_wake_queue in the interrupt
    routine (at least on an IA32 system) due to 32-bit wrap around arithmetic.
    
    On my IA32 system 'dirty_tx > lp->cur_tx - TX_RING_SIZE + 2' would
    always evaluate to false when dirty and cur_tx were less than 15,
    preventing netif_wake_queue to be called.
    
    By starting dirty_tx and cur_tx at 0xfffffff0 (to reduce test time) I
    found that once cur_tx wrapped to zero, that transmitted buffers would
    never be unmapped or freed because 'while (dirty_tx < lp->cur_tx) {'
    was not true.  cur_tx would keep incrementing (in start_xmit) but dirty_tx
    would not (in pcnet32_interrupt), thus leaking skb's and pci map entries.
    On PPC machines, the system would quickly run out of pci maps.
    
    Fix tested on PPC and IA32.

commit caddcf6dee13340c7c8af83fb4940253ce299a1b
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Wed Feb 18 09:29:24 2004 -0500

    [PATCH] depca: remove double semi-colon
    
    description:      remove double semi-colon typo;

commit ca15b788d168d0e517ee96de14fea7a1913686cc
Author: Joseph Fannin <jhf@rivenstone.net>
Date:   Wed Feb 18 09:12:30 2004 -0500

    [netdrvr sis900] fix multicast bug

commit 18d45937a25dcb8257dfc7936719698d7425e527
Author: Shmulik Hen <shmulik.hen@intel.com>
Date:   Wed Feb 18 08:59:35 2004 -0500

    [PATCH] Add VLAN support in ALB mode
    
    Add capability to tag self generated ARP packets that are required
    for receive load balancing in bonding. VLAN Id's are saved and used
    each time a new IP connection is established since 8021q currently
    supports IP binding.
    
    Update module version and comment blocks.

commit 7d585d7ed8f3b1ed42e8be9e202df5600f7e6c5d
Author: Shmulik Hen <shmulik.hen@intel.com>
Date:   Wed Feb 18 08:59:27 2004 -0500

    [PATCH] Add VLAN support in TLB mode
    
    Add capability to tag self generated learning packets that are
    required to speed up port selection in the switch after a fail
    over in bonding since some switches will only update their MAC
    tables from tagged packets when VLAN support is turned on. All
    VLAN Id's that have been configured on top of the bond interface
    will be used in cyclic order.

commit 7e2991134c578bddeb82e133c86610a67733c854
Author: Shmulik Hen <shmulik.hen@intel.com>
Date:   Wed Feb 18 08:59:20 2004 -0500

    [PATCH] Add support for HW accel. slaves
    
    Now that David Miller accepted the first half of this set into 2.6,
    I'm resending the last half to you for inclusion in netdev-2.6.
    
    Tested against latest netdev-2.6. Summary:
    
    Change the bond interface to publish full VLAN hardware acceleration
    offloading capabilities, and add capability in all xmit functions to
    take special care for VLAN HW accel. tagged skb's that are going out
    through a slave that is not offloading capable.
    
    Add a mechanism to collect and save the VLAN Id's that have been
    added on top of a bond interface, and propagate the register/add/kill
    operations to the slaves.
    
    Add blocking mechanism to prevent adding VLAN interfaces on top of a
    bond that contains VLAN challenged slaves and to prevent adding VLAN
    challenged slaves to a bond that already has VLAN interfaces on top
    of it.
    
    Add a section about VLAN to Documentation/networking/bonding.txt and
    also correct some minor spelling/grammer errors.

commit 5055a79b8ecc2818c7453d57018fbc8d6287b39f
Author: Jeroen Vreeken <pe1rxq@amsat.org>
Date:   Wed Feb 18 08:49:32 2004 -0500

    [PATCH] 6pack reinit bug
    
    This patch is the same as to mkiss a while ago, the current code triggers a
    bug when reattaching a network device.

commit 14309012517abcddd539e93ff01c13ac0d8fca02
Author: Mirko Lindner <mlindner@syskonnect.de>
Date:   Wed Feb 18 08:49:25 2004 -0500

    [PATCH] [kernel 2.6] sk98lin: Insert revision version and date
    
    to uniquely identify the files, it's necessary to add the version of
    each file. Please, don't remove the revision infos. It's really
    important for us.
    
    Patch 2/2
    [SK98LIN]: Insert revision version and date [back] into the files

commit a2dfeaf8602327dfdc20f2869e2188a4cd9a8933
Author: Mirko Lindner <mlindner@syskonnect.de>
Date:   Wed Feb 18 08:49:16 2004 -0500

    [PATCH] sk98lin: Added Support for Belkin adapter
    
    Patch 1/2
    [SK98LIN]: Added Support for Belkin adapter
    [SK98LIN]: Don't handle Yukon2 cards at the moment

commit b1fb49c272eba2b2ebf777ff2adeeedd688efa41
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Wed Feb 18 08:49:09 2004 -0500

    [PATCH] 2.6.3 pcnet32.c SLAB_DEBUG length error fix
    
    The pcnet32 driver uses the incorrect length (of zero) in
    pci_[un]map_single for receive buffers.  This is seen with SLAB_DEBUG
    enabled.
    
    Tested in IA32 system.  If this patch is not applied after my previous
    one hunks #1, #3, and #5 will have an offset of -2 lines.

commit 9f8edd2e8413c63bcd23d41444b93f85e8f7ab54
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 18 08:49:02 2004 -0500

    [PATCH] hp100 pci probe problem
    
    Jean discovered problem with my hp100 PCI changes.
    This should fix the problem... The multi-bus probe logic error handling was
    botched.
    
    He validated it; so please apply

commit f992adf341b3bbc91afc58c7c38749e41623a5d7
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Wed Feb 18 08:48:55 2004 -0500

    [PATCH] 2.6.3 pcnet32.c bus master arbitration failure fix
    
    Here is the first of several individual patches to 2.6.3 for the pcnet32
    driver.
    
    The driver did not properly serialize accesses to chip registers, resulting
    in reading/writing the wrong register.  This patch eliminates this problem
    and gets rid of the cause of the symptom of 'bus master arbitration failure'.
    
    It was easier to use generic_mii_ioctl than modify the current pcnet32_ioctl
    routine with the necessary locks.  This has been re-tested on an IA32 system.

commit ad9205940200421dc0adc2ff59a349d010181a1d
Merge: 6a3e473... 5117762...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Wed Feb 18 01:08:20 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit 5117762965d11dbbb9ed02248f52124905da29ce
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Wed Feb 18 00:27:29 2004 -0800

    [SELINUX]: Forgot to add these in previous commit.

commit b797f1280e276d63cc448bbcbfce8fcaab5c5b66
Author: James Morris <jmorris@redhat.com>
Date:   Wed Feb 18 00:23:41 2004 -0800

    [SELINUX]: Event notifications via netlink.

commit d00085d239600af6cf33d495e1da9a8ec57dee01
Author: John Stultz <johnstul@us.ibm.com>
Date:   Tue Feb 17 23:26:52 2004 -0800

    [PATCH] ia64: add support for time-interpolation via IBM EXA Cyclone timer
    
    This patch provides access to the cyclone time source found on IBM EXA
    based systems (x450 and x455). This is needed on multi-node systems
    where the CPU ITCs are not synchronized, causing possible time
    inconsistencies.
    
    This release fixes one last minor think-o and ran overnight without any
    time inconsistencies (when used in conjunction w/ the
    time-interpolator-fix_A0 patch).

commit 14810e1f31a9d8210d535e6243ccd712664cf573
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Tue Feb 17 23:25:48 2004 -0800

    [PATCH] move CONFIG_HOTPLUG to init/Kconfig
    
    As a bonus: cris, h8300, m68k and sparc can use CONFIG_HOTPLUG now.

commit 6a3e473e2fb76b6109a60d5a8009918bbd5347ab
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Tue Feb 17 23:23:41 2004 -0800

    Fix up the microcode update on regular 32-bit x86. Our wrmsr()
    is a bit unforgiving and really doesn't like 64-bit values.
    
    We should possibly make wrmsr() automatically truncate the
    arguments, but regardless we should just fix microcode.c.

commit c00a2df249e9b7d2cc06ce339d55397c1b73f63b
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Feb 17 23:05:21 2004 -0800

    [PATCH] USB: More UHCI root hub code improvements
    
    This adds some minor improvements to the UHCI root hub code.  The only
    important change is that it handles the overcurrent indicator bits on VIA
    controllers properly; they are reported using the opposite sense from
    Intel controllers.
    
    
    
    	Report the OverCurrent status bits in the /proc debugging file
    	and spontaneously change the use of whitespace.
    
    	Remove unused variable in uhci_hub_status_data().
    
    	Report OverCurrent status for VIA controllers properly (the
    	meaning of the status bit is inverted with respect to Intel
    	controllers).
    
    	Save the port status I/O address in a variable rather than
    	recalculating it many times.
    
    	Merge code for handling SetHubFeature and ClearHubFeature since
    	we don't implement either one.
    
    	Remove some unnecessary comments.
    
    	Remove redundant min_t calculation.

commit 1345ad8160a13488bfdabd8c1cf2fe8f972fa9bc
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Feb 17 23:05:01 2004 -0800

    [PATCH] USB: Improve UHCI root hub code: descriptor, OC bits, etc.
    
    This patch is from David Brownell.
    
    UHCI root hub updates ... minor bugfixes and cleanups, improving
    conformance with the USB hub specification.
    
     - UHCI doesn't support any kind of power switching; so modify the
       hub descriptor to stop claiming it does!  Likewise fail attempts
       to disable power on any port.
    
     - Intel defined both overcurrent status overcurrent-change bits, but
       the current code only knows about one.  Modify hub descriptor to
       report per-port overcurrent protection; and use both bits.
    
     - Modify the port status set/clear macros to know about the bits
       that must always be written as zero, and the write-to-clear bits.
       Update callers which wrote "set" instead of "clear".
    
     - Rewrote code returning port status; magic numbers are gone.
    
     - Driver can't really support 8 root hub ports; don't try.
    
    Also moves the #define DEBUG earlier so that it can kick in any of
    the various debug macros ... like pr_debug() and dev_dbg().

commit eb782fbaf4eaba7cdf9afca99015b669be59a0c9
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Tue Feb 17 21:33:13 2004 -0800

    PCI: fix pci quirk for P4B533-V, fixes bug 1720
    
    Thanks to stephanrave@gmx.de (Stephan Rave) for the patch.

commit f7c908debde3db79bea2e92305745b3dcf16c971
Author: Patrick McHardy <kaber@trash.net>
Date:   Tue Feb 17 21:18:53 2004 -0800

    [PKTSCHED]: Use queue limit of 1 when tx_queue_len is zero.

commit 8b29038583180bca28156c11a84990b17bc25eac
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Feb 17 21:17:51 2004 -0800

    [PATCH] USB: ehci-hcd, scheduler handles TT collisions (3/3)
    
    [USB] ehci-hcd detects microframe transaction scheduling collisions
    
    This detects TT schedule collisions for split periodic transactions
    on USB 2.0 hubs, handling both isochronous and interrupt transfers
    but not supporting the "wrap around to the next frame" modes for
    either transfer type.
    
    The ISO scheduler is modified to use that support for full speed
    transfers ... though nothing will yet ask it to do that.
    
    It also tracks schedule depth, to help avoid accepting ISO URBs
    which need more time than currently remains unscheduled.

commit 7c96943a65d43ffc4456db1e5577107459810663
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Feb 17 21:17:29 2004 -0800

    [PATCH] USB: ehci-hcd, fullspeed iso data structures (2/3)
    
    [USB] ehci, rename some iso data structures
    
    Rename some data and functions used by EHCI to manage ISO transactions,
    since they currently assume only high speed transfers.  Much of the same
    infrastructure will be used for full speed ISO, with split transactions.

commit 4e5cd67fbb17566fbf2352396756afdc5fe08efa
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Feb 17 21:17:05 2004 -0800

    [PATCH] USB: ehci-hcd, fullspeed iso data structures (1/3)
    
    [USB] start ehci split transaction support
    
    Updates split ISO transaction descriptor structure, add bitmask #defines;
    it's groundwork for full speed ISO support in EHCI.  Updates periodic
    schedule scanning, and bandwidth calculations accordingly.
    
    Fixes bandwidth calculation to behave when the periodic schedule has
    entries of multiple types ... as will be more common as ISO support
    starts to be used here.

commit fff336d5c63d1acbaa3096a80cf85aa9a2d8f3e7
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Feb 17 21:16:10 2004 -0800

    [DECNET]: Make second arg to dn_alloc_send_skb a size_t pointer.

commit a9db38a2dba34e8864ee67812a058f3e694c439f
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Feb 17 21:13:22 2004 -0800

    [BLUETOOTH]: Use min_t to avoid warning in rfcomm sock.c

commit 5a72e652e6de90142324491ce218a316d67ed228
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Feb 17 21:13:04 2004 -0800

    [PATCH] USB: usbtest, two more protocol cases
    
    [USB] usbtest, two more control queueing subtests
    
     From Alan Stern.  This adds two more "short control read" test cases,
     both padding the "expected" transfer to end-of-packet.  We need both
     hosts and devices/gadgets to behave correctly here.

commit 0405e99de0aa76752869f04d4ec3bbb6dc5a19ce
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Feb 17 21:12:46 2004 -0800

    [PATCH] USB: usbcore, avoid RNDIS configs
    
    [USB] usbcore avoids RNDIS configuration.
    
    Modifies the "choose a configuration" heuristic to recognize the other
    case that 2.4 handled:  RNDIS, a MSFT protocol that's sometimes used as
    the first/default configuration (as specified by MSFT) on cable modems.
    CDC Ethernet is vendor-neutral, and preferred (except by MSFT).
    
    The initial version didn't catch RNDIS because it cloaks its ethernet
    links as a kind of CDC ACM (modem) device.

commit e863e0278b6319058ce1298303d283e649e53f1b
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Feb 17 21:12:22 2004 -0800

    [PATCH] USB: usbcore, hub driver enables TT-per-port mode
    
    [USB] hub driver turns on multi-TT mode
    
    This turns on the multi-tt mode in hubs that support it; the Cypress
    "TetraHub" products are appearing at retail now, complete with some
    of the first Mini-B connectors I've seen shipping.
    
    This will be important for hooking up lots of full speed isochronous
    devices (audio, video, etc).

commit 876b1343bfe71c3887cbfc155ac93f9671ea5b9b
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Feb 17 21:11:47 2004 -0800

    [PATCH] USB: usbcore, scatterlist cleanups
    
    [USB] minor usb_sg_wait() cleanups
    
      - count urb completions correctly when there's a non-recoverable
        fault during scatterlist submission ... prevents a hang (seen
        only with already-faulty usb-storage devices).
    
      - don't local_irq_{save,restore}() when not needed

commit 84ef507075e23cbe6455929271d0007e4199a944
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Feb 17 21:11:42 2004 -0800

    [APPLETALK]: Use '%Z' for size_t.

commit e172bdaf97dc64c1d2dd0a4be4542b19274dcb7f
Author: Wensong Zhang <wensong@linux-vs.org>
Date:   Tue Feb 17 21:06:55 2004 -0800

    [IPVS] tidy up the header files to include

commit 4b86aba495fb1ff8ece12157520558bf46b2f7aa
Author: John Rose <johnrose@austin.ibm.com>
Date:   Tue Feb 17 20:57:30 2004 -0800

    [PATCH] PCI Hotplug : add DLPAR driver for PPC64 PCI Hotplug slots
    
    Please consider the following patch for submission.  This patch contains the
    implementation of the I/O Slot DLPAR Drivers for PPC64 RISC Platform
    Architecture.  This module depends on the RPA PCI Hotplug Module in the
    previous post.  The patch is made against kernel version 2.6.3-rc2.
    
    The Dynamic Logical Partitioning Module allows the runtime movement of I/O
    Slots between logical partitions.  An administrator can logically add/remove
    PCI Buses to/from a PPC64 partition at runtime.  These operations are initiated
    using interface files located at:
    /sys/bus/pci/pci_hotplug_slots/control/
    Development contact for this module is John Rose (johnrose@austin.ibm.com).

commit 584c6dbeb19989c8315cc35bba8545c4617526b9
Merge: 857bf13... 89eda16...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Feb 17 20:57:11 2004 -0800

    Merge bk://kernel.bkbits.net/wesolows/sparc32-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit cb98d96e7b53e1831e08187b99598d9714f6babb
Author: Linda Xie <lxiep@linux.ibm.com>
Date:   Tue Feb 17 20:53:42 2004 -0800

    [PATCH] PCI Hotplug: Add PPC64 PCI Hotplug Driver for RPA

commit acc8a334c36e390c4e0c298b53a8f87d513b61df
Merge: 4319282... bad4bd7...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Tue Feb 17 20:02:54 2004 -0800

    Merge http://jfs.bkbits.net/linux-2.5
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 4319282fb65a7e37da8f8789d6d79adff94ff1c0
Merge: 857bf13... c580cc2...
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Wed Feb 18 01:14:02 2004 -0600

    Merge jfs@jfs.bkbits.net:linux-2.5
    into austin.ibm.com:/shaggy/bk/jfs-2.5

commit c16b4b14d9806e639f4afefa2d651a857a212afe
Author: Dely Sy <dlsy@snoqualmie.dp.intel.com>
Date:   Tue Feb 17 20:02:52 2004 -0800

    [PATCH] PCI Hotplug: Add SHPC and PCI Express hot-plug drivers

commit ae70c9ae30ae4c9e2e20fdbf45e250ccc16c5e21
Author: Pat Gefre <pfg@sgi.com>
Date:   Tue Feb 17 19:54:48 2004 -0800

    [PATCH] ia64: add "platform_data" to struct pci_controller, update SN2 accordingly
    
    Here's a small mod for Altix. It breaks up our 'pci fixup' function and
    has some other smallish clean ups.
    
    For the ia64 crowd I've added 'platform_data' to struct pci_controller.

commit 30c21ff9cf3b7c8aded0393b5e394ecf1485b9c2
Author: Maeda Naoaki <maeda.naoaki@jp.fujitsu.com>
Date:   Tue Feb 17 19:47:46 2004 -0800

    [PATCH] ia64: fix possible memory leak in PCI alloc_resource()

commit bad4bd7faa5df18bf2eac30c4ad70d1fa783aaa2
Author: Andi Kleen <ak@suse.de>
Date:   Tue Feb 17 19:44:46 2004 -0800

    [PATCH] Allow P4 oprofile code for x86-64
    
    P4 support was previously ifdefed out for x86-64, remove that.

commit bd31fffeb56a4632c385b8f6ff75f58d0bc51ef8
Author: Andi Kleen <ak@suse.de>
Date:   Tue Feb 17 19:44:38 2004 -0800

    [PATCH] Enable Intel AGP on x86-64
    
    Enable the Intel AGP driver for x86-64 too.

commit 8f2588e02fc7cea71d36d412952fdc0c4f8221e0
Author: Andi Kleen <ak@suse.de>
Date:   Tue Feb 17 19:44:30 2004 -0800

    [PATCH] Update i386 microcode driver for x86-64
    
    The microcode driver needs to support 64bit physical addresses too.

commit ca92c573507014604d943990d4979af5c08152f0
Author: Andi Kleen <ak@suse.de>
Date:   Tue Feb 17 19:44:21 2004 -0800

    [PATCH] Intel x86-64 support merge
    
    This has all the x86-64 specific changes for Intel Prescott/Nocona
    support.
    
    It requires a few minor changes outside arch/x86_64, which I am sending
    separately.
    
    This patch is needed to boot an 64bit kernel on a 64-bit capable
    Prescott machine.
    
    The ugliest part is probably the swiotlb code.  In fact the code for
    that is not even included, but just reused from IA64.  swiotlb
    implements the PCI DMA API using bounce buffering.  I don't like this at
    all, but there was no other way to support non DAC capable hardware
    (like IDE or USB) on machines with >3GB.  Please redirect all flames for
    that to the Intel chipset designers.
    
    ChangeLog:
    - Add Kconfig options for PSC
    - Add support to reuse microcode driver from i386 (Suresh B Siddha)
    - Try to optimize for the selected CPU
    - Fix early CPUID check for Intel CPUs (Suresh B Siddha)
    - Fix GDT to use the configured cache line size for padding
    - Support monitor/mwait idle loop
    - Support HyperThreading
    - Support Intel CPUID flags
    - Remove all 3dnow prefetches
    - Add alternative() for the prefetchw prefetch inline.
    - Include P4 driver in oprofile
    - Support Intel NOPs in alternative

commit 817a68f715fba8b3555489c5bd693e6f02e834d2
Author: Adam Belay <ambx1@neo.rr.com>
Date:   Tue Feb 17 19:40:45 2004 -0800

    [PATCH] PCI: remove unused defines in pci.h
    
    It occured to me that we also have the following related code in pci.h:
    Perhaps this should be removed as well?

commit 84e0faa02671d9c186492d9100d69e80f9ff4ddd
Author: Matthew Wilcox <willy@debian.org>
Date:   Tue Feb 17 19:16:24 2004 -0800

    [PATCH] PCI: Fix pci_bus_find_capability()
    
    pci_bus_find_capability() is currently broken.  It checks the wrong
    device's hdr_type for being a cardbus bridge or not.  This patch pulls
    the guts of pci_bus_find_capability() and pci_find_capability() into a
    new function __pci_bus_find_cap() and changes these two functions to
    call it.

commit 2d130cd0a248bda407ac129886192d2eee83b65b
Author: Tom L. Nguyen <tlnguyen@snoqualmie.dp.intel.com>
Date:   Tue Feb 17 19:16:10 2004 -0800

    [PATCH] PCI: add copyright for files msi.c and msi.h
    
    First I would like to say sorry for not responding immediately after receiving
    your email mentioning Copyright. I have contacted Intel Legal for proper text
    upon receiving this email; but have not received any response. As a result of
    team discussion, the attached patch, based on Linux kernel 2.6.3-rc2, includes
    the Intel Copyright for files: msi.h and msi.c.

commit 0bbdeef9ab2ad42445bcd0a9150e47236ce269a5
Author: Mark A. Greer <mgreer@mvista.com>
Date:   Tue Feb 17 19:15:56 2004 -0800

    [PATCH] PCI: Changing 'GALILEO' to 'MARVELL'
    
    I'm working with some Marvell components (formerly Galileo Technologies)
    and noticed that the entries in include/linux/pci_ids.h have become
    dated.  I have attached a patch that changes 'GALILEO' to 'MARVELL',
    adds some more devices, and updates the uses of the macros in the code.
    Please note that the newer marvell parts start with 'MV' instead of 'GT'
    to represent the new name.  Also, I didn't change all uses of galileo to
    marvell, only the macro in pci_ids.h.

commit 857bf13c8c7302306a8e642af58d5d9c9d41f3ee
Merge: d8650a5... c5875e7...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Tue Feb 17 17:00:47 2004 -0800

    Merge bk://kernel.bkbits.net/davem/tg3-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit d8650a571df46e64b8df790ed63140250814b0f3
Merge: 1776300... 5196c43...
Author: Linus Torvalds <torvalds@home.osdl.org>
Date:   Tue Feb 17 16:56:10 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into home.osdl.org:/home/torvalds/v2.5/linux

commit 1776300ef7e26aff6c38201fb9af31624be03e26
Merge: fddafab... 298b128...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Feb 17 15:15:51 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/bonding-2
    into redhat.com:/spare/repo/net-drivers-2.5

commit 298b128f05d375d8e3e03dbb352fc5d40e76d482
Merge: 5c3f63d... 4ce2418...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Feb 17 15:09:13 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/netdev-alloc-6
    into redhat.com:/spare/repo/netdev-2.6/netdev-alloc-7

commit 4ce241832b29ee0a4ce2381278290ee385adf68a
Merge: 0b37a91... 7d202bd...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Feb 17 15:06:52 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/netdev-2.6/netdev-alloc-6

commit 89eda16395483c4fcc19f1958dcaa80cb2c3d959
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Tue Feb 17 08:27:32 2004 -0800

    [SPARC32] Uninline atomic_t functions to save space.

commit c5875e7af7d60fe86026a9a2ca382f757a4d6a5b
Merge: 7d202bd... e95ea29...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Tue Feb 17 07:49:24 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/tg3-2.6
    into kernel.bkbits.net:/home/davem/tg3-2.6

commit 5196c43dc77267a9b27458f9325384238fd74dd2
Merge: 0438657... 7d202bd...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Tue Feb 17 07:44:31 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit 5c3f63d9c84357e1ae3a0d62d6f5fdf7f2e59876
Merge: 41b2b94... 0b37a91...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Feb 17 10:06:21 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/netdev-alloc-6
    into redhat.com:/spare/repo/netdev-2.6/netdev-alloc-7

commit 0b37a9199bf44bba96aa24b9edbc1c2bb72bec1d
Merge: 0c92609... d6c561c...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Feb 17 10:03:31 2004 -0500

    Hand-merge pc300_tty.c conflicts with netdev.

commit 043865766d4f8d13b6969068b2cc21da02217de5
Author: Martin J. Bligh <mbligh@aracnet.com>
Date:   Tue Feb 17 07:01:27 2004 -0800

    [NET]: Ditch TSO in loopback driver, it's had enough testing.

commit 92ef2caef36e41483e2ead1b5b07aea12c1612f8
Merge: 7d202bd... a1ec433...
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Tue Feb 17 06:54:07 2004 -0800

    Merge us.ibm.com:/home/sridhar/BK/linux-2.6
    into us.ibm.com:/home/sridhar/BK/lksctp-2.6.2

commit d0dc68a385cbc1db44656c549ba95e63f8a105b1
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Feb 17 06:31:08 2004 -0500

    IEEE1394(r1136): Implement node class

commit 03e92484df90352f6f4c9a08cc3998b1d3643688
Merge: bd86acf... a1ec433...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Feb 17 03:16:03 2004 -0800

    Merge http://linux-lksctp.bkbits.net/lksctp-2.5.work
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit bd86acf167b92d26998f323844068e140e1b9ddc
Merge: 015510a... 4d99775...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Feb 17 03:13:28 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/network-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit 4d99775fee020b291acb77e91e9f97ffd23a7672
Author: Julian Anastasov <ja@ssi.bg>
Date:   Tue Feb 17 03:06:26 2004 -0800

    [IPV4]: Add sophisticated ARP reply control via arp_ignore sysctl.

commit a1ec4338464ed0cfcbdb3648841ca64f90d15ac4
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Tue Feb 17 01:37:27 2004 -0800

    [SCTP] Force enable Crypto options that are needed by SCTP config.

commit 854c21ccffcc7fece8bd9bfdab3ec6f27be24273
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Feb 17 04:18:58 2004 -0500

    IEEE1394(r1135): Initial ieee1394_host_class implementation.

commit 6bbdfe1728a905d072a3fa654d4dfeff3f27d3f4
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Tue Feb 17 01:16:30 2004 -0800

    [PATCH] USB: Fix USB host code to use generic DMA API

commit aa2716ec1c57f15ba8de41d9b7258a1c84701671
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Feb 17 00:47:56 2004 -0800

    [PATCH] USB Storage: unusual_devs.h fixup
    
    On 15 Feb 2004, Frank D. Cringle wrote:
    
    > Hi,
    >
    > my syslog requests that I send this message.  See below regarding
    > usb-storage: This device ... has an unneeded SubClass entry in unusual_devs.h
    
    > Feb 15 00:11:16 dagger usb-storage: This device (07cf,1001,1000 S 05 P 00) has an unneeded SubClass entry in unusual_devs.h
    > Feb 15 00:11:16 dagger Please send a copy of this message to <linux-usb-devel@lists.sourceforge.net>
    
    Thank you for sending this in.
    
    Greg, it looks like an earlier patch changed too much.  Here is the fix.
    Also included in this patch:
    
    	Moved several entries that were in the wrong positions.
    
    	Removed an entry (0x08ca, 0x2011) that could never be used
    	because the preceding entry always would take precedence.

commit 99e0e5d477c69136f669ddc7bbd04f78ad1e3ee3
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Tue Feb 17 00:45:15 2004 -0800

    [PATCH] USB Storage: Fix small endian-ness bug
    
    This patch fixes up a small endian-ness bug from mid-January.

commit fac8bc1414dbc04dd069e8393a2c11b172e740a8
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Tue Feb 17 00:45:00 2004 -0800

    [PATCH] USB Storage: Reduce unsolicited auto-sense
    
    This patch (a regeneration of as185) reduces the amount of auto-sensing we
    do even further.  It also zeros-out the sense buffer in those cases where
    we do auto-sense and get back no error.

commit 07bfe587aec8fc7bff2b88b8390ed38a3dd4815b
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Tue Feb 17 00:44:43 2004 -0800

    [PATCH] USB Storage: Save the SCSI residue value when auto-sensing
    
    This patch (a regeneration of as173) saves the residue value of a command
    when doing an auto-sense.
    
    Not that it really matters much -- almost nobody looks at that value.  But
    it's definately incorrect the way it is, and this fixes it.

commit 35f751d9378851c802109a8769f954fb4daeae08
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Feb 17 00:44:27 2004 -0800

    [PATCH] USB Storage: Reduce auto-sensing for CB transport
    
    This patch addresses a problem common among digital cameras that use the
    CB transport.  Namely, too much auto-sensing confuses them; particularly
    auto-sensing after INQUIRY.
    
    I've made some traces of a Windows 2000 driver to see what it does (data
    sent to Andries Brouwer for inclusion on his web site; I'll announce
    when it's ready for viewing).  Basically, it almost never sends REQUEST
    SENSE unless it received a STALL from the device.
    
    That's a pretty bogus way to operate, because it means that Windows has no
    way to tell when the device has finished executing a command if the
    command doesn't involve an IN transfer.  Even after a lengthy WRITE,
    Windows continues to transmit more commands without regard for whether or
    not they will get overwritten in the device's internal buffer (and hence
    not executed).  Indeed, exactly that happened with some of the commands in
    one of my traces.
    
    To be safe, we must follow every non-IN transfer with an auto-sense, but
    IN transfers that don't stall can be considered to have succeeded.
    That's what this patch does.  It reduces auto-sensing by a considerable
    factor, probably close to half.  It also fixes the problem with INQUIRY,
    since INQUIRY involves an IN data transfer.

commit 8e2c8a8a9db0e8d20360ab05cb8df3f01a7d1fae
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Feb 17 00:44:14 2004 -0800

    [PATCH] USB Storage: Treat STALL as failure for CB[I]
    
    I recall something like this had to be changed a while ago, but it looks
    like it's still not right.  A STALL during either the command or data
    phase of a CB[I] command should indicate a failure.

commit 933d87fcc3204484906c223c2376138fae37e860
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Feb 17 00:43:54 2004 -0800

    [PATCH] USB Storage: Handle excess 0-length data packets
    
    This patch is an attempt to cope with Genesys Logic's, shall we say,
    creative approach to implementing the USB protocols.  Their high-speed
    mass storage devices sometimes add an excess 0-length packet to the end of
    a data phase transmission.  Of course we don't read that packet as part of
    the data phase; we see it as a 0-length CSW message.  The real CSW follows
    immediately after.  (Or sometimes a STALL follows immediately after, with
    the real CSW coming after that!)
    
    The patch checks the results of the first attempt to read the CSW.  If it
    sees a normal packet (not a STALL) with length 0, it retries the read.
    Reports from two users indicate that it improves the performance of their
    USB-2 DVD drives.

commit 77d9c3348eeba62d06824a1b28f6c6bb88c65447
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Feb 17 00:22:07 2004 -0800

    [PATCH] USB: Mask "HC Halted" bit in the UHCI status register
    
    Contrary to the UHCI specification document, in real controllers the "HC
    Halted" bit in the status register cannot be cleared by writing a 1.  It
    will persist for as long as the controller is halted.  Hence the bit needs
    to be masked away before checking whether or not the controller initiated
    an interrupt.
    
    Without this patch, other devices sharing the same IRQ line might not get
    serviced while the host controller is suspended, because the always-on
    status bit would cause the UHCI driver to report that it had handled the
    interrupt.

commit fec5dce26f776f283ecef3edc9ba51e1ffa896a8
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Feb 17 00:21:51 2004 -0800

    [PATCH] USB: Simplify locking in UHCI
    
    This patch is an amalgam of 9 contributions from Stephen Hemminger.  It
    begins the process of straightening out the use of semaphores and locking
    in the UHCI driver by removing unneeded irqsaves and irqrestores.  It
    also removes an unnecessary list node and makes a couple of other small
    changes.
    
    
    
    clear_next_interrupt only called in IRQ context don't need irqsave/restore
    
    Since uhci_finish_completion is only called from IRQ routine,
    the irqsave/irqrestore is redundant and unnecessary.
    
    UHCI transfer_result is only called from IRQ context
    so irqsave/restore is unnecessary here.
    
    uhci_finish_urb is always called from irq so
    no need for irqsave/irqrestore.
    
    uhci_add_complete only called from IRQ context
    
    The complete_list element in the urb private data is redundant,
    since it is only used when the urb is on the complete list.
    And given the state transitions, an urb can't be on the complete list
    and any other list (remove, or urb_list).
    Therefore just use urb_list to link the complete_list
    
    Use list_move_tail to move between remove (or urb_list) and the complete_list.
    
    Save irq state in uhci_stop so that the irqsave/irqrestore's
    in all the free_pending and remove_pending code can be eliminated.
    
    Since uhci_stop now saves IRQ state, the free/remove pending routines
    no longer need irqsave/irqrestore.

commit eaf5fbc4f4469b1fec3bb74deecbbce0783904ab
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Feb 17 00:21:33 2004 -0800

    [PATCH] USB: ERRBUF_LEN compiling error when PAGE_SIZE=64KB on IA64
    
    Randy, thanks for forwarding this to me.
    
    > Johannes,
    >
    > When I compile base kernel 2.6.1 with PAGE_SIZE=64KB on an IA64
    > platform, there is an error.
    >   CC      init/version.o
    >   LD      init/built-in.o
    >   LD      .tmp_vmlinux1
    > drivers/built-in.o(.init.text+0x168a2): In function `uhci_hcd_init':
    > : undefined reference to `__you_cannot_kmalloc_that_much'
    > make: *** [.tmp_vmlinux1] Error 1
    >
    > That's because ERRBUF_LEN (equal to PAGE_SIZE*8) is too long when
    > PAGE_SIZE=64KB. Actually, there was a similar error found by Tony. See
    > http://marc.theaimsgroup.com/?l=linux-ia64&m=105604765306485&w=2.
    >
    > Could you change the definition of ERRBUF_LEN to a fixed value? For
    > example, 32*1024?
    >
    > Yanmin
    
    Yanmin, I'm the new maintainer for the UHCI driver.  Yep, that's a
    definite error.  This will fix it.
    
    Also included in this patch: change some confusing references from "high
    speed" to "full speed" and add proper hyphenation.

commit 4f650496fe6cf26fff9895669d4f2ad2db71d703
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Feb 17 00:21:17 2004 -0800

    [PATCH] USB: Even out distribution of UHCI interrupt transfers
    
    This patch evens out the distribution of interrupt transfers for the UHCI
    driver.  It insures that no frame must handle interrupt queues for more
    than two different periods, thus improving the bandwidth utilization.
    
    It also simplifies the initialization code by replacing a multi-nested
    "if" statement with a simple bit-operation (thanks to Eric Piel for
    suggesting this approach).

commit e95ea2998d29715c2e50e00f61f5d2a4f49be3af
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Feb 17 00:21:15 2004 -0800

    [TG3]: Bump driver version and reldate.

commit a0afbda3625e81ca2e1d916afcee4e302afa4e20
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Feb 17 00:20:54 2004 -0800

    [PATCH] USB: Remove unneeded and error-provoking variable in UHCI
    
    This patch removes an unneeded "status" field from the UHCI driver's
    URB-private data structure.  The driver had been storing the status of
    completed URBs there rather than in the URBs themselves.  This not only is
    wasteful of space but is also a cause of bugs, since the USB core relies
    on urb->status for proper synchronization with the driver.
    
    The patch also takes care of a number of small things that have been
    bugging me for ages:
    
    	Close a small loophole by allowing an URB to be unlinked even
    	before the uhci_urb_enqueue() procedure has started.
    
    	Remove some fossil code from back when interrupt URBs were
    	automagically resubmitted.
    
    	Giveback unlinked URBs in the order they were unlinked.
    
    	Don't set urb->status for dequeued URBs; the core has already
    	set it for us.
    
    	Rename uhci_remove_pending_qhs to uhci_remove_pending_urbps.
    	(That has _really_ bothered me!)

commit 1941208c669aa6882ebb377e328c49ee53808a31
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Feb 17 00:17:02 2004 -0800

    [TG3]: Fix early chip programming in tg3_setup_copper_phy().
    
    1) First action must be to set MAC_EVENT to zero.
    2) Do not forget to clear MI_COMPLETION/LNKSTATE_CHANGED
       status bits in MAC_STATUS register.
    
    This fixes the bug wherein the link does not come up at all
    at the first ifup done after tg3 module load.

commit 932d19c4bbc4758c779d94acc6be111aed3ec88f
Author: Domen Puncer <domen@coderock.org>
Date:   Tue Feb 17 00:10:36 2004 -0800

    [PATCH] USB: some stv680 fixes
    
    - swapRGB is already initialized to 0
    - change "swapRGB_on == 1" to match in-source documentation
    - submit urb with GFP_ATOMIC (interrupt context) - this made driver
       unusable because of "might_sleep" messages.
    - group some "case"s
    - release vdev on fail
    - remove "kfree(0)" checking

commit f9fa153e6c56fdd22616f753242a56f56462450b
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Feb 17 00:08:12 2004 -0800

    [TG3]: Two more PHY bug workaround, plus fix DMA test on big-endian.

commit fe8f8d998b16df478687860b864f123b84dd3709
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 16 23:56:22 2004 -0500

    IEEE1394(r1134): Fix some typos introduced over the last few changes

commit c580cc2b9b0fed02a1d2134428a3e8ebd54a492f
Merge: 9dc4903... 1af2511...
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Mon Feb 16 20:49:33 2004 -0600

    Merge jfs@jfs.bkbits.net:linux-2.5
    into austin.ibm.com:/shaggy/bk/jfs-2.5

commit 8a9c807d80eed534f5ace6e7f8d3e5375525bb44
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 16 21:48:04 2004 -0500

    IEEE1394: Sync revisions

commit 68e0e733b8be73151b2dbac1521e47d12981dcfc
Author: Steve Kinneberg <kberg@linux1394.org>
Date:   Mon Feb 16 21:46:15 2004 -0500

    IEEE1394(r1132): Update Kconfig description of the eth1394 driver.

commit 5b624ac368ae44dbd2d197566a3d1fd9386d25e9
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 16 21:44:34 2004 -0500

    IEEE1394/OHCI(r1131): Suspend/resume isn't dependent on CONFIG_PM.

commit c486d30df7346e508f37fcacd8d2d6eb2b102b20
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 16 21:42:23 2004 -0500

    IEEE1394(r1130): Conversion of some list_for_each() usages to list_for_each_entry().

commit 26abb0a149d2ceda0f57e9f4c7c88542b02ff7bd
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 16 21:40:08 2004 -0500

    IEEE1394(r1129): Initial support for reusing node entries over plug/unplug cycles

commit 93f136bc938743ec66f99e4b773f4553253cbc50
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 16 21:37:54 2004 -0500

    IEEE1394(r1128): Implement bus reset handling for hosts (based on patch from Oracle)

commit 80a89b964355cbd714385a13f43de747e364c04e
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 16 21:35:32 2004 -0500

    IEEE1394(r1126): Small cleanup based on patch from Isaac Claymore.

commit 9b0b0ab5d371f543158254907cfd864be5775064
Author: Steve Kinneberg <kberg@linux1394.org>
Date:   Mon Feb 16 21:33:03 2004 -0500

    IEEE1394(r1125): Set host field of hpsb_address_serve struct when registering address spaces.

commit 1a52d0e16efb5cfc8565e858b09031961f3e2568
Merge: 388621a... 9dc4903...
Author: Len Brown <len.brown@intel.com>
Date:   Mon Feb 16 14:23:49 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.3
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.3

commit 664cc72a379d34e18875160d01a405a065f52d35
Merge: 0ebd507... 9dc4903...
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 16 12:10:15 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/ieee1394-2.6

commit b654ac173be33f00bc05097e04e0c86770965d11
Merge: fdd2f9f... 9dc4903...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Mon Feb 16 06:53:36 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/network-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit fdd2f9fbb05c87643c463d557e3babb2f4d2a3d3
Author: David Stevens <dlstevens@us.ibm.com>
Date:   Mon Feb 16 06:49:24 2004 -0800

    [IPV6]: Add sysctl to force MLD version.

commit 4177292a80eaa7abe8a6e0e7d986138006509330
Author: Dave Jones <davej@redhat.com>
Date:   Mon Feb 16 14:36:24 2004 +0000

    [CPUFREQ] bump copyrights.

commit 8dde8bf3ba684c7d659dbba52adac28f1fbb6362
Author: Ian Abbott <abbotti@mev.co.uk>
Date:   Mon Feb 16 00:59:10 2004 -0800

    [PATCH] USB: ftdi_sio new PIDs and name fix for sysfs
    
    This patch adds a couple of new PIDs for the ftdi_sio driver and
    changes the name of the USB-UIRT device to avoid the "/" character,
    as that appears as a directory separator in the sysfs namespace.

commit 5baa19b35b542a602753776c11f2aa42ccbf2ad3
Author: Paulo Marques <pmarques@grupopie.com>
Date:   Mon Feb 16 00:55:03 2004 -0800

    [PATCH] USB: fix usblp.c
    
    The line that IMHO triggers the bug is this:
    
    "writecount += usblp->writeurb->transfer_buffer_length;"
    
    It uses "usblp->writeurb->transfer_buffer_length" before initializing it,
    assuming that it will be zero on the first run. If it is not zero, but instead
    random *negative* garbage from memory, the loop will start printing endless data
    from user-space data.

commit 2a62f1e125f74c5afcb3075f1c9e656ffdf14802
Author: David Brownell <david-b@pacbell.net>
Date:   Mon Feb 16 00:52:13 2004 -0800

    [PATCH] USB: EHCI updates (mostly periodic schedule scanning)
    
    [USB] EHCI updates
    
    Update periodic schedule scanning
    	- fix shutdown sometimes-hangs (Bernd Porr)
    	- resolve the "whole frame at once" FIXME
    	- try harder to avoid rescanning
    	- don't delegate interrupt qh handling to a buggy helper routine
    	- describe more of the relevant iso tuning parameters
    
    One-liners:
    	- URB_NO_INTERRUPT hint affects ISO
    	- show correct data toggle in sysfs debug files
    	- FIXME is resolved by Linus' 20msec delay

commit 76a96102c602d56504f814b6918b203c36f4fd01
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Sun Feb 15 05:10:42 2004 -0800

    [SCTP] Revert back to use kmalloc() for ssnmap allocs of sizes < 128K.

commit 388621a05ff34060d83a2c7e19911272ac395e05
Merge: 93b6e8d... 1dfbdec...
Author: Len Brown <len.brown@intel.com>
Date:   Sat Feb 14 14:40:29 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.3
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.3

commit 8c9383c44541f2450c7740c26f71162e6680ef57
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Feb 13 22:58:30 2004 -0800

    [TG3]: Define MBOX_WRITE_REORDER flag to zero on non-x86.

commit 091a8aa4ba0278fe28380096822b2890a832defe
Author: Christoph Hellwig <hch@lst.de>
Date:   Fri Feb 13 22:46:44 2004 -0800

    [SUNGEM]: Kill unused variable on ppc.

commit 6f98731b0478d3cc3850887d943acfaeea1635bc
Author: Wensong Zhang <wensong@linux-vs.org>
Date:   Fri Feb 13 22:36:44 2004 -0800

    [IPVS] update the version number of code to 1.2.0

commit 077813d7952a30ec9e5c12666f30b7c9cecb6499
Author: Wensong Zhang <wensong@linux-vs.org>
Date:   Fri Feb 13 20:51:56 2004 -0800

    [IPVS] retry to run kernel_thread when memory is temporarily exhausted

commit cdcb596bfaace8cd9e589adf231728bddbd8cbc0
Author: Wensong Zhang <wensong@linux-vs.org>
Date:   Fri Feb 13 20:51:17 2004 -0800

    [IPVS] remove the superfluous call of waitpid in sync code

commit 0511ef761996c81fecf832006408e640a38e5888
Author: Petri T. Koistinen <petri.koistinen@iki.fi>
Date:   Fri Feb 13 20:47:58 2004 -0800

    [WAN]: Kconfig clean-up and update URL links.

commit 3fb7d3d2fd598d5a8c3bd6050db6b2f7014a86bb
Author: François Romieu <romieu@fr.zoreil.com>
Date:   Fri Feb 13 20:41:51 2004 -0800

    [IRDA]: In stir4200 driver, defer netif_start_queue() until device opening succeeds.

commit 383624918bb7b6fdfc7f8d1c4a74f258f7357bcf
Author: François Romieu <romieu@fr.zoreil.com>
Date:   Fri Feb 13 20:41:16 2004 -0800

    [IRDA]: Fix error return status in stir4200 driver.
    
    If stir_reset() succeeds, stir_net_open() must not return a
    success status code for every failure until irlap_open().

commit f6eb81394b8e1573ee5c30f601bc7015781aae2f
Merge: cd0e8af... cab892f...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Fri Feb 13 19:39:40 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/network-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit 93b6e8d6c54c44acd923f44b876cc686ee6bc2d1
Merge: bb49d1d... f9222c3...
Author: Len Brown <len.brown@intel.com>
Date:   Fri Feb 13 13:39:09 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.2
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.3

commit f9222c3bbfce50aabf4ea66aebb8f765d949aff8
Merge: 039d878... c86eccb...
Author: Len Brown <len.brown@intel.com>
Date:   Fri Feb 13 13:32:31 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.1
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.2

commit c86eccb1642453c4f46bdbe21f7d591a0522125e
Author: Len Brown <len.brown@intel.com>
Date:   Fri Feb 13 13:09:08 2004 -0500

    [ACPI] ACPICA 20040211 udpate from Bob Moore
    
    Completed investigation and implementation of the
    call-by-reference mechanism for control method arguments.
    
    Fixed a problem where a store of an object into an indexed
    package could fail if the store occurs within a different
    method than the method that created the package.
    
    Fixed a problem where the ToDecimal operator could return
    incorrect results.
    
    Fixed a problem where the CopyObject operator could fail
    on some of the more obscure objects (e.g., Reference objects.)
    
    Improved the output of the Debug object to display buffer,
    package, and index objects.
    
    Fixed a problem where constructs of the form "RefOf (ArgX)"
    did not return the expected result.
    
    Added permanent ACPI_REPORT_ERROR macros for all instances of the
    ACPI_AML_INTERNAL exception.

commit 6981e211eccd2e4d70ee2590b3342764c4760dbb
Author: Len Brown <len.brown@intel.com>
Date:   Fri Feb 13 13:02:56 2004 -0500

    [ACPI] revert previous AML param patch for ACPICA update

commit cd0e8af5454a59958c753071cd63576a8e83301e
Author: Julian Anastasov <ja@ssi.bg>
Date:   Fri Feb 13 07:20:47 2004 -0800

    [IPV4]: Add configurable restriction of local IP announcements in ARP requests.

commit 9e69c961b73f205cbc47acec971c673c649db76e
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Feb 13 07:13:01 2004 -0800

    [TG3]: Abstract out mailbox workarounds into tw32_{rx,tw}_mbox().

commit 8daca41052eee6c4b88e0313653f520745150d28
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Fri Feb 13 07:06:58 2004 -0800

    [IPSEC]: Move hardware headers for decaped packets.
    
    Move the hardware header so that it appears next to the payload for AF_PACKET
    sockets.

commit ecaaedc504f614ae7f9b39fa7f7568b1d7e9cc0c
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Fri Feb 13 07:05:21 2004 -0800

    [IRDA]: Forgot to add stir4200.c in previous commit.

commit 5b76757a6e20f2f982363b072fe312c91cf9fe7b
Author: Jean Tourrilhes <jt@bougret.hpl.hp.com>
Date:   Fri Feb 13 07:04:17 2004 -0800

    [IRDA]: Add stir4200 driver.
    
    	After a long maturation, this is time to send you the latest
    version of the stir4200 USB driver. Initially started by Paul Stewart,
    modified by Martin Diehl and me, and later partially rewriten by
    Stephen Hemminger.
    	The hardware has many quirks. This is the first version that
    work reliably at SIR and mostly work at FIR. We may never get optimal
    operation from this hardware due to its pecularities, but at least its
    now usable.

commit 4d99960abfb3803ec8643a5c0314ba8e74fac736
Merge: d0d0b2d... e4ce6d8...
Author: Dave Jones <davej@delerium.codemonkey.org.uk>
Date:   Fri Feb 13 12:15:27 2004 +0000

    Merge delerium.codemonkey.org.uk:/mnt/nfs/sepia/bar/src/kernel/2.6/trees/bk-linus
    into delerium.codemonkey.org.uk:/mnt/nfs/sepia/bar/src/kernel/2.6/trees/cpufreq

commit e4ce6d8f34bb31ea0d07877c8d971d527a0f068e
Author: Dave Jones <davej@redhat.com>
Date:   Fri Feb 13 12:13:32 2004 +0000

    [CPUFREQ] Update URL.

commit 0ebd507f14692469c633f39a393a979810f929cc
Merge: d0d0b2d... e2d231a...
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Feb 12 07:45:40 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/ieee1394-2.6

commit 1af2511dbe431e58e446d3f53945eec21109bf0c
Merge: 9eb08f7... 20b02dd...
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Thu Feb 12 01:39:44 2004 -0600

    Merge jfs@jfs.bkbits.net:linux-2.5
    into austin.ibm.com:/shaggy/bk/jfs-2.5

commit ebec1711a9e2f172701127e9d41ab79065b34ad8
Merge: d0d0b2d... 67fa3c7...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Wed Feb 11 22:31:02 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/network-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit e2d231a97be7097baa54d0a2137bae868cefa7f4
Merge: 9eb08f7... 96df331...
Author: Ben Collins <bcollins@debian.org>
Date:   Thu Feb 12 00:26:03 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/ieee1394-2.6

commit 67fa3c7ecf23ae86d727d3b58048ff133c01398e
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Wed Feb 11 20:05:24 2004 -0800

    [IPV6]: Kill 64-bit warnings in ndisc.c

commit 0f052693328e2557c793e7cde66191e876423966
Author: David Stevens <dlstevens@us.ibm.com>
Date:   Wed Feb 11 19:58:30 2004 -0800

    [IPV6]: Except MLD packets from source filtering.
    
    Co-authored with Yoshfuji Hideaki.

commit 20b02dda60d6910c8381936ddc7aead6cedf4d2d
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Wed Feb 11 21:23:55 2004 -0600

    JFS: Don't do filename translation by default
    
    Due to its roots in OS/2, JFS has always tried to convert pathnames
    into unicode.  Unfortunately, it never had a reliable idea of what
    the incoming character set was, so it defaulted to CONFIG_NLS_DEFAULT.
    
    This behavior was confusing and many users have requested that JFS
    have a more sane behavior.   This patch changes the default behavior
    to store the incoming bytes directly without translation.  This is
    consistent with the behavior when the default value of
    CONFIG_NLS_DEFAULT (iso8859-1) was defined.  The default behavior
    can be overridden by using the iocharset mount option.

commit 297aeda72f8aa8cb6d46f5b2fbfdf7a3ae4aed58
Author: Petri T. Koistinen <petri.koistinen@iki.fi>
Date:   Wed Feb 11 06:04:26 2004 -0800

    [HAMRADIO]: Fix URLs in Kconfig.

commit 5f30af8678297fea0e58f4ed4a5663d1506de168
Author: Petri T. Koistinen <petri.koistinen@iki.fi>
Date:   Wed Feb 11 06:03:43 2004 -0800

    [IRDA]: Fix URLs in Kconfig.

commit c9e72388f19ed7e4600ee0d31c46ad5217c284d7
Author: Hideaki Yoshifuji <yoshfuji@linux-ipv6.org>
Date:   Wed Feb 11 05:10:23 2004 -0800

    [IPV6]: Kill remaining in6_u.u6_addrX uses.

commit c197a4034ddec97ba85059efc096942ce27f554e
Author: Jan Kasprzak <kas@informatics.muni.cz>
Date:   Wed Feb 11 03:44:47 2004 -0800

    [NET]: Do not send negative 2nd arg to skb_put().
    
    With help from Yoshfuji Hideaki.

commit a1c1b176c3391cd6dbde79237e49c68db6b2472f
Author: Miguel Freitas <miguel@cetuc.puc-rio.br>
Date:   Wed Feb 11 03:31:09 2004 -0800

    [NET_SCHED]: Fix slot leakage in SFQ scheduler.

commit 04a9f0d7eef4e4dd3cc2de9746c8d8a543071ea7
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Wed Feb 11 01:35:46 2004 -0600

    JFS: get_UCSname does not need nls_tab argument
    
    This is a minor code cleanup.  get_UCSname can get nls_tab by
    following the dentry to the superblock.  This makes the calling code
    simpler and prettier.

commit 6f9a6c307f26762b3c37d71e804849fe98c2b5a8
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Tue Feb 10 20:20:49 2004 -0800

    [NET]: Fix ethtool oops if device support get but not set ringparam.

commit dbdb44de62dc55b9b8828d8b06eb692141f70ff9
Author: Hideaki Yoshifuji <yoshfuji@linux-ipv6.org>
Date:   Tue Feb 10 20:18:35 2004 -0800

    [IPV6]: Spelling corrections, and remove some XXX's

commit e669487098ec3d8ef0dd1b1d763b7a847258e7e1
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Tue Feb 10 20:16:41 2004 -0800

    [PKTGEN]: Fix unintentional unaligned access.

commit aff4f9148dac197a8133cf978afa124eb91e1c6a
Author: Hideaki Yoshifuji <yoshfuji@linux-ipv6.org>
Date:   Tue Feb 10 20:14:10 2004 -0800

    [IPV6]: Clean up ndisc printks.

commit 5850f935a3abf96e37a69bc0acc31f3c1c8a0f04
Author: Sebastian Henschel <linux@kodeaffe.de>
Date:   Tue Feb 10 19:20:02 2004 -0800

    [NET]: Mention tuxmobil.org in drivers/net/Kconfig.

commit c9607cc01de44e26cef9088cde644467d9c1eb5c
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Tue Feb 10 18:42:16 2004 -0800

    [TG3]: Reset GRC, if necessary, before DMA test.
    
    With help from Michael Chan.

commit e38f27f02c60bb0aa34187cb31501877222beae9
Author: Hideaki Yoshifuji <yoshfuji@linux-ipv6.org>
Date:   Tue Feb 10 18:38:41 2004 -0800

    [NET]: Kill bogus kmem cache alignment in neigh_table_init().

commit a52dca4ece3b555434e8b04ae0dd7c4f196823d9
Author: Kazunori Miyazawa <kazunori@miyazawa.org>
Date:   Tue Feb 10 18:37:48 2004 -0800

    [IPV6]: Unify ipv6 output routine.

commit 96df331043200fe5c3a692a36ddf38b0151689fa
Merge: 29fc451... 7b080b4...
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Feb 10 04:33:02 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/ieee1394-2.6

commit 29fc45100f237b1b2189eef83ffbf0ae8721d0b5
Merge: 524a2ba... 863c0e9...
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Feb 10 03:16:42 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/ieee1394-2.6

commit 524a2ba71bb9f60fd16f56bab7d8294857f25e8d
Merge: 6aedddb... 0d6deac...
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Feb 9 23:35:46 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/ieee1394-2.6

commit 3783ad83e4a96c83d49c922122191d2304bae0a5
Author: Matthew Wilcox <willy@debian.org>
Date:   Sat Feb 7 21:09:03 2004 -0800

    [TG32]: Use pci_get_slot() to find 5704 peers, to handle domains properly.

commit 41b2b941b02285477223b6d0fc4153560c1645c5
Merge: 0c92609... 0857cb9...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Feb 6 14:05:44 2004 -0500

    Merge

commit 0c92609a946c935ca95af41f13e999dca5eec42e
Merge: f4d8611... 3980a81...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Feb 6 14:00:35 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/netdev-2.6/netdev-alloc-6

commit fddafab1fa9a318b86d186d45946c167fef5c8ef
Merge: f4d8611... 3649733...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Feb 6 13:43:42 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/netdev-2.6/bonding-2

commit 6bea918e38edab0da2dac3a537e63ac31a9ad424
Merge: f4d8611... dd47ba7...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Feb 6 13:38:05 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/netdev-2.6/e100-2

commit 0d6deac7db9db8c24795b7b91ff0a91e979161bc
Merge: 6791a22... 1c67e74...
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Feb 4 23:30:10 2004 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into debian.org:/usr/src/kernel/ieee1394-2.6

commit 1c67e74a6fdb0ebde7f8d756a4d2abfd051cfb3f
Author: Ben Collins <bcollins@debian.org>
Date:   Wed Feb 4 03:48:21 2004 -0500

    IEEE1394(r1118): Addition of new config-rom processing code

commit f9bde19b06c1349c5656d11f516f74ea7389ec0d
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Jan 30 13:27:48 2004 -0500

    [IA32] VIA C3 crypto/RNG bits
    
    * Enable ACE (crypto) and RNG units on bootup.
    * Do not disable RNG unit when unloading hw_random module.
    * New bits listed in /proc/cpuinfo: rng_en, ace, ace_en
    * Add ACE-associated constants to cpufeature.h

commit 2cb965e22079c0c9bb4536edf0dc652e924810f8
Author: Richard Henderson <rth@are.twiddle.net>
Date:   Wed Jan 28 19:31:04 2004 -0800

    [ALPHA] Mark exit_code before waking process for SINGLESTEP.
    From Aneesh Kumar <kvaneesh@yahoo.com>.

commit 0857cb90d90a090edc6eb67c8f0363bf0c31e36d
Merge: c2ba4cf... 3980a81...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Jan 19 10:03:55 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/netdev-alloc-6
    into redhat.com:/spare/repo/netdev-2.6/netdev-alloc-7

commit 3980a81c02155fdacfb040f6bf57203989964788
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Mon Jan 19 08:58:13 2004 -0500

    [wan] apply hdlc cleanups to new driver pci200syn

commit c2ba4cf883d7e7bed77555dd563623424bccbe73
Merge: c4e1d17... 60964cd...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Jan 19 08:44:37 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/netdev-alloc-6
    into redhat.com:/spare/repo/netdev-2.6/netdev-alloc-7

commit c4e1d17e57d4c8768c17c61acf6d70be49f86ff4
Merge: 5747eaf... c841694...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Jan 19 08:41:32 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/netdev-alloc-5
    into redhat.com:/spare/repo/netdev-2.6/netdev-alloc-6

commit dd47ba75ff95145ae288a7e512d1f381674fbaf9
Merge: a295f3b... ab5ad35...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Jan 19 08:11:34 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/e100-1
    into redhat.com:/spare/repo/netdev-2.6/e100-2

commit 3649733b0e2883dd3df62fed7780561db27a6e7a
Merge: 61b6a04... 7c67230...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Jan 19 08:02:01 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/bonding-1
    into redhat.com:/spare/repo/netdev-2.6/bonding-2

commit ab5ad3571cb1381f0d21d09f70d7cf29f43b9cfc
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Tue Jan 13 05:30:03 2004 -0500

    [netdrvr e100] copyright + trailing blanks + misc
    
    * Misc: 2004 copyright, remove trailing white space, remove some
      unused symbols.

commit 0b69e32d4c126f1cc588858d59744c8ae3189ef9
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Tue Jan 13 05:29:55 2004 -0500

    [netdrvr e100] fix slab corruption
    
    * Addresses two problems, both resulting in slab corruption: 1)
      driver indicating skb while HW is still DMA'ing (ouch!), 2)
      driver not stopping receiver activity before downing i/f.
      Fix is 1) wait for RNR (receiver-no-resources) interrupt
      before restarting receiver, 2) reseting HW to stop receiver
      before stopping i/f.
    
    This issue was also reproducible with eepro100.  You need to turn off
    the copybreak, and reduce the number of descriptors to 4.  Then bang on
    it with pktgen with 60-byte packets, with slab debugging enabled.
    
    For e100-3.0.x, the issue was a lot easier to reproduce with NAPI,
    because NAPI polls independently of where the HW is at, so it's easier
    for us to catch HW in the middle of finishing off the last Rx (as
    it runs out of resources) and asking HW if it's idle.  Checking the
    RU status is not-reliable!  That's the problem, and the mistake both
    eepro100 and e100-3.0.x were making.
    
    The solution is rely on RNR interrupts as the only indicator that HW is
    truly done, and then we're ready to restart the RU.  We should only get
    RNR interrupts when we overrun the Rx ring.  With NAPI, if the ring is
    overrun, we'll post RNR, but not restart the RU until we're out of
    polling.  Without NAPI, we'll restart the RU as soon as we get RNR.
    
    I ran some 24-hour tests with and without NAPI (with 4 descriptors)
    and didn't get any corruption.  Prior to this patch, I would get many
    errors about slab corruption.
    
    Also, the patch is larger than you might expect, but I initially thought
    I was doing something wrong with managing the <list.h> ring, so I that
    code using old fashion double-link list.  The ring management wasn't the
    problem, after all, but I prefer the old-fashion d-link implementation
    as it's easier to read.

commit 60964cda04b35fc5b7449ae052cc08604507a5c5
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Jan 12 07:27:00 2004 -0500

    Eliminate ancient and unused include/linux/{if_pppvar,ppp}.h.
    
    Well, unused except for one silly constant in isdn_ppp.c.

commit 651164b09a5fee440aa91c560580dfdad2261d6e
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 15:19:14 2004 -0500

    Remove unused and invalid 'struct ppp' definition from if_pppvar.h.

commit 783ae26ddd3283da21df773fa24be399d64b550c
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Sat Jan 10 10:16:19 2004 -0500

    [PATCH] bugfixes for dgrs.c
    
    Update the RightSwitch dgrs.c driver for net-drivers-2.5-exp (2.6.1-rc3)
    to resolve some of the outstanding cruft there.  Al may have a better/newer patch.
    
    * Don't copy net_device structure on slave device!  This won't work
      because of state variables in structure.
    * make sure and request_regions before doing i/o to the card
    * use cpu_relax rather than barrier while spin waiting
    * don't use dev->init to do the probing work because hard to get unwind
      correct
    * Use new pci/eisa probing model, don't search the bus directly
      Beneficial side effect, don't need to keep on device list anymore.
    * Be more careful about releaseing resources in error paths
    
    Compiled and module loaded/unloaded, but don't have this hardware.

commit b49822d02760ccc9dbf3c7fe0f1235cf4d2df136
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:24:27 2004 -0500

    [netdrvr s390/qeth] Alloc fixes

commit d1eae2243d5d8c34366766d16cc71236180b7d31
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:23:59 2004 -0500

    [netdrvr shaper] fix double-free
    
    Fix for double-free (we do explicit free_netdev() after unregister_netdev()
    in shaper.c)

commit 48a6c3c6e1bfdb9119b84cb62ea8aa9df7030455
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:23:34 2004 -0500

    [netdrvr dvb/dvb_net] fixes
    
    Don't leave dvbnet->device[...] dangling after we free the sucker

commit 39256b2a9af04779f225b9bf6fd3ec21525671e2
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:22:49 2004 -0500

    [netdrvr arch/uml] leak fix

commit d476310218f93c891ba857280986b27da7b656df
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:21:37 2004 -0500

    [netdrvr saa9730] fix double-free
    
    Fixed double-free in saa9730.c (caller of that function does free_netdev()
    itself if we return an error).

commit eb551f23ee5149c0bd86da8b447dbdce08965d51
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:21:02 2004 -0500

    [netdrvr arm/am79c961] Fix for IO-before-request_region race

commit 94e51fce3261e34f6933788040280eeb8f7c7366
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:20:29 2004 -0500

    [wan] leak fixes in hostess_sv11, lapbether

commit 3b83c0aceb64e6b6b5dea1a8b75369a0ba080b1f
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:19:40 2004 -0500

    [netdrvr s390/lcs] Leak fix
    
    lcs_cleanup_channel() is not enough there, we need full
    lcs_cleanup_card() (e.g. to free netdev)

commit ec5756af0f43e83007fc406169f488bbccbcbcc7
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:19:11 2004 -0500

    [wireless orinoco] check alloc_etherdev for failure

commit a559fb9d08fac5f923f89620dcda87247f0da343
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:18:42 2004 -0500

    [netdrvr apne] resource leak fix

commit 2ecde7c20509c39f8c67de13d2411338654e599d
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:18:06 2004 -0500

    [netdrvr 3c509] Leak fixed

commit cf44c72b98fc9cc18b9bdc07227024dacefa2506
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:17:33 2004 -0500

    [netdrvr acenic] Race and leak fixes

commit fc6bda5255e23744c28940db691b5566de365463
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:16:58 2004 -0500

    [all over] more kfree -> free_netdev
    
    Remaining kfree -> free_netdev replacements (easy part of free_netdev() fixes)

commit 021c59c4eff1f41cb28ede14173cc5aeba1ea2f9
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:16:08 2004 -0500

    [netdrvr isa-skeleton] cleanups and fixes
    
    isa-skeleton.c got the same changes as actual ISA drivers - dynamic allocation,
    leak fixes, clobbering fixes, fix for IO-before-request_region().

commit bb694da8da78d3e985d88b38cced0862f04b108e
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:15:29 2004 -0500

    [wan sdla] Fixed leaks and double-free

commit 12ea7c9d7a82fc9efd5df468a43e382dad5f78c8
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:15:06 2004 -0500

    [netdrvr fec] switched to sane allocation.  It still leaks on failure exits, though.

commit 617984612249bce022609b2415c9be7f337f6ad3
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:14:14 2004 -0500

    [netdrvr s390/netiucv] partially sanitized wrt allocation

commit 08ed5ef6549310b61472ca258a4d11ea6b3a4f13
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:13:39 2004 -0500

    [wireless airo] switched to sane allocation.

commit c8416949af58b2cb8997e186063d1ceaca1a26c8
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:09:14 2004 -0500

    [netdrvr tun] Killed bogus ->init()

commit fa3b27499ceeca4d3b988c85447ad451b8ed3960
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:08:47 2004 -0500

    [wan sealevel] Plugged a leak

commit be5410725bf931e6470f6ec94c96ba1055c64f10
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:08:20 2004 -0500

    [wan sbni] sane net_device allocation; plug a bunch of leaks
    
    Plugged a bunch of leaks in sbni.  Replaced check_region() with intended
    request_region() in pci probe (BTW, that bugger should be turned into
    normal PCI driver at some point).

commit bf3c0850aa2d0579f744c822366f6d343bc94974
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:07:29 2004 -0500

    [wan hostess_sv11] sane net_device allocation
    
    Sane allocation in sv11.  Switched it to SET_MODULE_OWNER(), while we are
    at it.  Fixed a leak on exit and destroy-before-unregister race.

commit 63f3ca28b5d7aada1392379f78ded7da213edd72
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:06:53 2004 -0500

    [wan hdlc_fr] Switched allocation of net_device to alloc_netdev().

commit ec47df588c61d4271223c302be770b68b2fcbf27
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:06:22 2004 -0500

    [wan hdlc] kill embedding of struct net_device
    
    Now we can kill the embedding of net_device into hdlc_device.  Indeed,
    all instances of hdlc_device are created by alloc_hdlcdev() and nothing
    uses hdlc->netdev directly.  So we can
            * remove hdlc->netdev
            * have alloc_hdlcdev() implemented via alloc_netdev() with the rest
    of hdlc_device as private part of net_device.
            * replace free_hdlcdev() with free_netdev().
            * have dev_to_hdlc(dev) simply return netdev_priv(dev).

commit 705ddf6082f77fc71bea763d50d12748b9d3befb
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:05:38 2004 -0500

    [wan hdlc] removal hdlc_to_dev()
    
    No more users, we may remove it.

commit 652dce018cedf3b3c8b25bb509e6c73114ee457e
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:05:06 2004 -0500

    [wan dscc4] embedded struct removal
    
    Killed embedded hdlc in dscc4 (same as for other drivers).  Fixed a
    setup-after-registration race.
    
    That was the last user of hdlc_to_dev(); killed.

commit 5f3dec68e506a1d0b2f432e817e424d1b37fadca
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:03:28 2004 -0500

    [wan farsync] embedded struct hdlc_device removal
    
    Removed embedded hdlc in farsync (same as for wanxl and friends).
    setup-after-registration race fixed.

commit 184c5b5e7375941043ed0c60a82cbefe25b54e57
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:02:41 2004 -0500

    [wan pc300]  use alloc_hdlcdev()/free_hdlcdev().  Leak fixed

commit 0a5519dfebb9dab8c32b39d35b475c05644053a5
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:02:00 2004 -0500

    [wan hdlc] kill embedded struct in various drivers
    
    Killed embedded hdlc in hd6457x.c derivatives (same as wanxl in previous
    patch)

commit 9f361f7a9a981cb0840c4966b372d5acc0ee1b0f
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:01:23 2004 -0500

    [wan hdlc] new private struct pointer in hdlc_device, and helpers for it
    
    New field in hdlc_device: void *priv;
    New helpers:
            struct net_device *alloc_hdlcdev(priv) allocates hdlc, sets ->priv and
    returns pointer to hdlc->netdev
            free_hdlcdev(dev) takes such pointer and frees its hdlc.
    
    wanxl switched to use of those; instead of embedding hdlc into card->ports[]
    we allocate it separately right after card had been allocated and store pointer
    to hdlc->netdev in card->ports[]->dev.  Freeing is done just before freeing
    card.  Pointer back to card->ports[] is stored in hdlc->priv.  port_to_dev()
    and dev_to_port() rewritten in the obvious way; by now the rest of driver
    doesn't care whether hdlc is embedded or not - everything uses port_to_dev()
    and dev_to_port().
    
    That killed embedded hdlc replacing it with pointer to net_device.  Fairly
    similar work will be done in the next few patches for other drivers.
    
    Additionally, setup-after-register and free_irq()-before-unregister races
    had been fixed.

commit 070c8cb2e1cb775848b65cc4aeacb99dfdc3c9b3
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 09:00:10 2004 -0500

    [wan hdlc] switch register_hdlc_device() to take net_device arg
    
    register_hdlc_device()/unregister_hdlc_device() switched to net_device.
    Now all remaining callers of hdlc_to_dev() are isolated and we can
    start killing them.

commit e7c0af6d9a1a2ec3ab82461ea8e17b122aaa1737
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:57:37 2004 -0500

    [wan dscc4] Uses of ->hdlc and hdlc_to_dev() encapsulated into dscc4_to_dev().

commit 0108ce25029474be8a46c8dbb0f3e97657e8478d
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:56:58 2004 -0500

    [wan hdlc] new hdlc_stats() helper
    
    New inlined helper - hdlc_stats().  A lot of places had it spelled out;
    replaced with calls.

commit 06aef211b47b0c76b2ccd9f66362966674fa66a5
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:56:26 2004 -0500

    [wan pc300] more direct use of net_device
    
    In pc300 replaced dev->hdlc with dev->dev (hdlc to net_device).  Killed a
    bunch of ugliness in pc300_tty.c, killed hdlc_to_dev() uses.

commit 61fd4dc7849a43ddcd4785e8f88b2b6ee2d8d6b0
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:55:30 2004 -0500

    [wan hdlc] switch internal ioctl dispatch to net_device
    
    Switched remaining ioctls to net_device, killed a bunch of hdlc_to_dev()
    and killed hdlc_to_name().

commit b9c58884573c4c87b718d0c64673bc3c3d876712
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:54:53 2004 -0500

    [wan wanxl] eliminated hdlc_to_name() uses and a bunch of port->hdlc ones.

commit f31b6d7619dc3e1179bdf65813cf01192a4c62aa
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:54:24 2004 -0500

    [wan hdlc_x25] eliminated hdlc_to_dev() and hdlc_to_name() uses.

commit aa7815effbd16d0a1b59c60e176d1dee29ec7fb7
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:53:51 2004 -0500

    [wan hdlc] hdlc_fr: eliminated ->netdev, hdlc_to_dev() and hdlc_to_name() uses.

commit 8f3c812a68b7948f71341c89ead5da46473ca9bc
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:53:17 2004 -0500

    [wan hdlc] hdlc_cisco: killed ->netdev, hdlc_to_name() and hdlc_to_dev() uses.

commit de73d3b3fb87746cb1fc30ad6d9d6ed11c12d92a
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:52:47 2004 -0500

    [wan hdlc] hdlc->proto.*() switched to net_device.
    Eliminated a bunch of ->netdev and hdlc_to_dev() uses.

commit d505f4013ec8cf6aeba61b70fff7da7f4a18d9a5
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:51:07 2004 -0500

    [wan farsync] Eliminated a bunch of port->hdlc and hdlc_to_dev() uses

commit 40881456a3fb1b34ad3974d70a0a2c098be93614
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:50:28 2004 -0500

    [wan hdlc] hdlc->attach() switched to net_device.

commit 11b2884f27c256b4603408e2b242191b986fefe7
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:49:55 2004 -0500

    [wan hdlc] hdlc_set_carrier() switched to net_device.

commit 6dabb069f158b372d850d8d65219551ad6ea3512
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:49:23 2004 -0500

    [wan hdlc] switch sca_xxx() to use net_device
    
    More hd6457x.c massage: sca_open(), sca_close(), sca_dump_rings() switched
    to net_device.  Bunch of hdlc_to_port() eliminated in favor of dev_to_port().

commit 6b85b41be496cd25788be6080ed529ceb2ab3bd1
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:48:26 2004 -0500

    [wan hdlc] new port_to_dev() helper
    
    New helper in hd6457x.c: port_to_dev().  A bunch of port->hdlc eliminated.

commit d5dc249cccf4b90a7e002b16da178c773a6045e7
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:47:42 2004 -0500

    [wan hdlc] hdlc_close() switched to net_device.

commit 24b84925ce61a1bf54925563845f58ba496a89c3
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:44:19 2004 -0500

    [wan hdlc] hdlc_open() switched to net_device
    
    Beginning of hdlc fixes.  hdlc_open() switched from hdlc_device to net_device.

commit b4629aeb6694a86c9aa1779a11e209ef012fef96
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:39:13 2004 -0500

    [wan lapb] kill now-unused custom token container
    
    Nothing is using lapb->token anymore; removed, along with the old "token"
    argument of lapb_register().

commit b200a2aa3e8dc0fda9b7462c5d0b94dff8e05518
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:38:24 2004 -0500

    [wan lapb] Printks switched from %p lapb->token to %p lapb->dev.

commit a01d4ab4699e5947109d09f71067631f3bcac5b8
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:37:28 2004 -0500

    [wan lapb] switch to use net_device instead of custom token
    
    lapb functions that used to take a token to select lapb_cb they'll deal with
    are switched to getting net_device instead.  Callbacks switched to using
    lapb->dev instead of lapb->token.

commit c360d0a60e57217733e00b5ad7c4cf3a94a2b07e
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Sat Jan 10 08:36:15 2004 -0500

    [wan lapb] beginning of cleanups
    
    Beginning of lapb cleanups: lapb_register gets net_device along with the
    "token" and it gets stored in lapb_cb (token argument will die later).

commit 7c672301dc3a29b7be50b58e3ef067c8825f6677
Author: Amir Noam <amir.noam@intel.com>
Date:   Sat Jan 10 06:47:03 2004 -0500

    [PATCH] [bonding 2.6] Use the per-bond values of all remaining parameters
    
    Change usage of the all remaining global parameters to the per-bond
    values.

commit e79c79719138e9f94ca6d2442cafd0a61242e51f
Author: Amir Noam <amir.noam@intel.com>
Date:   Sat Jan 10 06:46:50 2004 -0500

    [PATCH] [bonding 2.6] Use the per-bond value of the bond_mode parameter
    
    Change usage of the global 'bond_mode' parameter to the per-bond
    value.

commit bfdb52716058674476ba321d960c68bae7e9a9cd
Author: Amir Noam <amir.noam@intel.com>
Date:   Sat Jan 10 06:46:38 2004 -0500

    [PATCH] [bonding 2.6] Save parameters in a per-bond data structure
    
    - Save the bonding parameters in a per-bond data structure.
    - Move all handling of the insmod parameters to bond_check_params().
    - Fix the handling of some warning messages regarding parameter use.

commit ed68e52b93c1c48d3055d49cdfc2b887e0a70e20
Author: Shmulik Hen <shmulik.hen@intel.com>
Date:   Sat Jan 10 06:46:26 2004 -0500

    [netdrvr bonding] trivial - Update comment blocks and version field
    
    Update comment blocks, version field and copyright years to match all
    the recent changes that were accepted into 2.4/2.6.

commit aca9e592c503fc818d1869ffbebd080b773c37f2
Author: Amir Noam <amir.noam@intel.com>
Date:   Sat Jan 10 06:45:35 2004 -0500

    [PATCH] [bonding 2.6] Fix compilation warning in bond_alb.c
    
    The IPX_TYPE_* constants and ipxhdr.ipx_type are u8 values, so we
    shouldn't use __constant_htons().

commit 3e1b827f78eaafa0e662da7853ba5a5f247ed863
Author: Amir Noam <amir.noam@intel.com>
Date:   Sat Jan 10 06:45:24 2004 -0500

    [netdrvr bonding] fix build breakage

commit 206fb666b709fd51ebc9b944f8bf5dd251e39b3a
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Sat Jan 10 06:44:01 2004 -0500

    [netdrvr e100] netpoll + fixes to speed/duplex forced settings
    
    * Preserve forced speed/duplex settings during close/open sequence.
    * Reset PHY when going from autoneg to forced speed/duplex settings
      using ethtool.
    * Add netpoll support.

commit 660e5988158c8ef1b9861178e4c1b5addd11f660
Author: Amir Noam <amir.noam@intel.com>
Date:   Sat Jan 10 06:41:26 2004 -0500

    [netdrvr bonding] Add support for slaves that use ethtool_ops
    
    When collecting link information from slaves via ETHTOOL, first try
    using the relevant ethtool_ops functions.

commit bb57d4bb51b3ed8e9480a6c21637d2468bac112c
Author: Amir Noam <amir.noam@intel.com>
Date:   Sat Jan 10 06:41:17 2004 -0500

    [netdrvr bonding] Releasing the original active slave causes mac address duplication
    
    When releasing the active slave in TLB/ALB modes,
    bond_alb_deinit_slave() must be called before trying to select a new
    active slave.

commit 37a2ab5037ce57dbbb58a1ba23c53f5643cb710c
Author: Amir Noam <amir.noam@intel.com>
Date:   Sat Jan 10 06:41:08 2004 -0500

    [netdrvr bonding] Cannot remove and re-enslave the original active slave
    
    In TLB/ALB modes, when enslaving a slave that has the bond's mac
    address, allow the operation if no other slave has that address.
    
    Should be applied after the cleanup patch set.

commit 00133d8e33d195d55d631a8989bb1a697dbc81c2
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Sat Jan 10 06:25:23 2004 -0500

    [netdrvr e100] include linux/moduleparam.h
    
    Fixes build.

commit 234c25e543042625b9f213055a277af31305d653
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Sat Jan 10 06:19:08 2004 -0500

    [e100] ICH6 IDs + ia64 memcpy fix + module_param
    
    * Add ICH6 device IDs.  Devices funcionally equivalent to supported ICH5
      devices, but new IDs.
    * Fixed unaligned access to casted skb->data (Matt Willcox
      [willy@debian.org]).
    * MODULE_PARM -> module_param
    * Bug printk after register_netdev to identify nic details.
    * misc cleanups.

commit cb44ec319601b25efccb2fb30cf35498b05bebfb
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Sat Jan 10 05:56:28 2004 -0500

    [netdrvr] e100 version 3 (complete rewrite)
